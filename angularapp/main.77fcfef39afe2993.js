"use strict";(self.webpackChunkSalaDeJuegos=self.webpackChunkSalaDeJuegos||[]).push([[179],{2011:(nt,Ie,N)=>{N.d(Ie,{Dh:()=>ee,GT:()=>re,cc:()=>le,hO:()=>Le,on:()=>U,pX:()=>Y,xv:()=>X});var c=N(5e3),Q=N(127),P=N(5813);nt=N.hmd(nt);const ae=["ngOnDestroy"],Y=(Ee,qe,ze,De={})=>new Proxy(Ee,{get:(ve,we)=>ze.runOutsideAngular(()=>{var Ge;if(Ee[we])return(null===(Ge=null==De?void 0:De.spy)||void 0===Ge?void 0:Ge.get)&&De.spy.get(we,Ee[we]),Ee[we];if(ae.indexOf(we)>-1)return()=>{};const He=qe.toPromise().then(oe=>{const W=oe&&oe[we];return"function"==typeof W?W.bind(oe):W&&W.then?W.then(ue=>ze.run(()=>ue)):ze.run(()=>W)});return new Proxy(()=>{},{get:(oe,W)=>He[W],apply:(oe,W,ue)=>He.then(me=>{var ce;const Oe=me&&me(...ue);return(null===(ce=null==De?void 0:De.spy)||void 0===ce?void 0:ce.apply)&&De.spy.apply(we,ue,Oe),Oe})})})}),re=(Ee,qe)=>{qe.forEach(ze=>{Object.getOwnPropertyNames(ze.prototype||ze).forEach(De=>{Object.defineProperty(Ee.prototype,De,Object.getOwnPropertyDescriptor(ze.prototype||ze,De))})})};class J{constructor(qe){return qe}}const ee=new c.OlP("angularfire2.app.options"),X=new c.OlP("angularfire2.app.name");function U(Ee,qe,ze){const ve="object"==typeof ze&&ze||{};ve.name=ve.name||"string"==typeof ze&&ze||"[DEFAULT]";const Ge=Q.Z.apps.filter(He=>He&&He.name===ve.name)[0]||qe.runOutsideAngular(()=>Q.Z.initializeApp(Ee,ve));try{JSON.stringify(Ee)!==JSON.stringify(Ge.options)&&V("error",`${Ge.name} Firebase App already initialized with different options${nt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(He){}return new J(Ge)}const V=(Ee,...qe)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[Ee](...qe)},z={provide:J,useFactory:U,deps:[ee,c.R0b,[new c.FiY,X]]};let Le=(()=>{class Ee{constructor(ze){Q.Z.registerVersion("angularfire",P.q4.full,"core"),Q.Z.registerVersion("angularfire",P.q4.full,"app-compat"),Q.Z.registerVersion("angular",c.q4F.full,ze.toString())}static initializeApp(ze,De){return{ngModule:Ee,providers:[{provide:ee,useValue:ze},{provide:X,useValue:De}]}}}return Ee.\u0275fac=function(ze){return new(ze||Ee)(c.LFG(c.Lbi))},Ee.\u0275mod=c.oAB({type:Ee}),Ee.\u0275inj=c.cJS({providers:[z]}),Ee})();function le(Ee,qe,ze,De,ve){const[,we,Ge]=globalThis.\u0275AngularfireInstanceCache.find(He=>He[0]===Ee)||[];if(we)return function Me(Ee,qe){try{return Ee.toString()===qe.toString()}catch(ze){return Ee===qe}}(ve,Ge)||(ie("error",`${qe} was already initialized on the ${ze} Firebase App with different settings.${Re?" You may need to reload as Firebase is not HMR aware.":""}`),ie("warn",{is:ve,was:Ge})),we;{const He=De();return globalThis.\u0275AngularfireInstanceCache.push([Ee,He,ve]),He}}const Re=!!nt.hot,ie=(Ee,...qe)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[Ee](...qe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(nt,Ie,N)=>{N.d(Ie,{q4:()=>Ol,iC:()=>Fl,HU:()=>Iu,vb:()=>Zc,JM:()=>zs});var c=N(5e3),Q=N(5867),P=N(5861),ae=N(9681),Y=N(2090),re=N(4859),J=N(1877);const ee="@firebase/installations",X="0.5.7",V=`w:${X}`,z="FIS_v2",Ee=new Y.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function qe(C){return C instanceof Y.ZR&&C.code.includes("request-failed")}function ze({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function De(C){return{token:C.token,requestStatus:2,expiresIn:ue(C.expiresIn),creationTime:Date.now()}}function ve(C,I){return we.apply(this,arguments)}function we(){return(we=(0,P.Z)(function*(C,I){const F=(yield I.json()).error;return Ee.create("request-failed",{requestName:C,serverCode:F.code,serverMessage:F.message,serverStatus:F.status})})).apply(this,arguments)}function Ge({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function He(C,{refreshToken:I}){const x=Ge(C);return x.append("Authorization",function me(C){return`${z} ${C}`}(I)),x}function oe(C){return W.apply(this,arguments)}function W(){return(W=(0,P.Z)(function*(C){const I=yield C();return I.status>=500&&I.status<600?C():I})).apply(this,arguments)}function ue(C){return Number(C.replace("s","000"))}function ce(C,I){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,P.Z)(function*({appConfig:C,heartbeatServiceProvider:I},{fid:x}){const F=ze(C),K=Ge(C),ne=I.getImmediate({optional:!0});if(ne){const _t=yield ne.getHeartbeatsHeader();_t&&K.append("x-firebase-client",_t)}const Se={method:"POST",headers:K,body:JSON.stringify({fid:x,authVersion:z,appId:C.appId,sdkVersion:V})},We=yield oe(()=>fetch(F,Se));if(We.ok){const _t=yield We.json();return{fid:_t.fid||x,registrationStatus:2,refreshToken:_t.refreshToken,authToken:De(_t.authToken)}}throw yield ve("Create Installation",We)})).apply(this,arguments)}function he(C){return new Promise(I=>{setTimeout(I,C)})}const Zt=/^[cdef][\w-]{21}$/;function it(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const x=function ht(C){return function wt(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return Zt.test(x)?x:""}catch(C){return""}}function nn(C){return`${C.appName}!${C.appId}`}const rn=new Map;function _i(C,I){const x=nn(C);Wt(x,I),function Bt(C,I){const x=function ei(){return!ir&&"BroadcastChannel"in self&&(ir=new BroadcastChannel("[Firebase] FID Change"),ir.onmessage=C=>{Wt(C.data.key,C.data.fid)}),ir}();x&&x.postMessage({key:C,fid:I}),function Ds(){0===rn.size&&ir&&(ir.close(),ir=null)}()}(x,I)}function Wt(C,I){const x=rn.get(C);if(x)for(const F of x)F(I)}let ir=null;const Mr="firebase-installations-store";let Qi=null;function Xi(){return Qi||(Qi=(0,Y.X3)("firebase-installations-database",1,(C,I)=>{0===I&&C.createObjectStore(Mr)})),Qi}function ot(C,I){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,P.Z)(function*(C,I){const x=nn(C),K=(yield Xi()).transaction(Mr,"readwrite"),ne=K.objectStore(Mr),Ae=yield ne.get(x);return yield ne.put(I,x),yield K.complete,(!Ae||Ae.fid!==I.fid)&&_i(C,I.fid),I})).apply(this,arguments)}function Yn(C){return jn.apply(this,arguments)}function jn(){return(jn=(0,P.Z)(function*(C){const I=nn(C),F=(yield Xi()).transaction(Mr,"readwrite");yield F.objectStore(Mr).delete(I),yield F.complete})).apply(this,arguments)}function ti(C,I){return ro.apply(this,arguments)}function ro(){return(ro=(0,P.Z)(function*(C,I){const x=nn(C),K=(yield Xi()).transaction(Mr,"readwrite"),ne=K.objectStore(Mr),Ae=yield ne.get(x),Se=I(Ae);return void 0===Se?yield ne.delete(x):yield ne.put(Se,x),yield K.complete,Se&&(!Ae||Ae.fid!==Se.fid)&&_i(C,Se.fid),Se})).apply(this,arguments)}function dn(C){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,P.Z)(function*(C){let I;const x=yield ti(C.appConfig,F=>{const K=Ts(F),ne=ga(C,K);return I=ne.registrationPromise,ne.installationEntry});return""===x.fid?{installationEntry:yield I}:{installationEntry:x,registrationPromise:I}})).apply(this,arguments)}function Ts(C){return Vt(C||{fid:it(),registrationStatus:0})}function ga(C,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(Ee.create("app-offline"))};const x={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},F=function jt(C,I){return tt.apply(this,arguments)}(C,x);return{installationEntry:x,registrationPromise:F}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:mt(C)}:{installationEntry:I}}function tt(){return(tt=(0,P.Z)(function*(C,I){try{const x=yield ce(C,I);return ot(C.appConfig,x)}catch(x){throw qe(x)&&409===x.customData.serverCode?yield Yn(C.appConfig):yield ot(C.appConfig,{fid:I.fid,registrationStatus:0}),x}})).apply(this,arguments)}function mt(C){return sr.apply(this,arguments)}function sr(){return(sr=(0,P.Z)(function*(C){let I=yield ki(C.appConfig);for(;1===I.registrationStatus;)yield he(100),I=yield ki(C.appConfig);if(0===I.registrationStatus){const{installationEntry:x,registrationPromise:F}=yield dn(C);return F||x}return I})).apply(this,arguments)}function ki(C){return ti(C,I=>{if(!I)throw Ee.create("installation-not-found");return Vt(I)})}function Vt(C){return function io(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function gr(C,I){return or.apply(this,arguments)}function or(){return(or=(0,P.Z)(function*({appConfig:C,heartbeatServiceProvider:I},x){const F=at(C,x),K=He(C,x),ne=I.getImmediate({optional:!0});if(ne){const _t=yield ne.getHeartbeatsHeader();_t&&K.append("x-firebase-client",_t)}const Se={method:"POST",headers:K,body:JSON.stringify({installation:{sdkVersion:V,appId:C.appId}})},We=yield oe(()=>fetch(F,Se));if(We.ok)return De(yield We.json());throw yield ve("Generate Auth Token",We)})).apply(this,arguments)}function at(C,{fid:I}){return`${ze(C)}/${I}/authTokens:generate`}function mr(C){return kt.apply(this,arguments)}function kt(){return(kt=(0,P.Z)(function*(C,I=!1){let x;const F=yield ti(C.appConfig,ne=>{if(!Nt(ne))throw Ee.create("not-registered");const Ae=ne.authToken;if(!I&&j(Ae))return ne;if(1===Ae.requestStatus)return x=Ze(C,I),ne;{if(!navigator.onLine)throw Ee.create("app-offline");const Se=$(ne);return x=ut(C,Se),Se}});return x?yield x:F.authToken})).apply(this,arguments)}function Ze(C,I){return Te.apply(this,arguments)}function Te(){return(Te=(0,P.Z)(function*(C,I){let x=yield Ke(C.appConfig);for(;1===x.authToken.requestStatus;)yield he(100),x=yield Ke(C.appConfig);const F=x.authToken;return 0===F.requestStatus?mr(C,I):F})).apply(this,arguments)}function Ke(C){return ti(C,I=>{if(!Nt(I))throw Ee.create("not-registered");return function pe(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function ut(C,I){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,P.Z)(function*(C,I){try{const x=yield gr(C,I),F=Object.assign(Object.assign({},I),{authToken:x});return yield ot(C.appConfig,F),x}catch(x){if(!qe(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const F=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield ot(C.appConfig,F)}else yield Yn(C.appConfig);throw x}})).apply(this,arguments)}function Nt(C){return void 0!==C&&2===C.registrationStatus}function j(C){return 2===C.requestStatus&&!function L(C){const I=Date.now();return I<C.creationTime||C.creationTime+C.expiresIn<I+36e5}(C)}function $(C){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:I})}function Ve(){return(Ve=(0,P.Z)(function*(C){const I=C,{installationEntry:x,registrationPromise:F}=yield dn(I);return F?F.catch(console.error):mr(I).catch(console.error),x.fid})).apply(this,arguments)}function qt(){return(qt=(0,P.Z)(function*(C,I=!1){const x=C;return yield yr(x),(yield mr(x,I)).token})).apply(this,arguments)}function yr(C){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,P.Z)(function*(C){const{registrationPromise:I}=yield dn(C);I&&(yield I)})).apply(this,arguments)}function Hn(C){return Ee.create("missing-app-config-values",{valueName:C})}const ya="installations",Ne=C=>{const I=C.getProvider("app").getImmediate(),x=function es(C){if(!C||!C.options)throw Hn("App Configuration");if(!C.name)throw Hn("App Name");const I=["projectId","apiKey","appId"];for(const x of I)if(!C.options[x])throw Hn(x);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(I);return{app:I,appConfig:x,heartbeatServiceProvider:(0,ae._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},Mt=C=>{const I=C.getProvider("app").getImmediate(),x=(0,ae._getProvider)(I,ya).getImmediate();return{getId:()=>function te(C){return Ve.apply(this,arguments)}(x),getToken:K=>function ft(C){return qt.apply(this,arguments)}(x,K)}};(function an(){(0,ae._registerComponent)(new re.wA(ya,Ne,"PUBLIC")),(0,ae._registerComponent)(new re.wA("installations-internal",Mt,"PRIVATE"))})(),(0,ae.registerVersion)(ee,X),(0,ae.registerVersion)(ee,X,"esm2017");const ar="@firebase/remote-config",Dn=new Y.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class mh{constructor(I,x,F,K){this.client=I,this.storage=x,this.storageCache=F,this.logger=K}isCachedDataFresh(I,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const F=Date.now()-x,K=F<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${F}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${K}.`),K}fetch(I){var x=this;return(0,P.Z)(function*(){const[F,K]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(K&&x.isCachedDataFresh(I.cacheMaxAgeMillis,F))return K;I.eTag=K&&K.eTag;const ne=yield x.client.fetch(I),Ae=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ne.status&&Ae.push(x.storage.setLastSuccessfulFetchResponse(ne)),yield Promise.all(Ae),ne})()}}function Dc(C=navigator){return C.languages&&C.languages[0]||C.language}class iu{constructor(I,x,F,K,ne,Ae){this.firebaseInstallations=I,this.sdkVersion=x,this.namespace=F,this.projectId=K,this.apiKey=ne,this.appId=Ae}fetch(I){var x=this;return(0,P.Z)(function*(){const[F,K]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),Ae=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,Se={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},We={sdk_version:x.sdkVersion,app_instance_id:F,app_instance_id_token:K,app_id:x.appId,language_code:Dc()},_t={method:"POST",headers:Se,body:JSON.stringify(We)},xt=fetch(Ae,_t),Et=new Promise((ci,Ai)=>{I.signal.addEventListener(()=>{const Eo=new Error("The operation was aborted.");Eo.name="AbortError",Ai(Eo)})});let Pn;try{yield Promise.race([xt,Et]),Pn=yield xt}catch(ci){let Ai="fetch-client-network";throw"AbortError"===ci.name&&(Ai="fetch-timeout"),Dn.create(Ai,{originalErrorMessage:ci.message})}let vn=Pn.status;const Ko=Pn.headers.get("ETag")||void 0;let wo,Pr;if(200===Pn.status){let ci;try{ci=yield Pn.json()}catch(Ai){throw Dn.create("fetch-client-parse",{originalErrorMessage:Ai.message})}wo=ci.entries,Pr=ci.state}if("INSTANCE_STATE_UNSPECIFIED"===Pr?vn=500:"NO_CHANGE"===Pr?vn=304:("NO_TEMPLATE"===Pr||"EMPTY_CONFIG"===Pr)&&(wo={}),304!==vn&&200!==vn)throw Dn.create("fetch-status",{httpStatus:vn});return{status:vn,eTag:Ko,config:wo}})()}}class Ip{constructor(I,x){this.client=I,this.storage=x}fetch(I){var x=this;return(0,P.Z)(function*(){const F=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(I,F)})()}attemptFetch(I,{throttleEndTimeMillis:x,backoffCount:F}){var K=this;return(0,P.Z)(function*(){yield function On(C,I){return new Promise((x,F)=>{const K=Math.max(I-Date.now(),0),ne=setTimeout(x,K);C.addEventListener(()=>{clearTimeout(ne),F(Dn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,x);try{const ne=yield K.client.fetch(I);return yield K.storage.deleteThrottleMetadata(),ne}catch(ne){if(!function Tc(C){if(!(C instanceof Y.ZR&&C.customData))return!1;const I=Number(C.customData.httpStatus);return 429===I||500===I||503===I||504===I}(ne))throw ne;const Ae={throttleEndTimeMillis:Date.now()+(0,Y.$s)(F),backoffCount:F+1};return yield K.storage.setThrottleMetadata(Ae),K.attemptFetch(I,Ae)}})()}}class al{constructor(I,x,F,K,ne){this.app=I,this._client=x,this._storageCache=F,this._storage=K,this._logger=ne,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ul(C,I){const x=C.target.error||void 0;return Dn.create(I,{originalErrorMessage:x&&x.message})}const Os="app_namespace_store";class Sp{constructor(I,x,F,K=function Ap(){return new Promise((C,I)=>{try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=F=>{I(ul(F,"storage-open"))},x.onsuccess=F=>{C(F.target.result)},x.onupgradeneeded=F=>{0===F.oldVersion&&F.target.result.createObjectStore(Os,{keyPath:"compositeKey"})}}catch(x){I(Dn.create("storage-open",{originalErrorMessage:x}))}})}()){this.appId=I,this.appName=x,this.namespace=F,this.openDbPromise=K}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var x=this;return(0,P.Z)(function*(){const F=yield x.openDbPromise;return new Promise((K,ne)=>{const Se=F.transaction([Os],"readonly").objectStore(Os),We=x.createCompositeKey(I);try{const _t=Se.get(We);_t.onerror=xt=>{ne(ul(xt,"storage-get"))},_t.onsuccess=xt=>{const Et=xt.target.result;K(Et?Et.value:void 0)}}catch(_t){ne(Dn.create("storage-get",{originalErrorMessage:_t&&_t.message}))}})})()}set(I,x){var F=this;return(0,P.Z)(function*(){const K=yield F.openDbPromise;return new Promise((ne,Ae)=>{const We=K.transaction([Os],"readwrite").objectStore(Os),_t=F.createCompositeKey(I);try{const xt=We.put({compositeKey:_t,value:x});xt.onerror=Et=>{Ae(ul(Et,"storage-set"))},xt.onsuccess=()=>{ne()}}catch(xt){Ae(Dn.create("storage-set",{originalErrorMessage:xt&&xt.message}))}})})()}delete(I){var x=this;return(0,P.Z)(function*(){const F=yield x.openDbPromise;return new Promise((K,ne)=>{const Se=F.transaction([Os],"readwrite").objectStore(Os),We=x.createCompositeKey(I);try{const _t=Se.delete(We);_t.onerror=xt=>{ne(ul(xt,"storage-delete"))},_t.onsuccess=()=>{K()}}catch(_t){ne(Dn.create("storage-delete",{originalErrorMessage:_t&&_t.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class Sc{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,P.Z)(function*(){const x=I.storage.getLastFetchStatus(),F=I.storage.getLastSuccessfulFetchTimestampMillis(),K=I.storage.getActiveConfig(),ne=yield x;ne&&(I.lastFetchStatus=ne);const Ae=yield F;Ae&&(I.lastSuccessfulFetchTimestampMillis=Ae);const Se=yield K;Se&&(I.activeConfig=Se)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function uo(){return yh.apply(this,arguments)}function yh(){return(yh=(0,P.Z)(function*(){if(!(0,Y.hl)())return!1;try{return yield(0,Y.eu)()}catch(C){return!1}})).apply(this,arguments)}!function Po(){(0,ae._registerComponent)(new re.wA("remote-config",function C(I,{instanceIdentifier:x}){const F=I.getProvider("app").getImmediate(),K=I.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Dn.create("registration-window");if(!(0,Y.hl)())throw Dn.create("indexed-db-unavailable");const{projectId:ne,apiKey:Ae,appId:Se}=F.options;if(!ne)throw Dn.create("registration-project-id");if(!Ae)throw Dn.create("registration-api-key");if(!Se)throw Dn.create("registration-app-id");const We=new Sp(Se,F.name,x=x||"firebase"),_t=new Sc(We),xt=new J.Yd(ar);xt.logLevel=J.in.ERROR;const Et=new iu(K,ae.SDK_VERSION,x,ne,Ae,Se),Pn=new Ip(Et,We),vn=new mh(Pn,We,_t,xt),Ko=new al(F,vn,_t,We,xt);return function Or(C){const I=(0,Y.m9)(C);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(Ko),Ko},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(ar,"0.3.6"),(0,ae.registerVersion)(ar,"0.3.6","esm2017")}();const ll="/firebase-messaging-sw.js",Rs="/firebase-cloud-messaging-push-scope",Gr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",lo="google.c.a.c_id",va="google.c.a.c_l",xc="google.c.a.ts",xp="google.c.a.e";var Ns=(()=>{return(C=Ns||(Ns={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",Ns;var C})();function ii(C){const I=new Uint8Array(C);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ou(C){const x=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),F=atob(x),K=new Uint8Array(F.length);for(let ne=0;ne<F.length;++ne)K[ne]=F.charCodeAt(ne);return K}const au="fcm_token_details_db",ur="fcm_token_object_Store";function _h(C){return uu.apply(this,arguments)}function uu(){return uu=(0,P.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ne=>ne.name).includes(au))return null;let I=null;return(yield(0,Y.X3)(au,5,function(){var F=(0,P.Z)(function*(K,ne,Ae,Se){var We;if(ne<2||!K.objectStoreNames.contains(ur))return;const _t=Se.objectStore(ur),xt=yield _t.index("fcmSenderId").get(C);if(yield _t.clear(),xt)if(2===ne){const Et=xt;if(!Et.auth||!Et.p256dh||!Et.endpoint)return;I={token:Et.fcmToken,createTime:null!==(We=Et.createTime)&&void 0!==We?We:Date.now(),subscriptionOptions:{auth:Et.auth,p256dh:Et.p256dh,endpoint:Et.endpoint,swScope:Et.swScope,vapidKey:"string"==typeof Et.vapidKey?Et.vapidKey:ii(Et.vapidKey)}}}else if(3===ne){const Et=xt;I={token:Et.fcmToken,createTime:Et.createTime,subscriptionOptions:{auth:ii(Et.auth),p256dh:ii(Et.p256dh),endpoint:Et.endpoint,swScope:Et.swScope,vapidKey:ii(Et.vapidKey)}}}else if(4===ne){const Et=xt;I={token:Et.fcmToken,createTime:Et.createTime,subscriptionOptions:{auth:ii(Et.auth),p256dh:ii(Et.p256dh),endpoint:Et.endpoint,swScope:Et.swScope,vapidKey:ii(Et.vapidKey)}}}});return function(K,ne,Ae,Se){return F.apply(this,arguments)}}())).close(),yield(0,Y.Lj)(au),yield(0,Y.Lj)("fcm_vapid_details_db"),yield(0,Y.Lj)("undefined"),Mc(I)?I:null}),uu.apply(this,arguments)}function Mc(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:I}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const is="firebase-messaging-store";let wa=null;function cl(){return wa||(wa=(0,Y.X3)("firebase-messaging-database",1,(C,I)=>{0===I&&C.createObjectStore(is)})),wa}function un(C){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,P.Z)(function*(C){const I=ho(C),F=yield(yield cl()).transaction(is).objectStore(is).get(I);if(F)return F;{const K=yield _h(C.appConfig.senderId);if(K)return yield Ps(C,K),K}})).apply(this,arguments)}function Ps(C,I){return tn.apply(this,arguments)}function tn(){return(tn=(0,P.Z)(function*(C,I){const x=ho(C),K=(yield cl()).transaction(is,"readwrite");return yield K.objectStore(is).put(I,x),yield K.complete,I})).apply(this,arguments)}function Oc(C){return co.apply(this,arguments)}function co(){return(co=(0,P.Z)(function*(C){const I=ho(C),F=(yield cl()).transaction(is,"readwrite");yield F.objectStore(is).delete(I),yield F.complete})).apply(this,arguments)}function ho({appConfig:C}){return C.appId}const Tn=new Y.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ea(C,I){return wi.apply(this,arguments)}function wi(){return(wi=(0,P.Z)(function*(C,I){const x=yield Fs(C),F=lt(I),K={method:"POST",headers:x,body:JSON.stringify(F)};let ne;try{ne=yield(yield fetch(zr(C.appConfig),K)).json()}catch(Ae){throw Tn.create("token-subscribe-failed",{errorInfo:Ae})}if(ne.error)throw Tn.create("token-subscribe-failed",{errorInfo:ne.error.message});if(!ne.token)throw Tn.create("token-subscribe-no-token");return ne.token})).apply(this,arguments)}function vr(C,I){return ks.apply(this,arguments)}function ks(){return(ks=(0,P.Z)(function*(C,I){const x=yield Fs(C),F=lt(I.subscriptionOptions),K={method:"PATCH",headers:x,body:JSON.stringify(F)};let ne;try{ne=yield(yield fetch(`${zr(C.appConfig)}/${I.token}`,K)).json()}catch(Ae){throw Tn.create("token-update-failed",{errorInfo:Ae})}if(ne.error)throw Tn.create("token-update-failed",{errorInfo:ne.error.message});if(!ne.token)throw Tn.create("token-update-no-token");return ne.token})).apply(this,arguments)}function ss(C,I){return du.apply(this,arguments)}function du(){return(du=(0,P.Z)(function*(C,I){const F={method:"DELETE",headers:yield Fs(C)};try{const ne=yield(yield fetch(`${zr(C.appConfig)}/${I}`,F)).json();if(ne.error)throw Tn.create("token-unsubscribe-failed",{errorInfo:ne.error.message})}catch(K){throw Tn.create("token-unsubscribe-failed",{errorInfo:K})}})).apply(this,arguments)}function zr({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function Fs(C){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,P.Z)(function*({appConfig:C,installations:I}){const x=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function lt({p256dh:C,auth:I,endpoint:x,vapidKey:F}){const K={web:{endpoint:x,auth:I,p256dh:C}};return F!==Gr&&(K.web.applicationPubKey=F),K}const hu=6048e5;function ba(C){return fu.apply(this,arguments)}function fu(){return(fu=(0,P.Z)(function*(C){const I=yield fl(C.swRegistration,C.vapidKey),x={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:I.endpoint,auth:ii(I.getKey("auth")),p256dh:ii(I.getKey("p256dh"))},F=yield un(C.firebaseDependencies);if(F){if(Vo(F.subscriptionOptions,x))return Date.now()>=F.createTime+hu?dl(C,{token:F.token,createTime:Date.now(),subscriptionOptions:x}):F.token;try{yield ss(C.firebaseDependencies,F.token)}catch(K){console.warn(K)}return be(C.firebaseDependencies,x)}return be(C.firebaseDependencies,x)})).apply(this,arguments)}function pu(C){return gu.apply(this,arguments)}function gu(){return(gu=(0,P.Z)(function*(C){const I=yield un(C.firebaseDependencies);I&&(yield ss(C.firebaseDependencies,I.token),yield Oc(C.firebaseDependencies));const x=yield C.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function dl(C,I){return hl.apply(this,arguments)}function hl(){return(hl=(0,P.Z)(function*(C,I){try{const x=yield vr(C.firebaseDependencies,I),F=Object.assign(Object.assign({},I),{token:x,createTime:Date.now()});return yield Ps(C.firebaseDependencies,F),x}catch(x){throw yield pu(C),x}})).apply(this,arguments)}function be(C,I){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,P.Z)(function*(C,I){const F={token:yield Ea(C,I),createTime:Date.now(),subscriptionOptions:I};return yield Ps(C,F),F.token})).apply(this,arguments)}function fl(C,I){return fn.apply(this,arguments)}function fn(){return(fn=(0,P.Z)(function*(C,I){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ou(I)})})).apply(this,arguments)}function Vo(C,I){return I.vapidKey===C.vapidKey&&I.endpoint===C.endpoint&&I.auth===C.auth&&I.p256dh===C.p256dh}function Uo(C){const I={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function Zr(C,I){if(!I.notification)return;C.notification={};const x=I.notification.title;x&&(C.notification.title=x);const F=I.notification.body;F&&(C.notification.body=F);const K=I.notification.image;K&&(C.notification.image=K)}(I,C),function pl(C,I){!I.data||(C.data=I.data)}(I,C),function gl(C,I){if(!I.fcmOptions)return;C.fcmOptions={};const x=I.fcmOptions.link;x&&(C.fcmOptions.link=x);const F=I.fcmOptions.analytics_label;F&&(C.fcmOptions.analyticsLabel=F)}(I,C),I}function Rc(C){return"object"==typeof C&&!!C&&lo in C}function ml(C,I){const x=[];for(let F=0;F<C.length;F++)x.push(C.charAt(F)),F<I.length&&x.push(I.charAt(F));return x.join("")}function Vs(C){return Tn.create("missing-app-config-values",{valueName:C})}ml("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ml("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class lr{constructor(I,x,F){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const K=function mu(C){if(!C||!C.options)throw Vs("App Configuration Object");if(!C.name)throw Vs("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:x}=C;for(const F of I)if(!x[F])throw Vs(F);return{appName:C.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:K,installations:x,analyticsProvider:F}}_delete(){return Promise.resolve()}}function si(C){return yu.apply(this,arguments)}function yu(){return(yu=(0,P.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(ll,{scope:Rs}),C.swRegistration.update().catch(()=>{})}catch(I){throw Tn.create("failed-service-worker-registration",{browserErrorMessage:I.message})}})).apply(this,arguments)}function Us(C,I){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,P.Z)(function*(C,I){if(!I&&!C.swRegistration&&(yield si(C)),I||!C.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw Tn.create("invalid-sw-registration");C.swRegistration=I}})).apply(this,arguments)}function yl(C,I){return _u.apply(this,arguments)}function _u(){return(_u=(0,P.Z)(function*(C,I){I?C.vapidKey=I:C.vapidKey||(C.vapidKey=Gr)})).apply(this,arguments)}function _l(){return(_l=(0,P.Z)(function*(C,I){if(!navigator)throw Tn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Tn.create("permission-blocked");return yield yl(C,null==I?void 0:I.vapidKey),yield Us(C,null==I?void 0:I.serviceWorkerRegistration),ba(C)})).apply(this,arguments)}function Ca(C,I,x){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,P.Z)(function*(C,I,x){const F=vl(I);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(F,{message_id:x[lo],message_name:x[va],message_time:x[xc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function vl(C){switch(C){case Ns.NOTIFICATION_CLICKED:return"notification_open";case Ns.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Nc(){return(Nc=(0,P.Z)(function*(C,I){const x=I.data;if(!x.isFirebaseMessaging)return;C.onMessageHandler&&x.messageType===Ns.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(Uo(x)):C.onMessageHandler.next(Uo(x)));const F=x.data;Rc(F)&&"1"===F[xp]&&(yield Ca(C,x.messageType,F))})).apply(this,arguments)}const El="@firebase/messaging",Pc=C=>{const I=new lr(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function wl(C,I){return Nc.apply(this,arguments)}(I,x)),I},po=C=>{const I=C.getProvider("messaging").getImmediate();return{getToken:F=>function vu(C,I){return _l.apply(this,arguments)}(I,F)}};function Fc(){return go.apply(this,arguments)}function go(){return(go=(0,P.Z)(function*(){try{yield(0,Y.eu)()}catch(C){return!1}return"undefined"!=typeof window&&(0,Y.hl)()&&(0,Y.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function kc(){(0,ae._registerComponent)(new re.wA("messaging",Pc,"PUBLIC")),(0,ae._registerComponent)(new re.wA("messaging-internal",po,"PRIVATE")),(0,ae.registerVersion)(El,"0.9.11"),(0,ae.registerVersion)(El,"0.9.11","esm2017")}();const Cl="analytics",jm="firebase_id",Da="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",wu="https://www.googletagmanager.com/gtag/js",Rn=new J.Yd("@firebase/analytics");function Vc(C){return Promise.all(C.map(I=>I.catch(x=>x)))}function Mp(C,I){const x=document.createElement("script");x.src=`${wu}?l=${C}&id=${I}`,x.async=!0,document.head.appendChild(x)}function Bo(C,I,x,F,K,ne){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,P.Z)(function*(C,I,x,F,K,ne){const Ae=F[K];try{if(Ae)yield I[Ae];else{const We=(yield Vc(x)).find(_t=>_t.measurementId===K);We&&(yield I[We.appId])}}catch(Se){Rn.error(Se)}C("config",K,ne)})).apply(this,arguments)}function Dl(C,I,x,F,K){return mo.apply(this,arguments)}function mo(){return(mo=(0,P.Z)(function*(C,I,x,F,K){try{let ne=[];if(K&&K.send_to){let Ae=K.send_to;Array.isArray(Ae)||(Ae=[Ae]);const Se=yield Vc(x);for(const We of Ae){const _t=Se.find(Et=>Et.measurementId===We),xt=_t&&I[_t.appId];if(!xt){ne=[];break}ne.push(xt)}}0===ne.length&&(ne=Object.values(I)),yield Promise.all(ne),C("event",F,K||{})}catch(ne){Rn.error(ne)}})).apply(this,arguments)}function Op(){const C=window.document.getElementsByTagName("script");for(const I of Object.values(C))if(I.src&&I.src.includes(wu))return I;return null}const Sn=new Y.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Rr=new class dr{constructor(I={},x=1e3){this.throttleMetadata=I,this.intervalMillis=x}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,x){this.throttleMetadata[I]=x}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function jo(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function jc(C){return ln.apply(this,arguments)}function ln(){return(ln=(0,P.Z)(function*(C){var I;const{appId:x,apiKey:F}=C,K={method:"GET",headers:jo(F)},ne=Da.replace("{app-id}",x),Ae=yield fetch(ne,K);if(200!==Ae.status&&304!==Ae.status){let Se="";try{const We=yield Ae.json();(null===(I=We.error)||void 0===I?void 0:I.message)&&(Se=We.error.message)}catch(We){}throw Sn.create("config-fetch-failed",{httpStatus:Ae.status,responseMessage:Se})}return Ae.json()})).apply(this,arguments)}function wh(C){return bi.apply(this,arguments)}function bi(){return(bi=(0,P.Z)(function*(C,I=Rr,x){const{appId:F,apiKey:K,measurementId:ne}=C.options;if(!F)throw Sn.create("no-app-id");if(!K){if(ne)return{measurementId:ne,appId:F};throw Sn.create("no-api-key")}const Ae=I.getThrottleMetadata(F)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Se=new Tl;return setTimeout((0,P.Z)(function*(){Se.abort()}),void 0!==x?x:6e4),Eu({appId:F,apiKey:K,measurementId:ne},Ae,Se,I)})).apply(this,arguments)}function Eu(C,I,x){return oi.apply(this,arguments)}function oi(){return(oi=(0,P.Z)(function*(C,{throttleEndTimeMillis:I,backoffCount:x},F,K=Rr){const{appId:ne,measurementId:Ae}=C;try{yield At(F,I)}catch(Se){if(Ae)return Rn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ae} provided in the "measurementId" field in the local Firebase config. [${Se.message}]`),{appId:ne,measurementId:Ae};throw Se}try{const Se=yield jc(C);return K.deleteThrottleMetadata(ne),Se}catch(Se){if(!Hc(Se)){if(K.deleteThrottleMetadata(ne),Ae)return Rn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ae} provided in the "measurementId" field in the local Firebase config. [${Se.message}]`),{appId:ne,measurementId:Ae};throw Se}const We=503===Number(Se.customData.httpStatus)?(0,Y.$s)(x,K.intervalMillis,30):(0,Y.$s)(x,K.intervalMillis),_t={throttleEndTimeMillis:Date.now()+We,backoffCount:x+1};return K.setThrottleMetadata(ne,_t),Rn.debug(`Calling attemptFetch again in ${We} millis`),Eu(C,_t,F,K)}})).apply(this,arguments)}function At(C,I){return new Promise((x,F)=>{const K=Math.max(I-Date.now(),0),ne=setTimeout(x,K);C.addEventListener(()=>{clearTimeout(ne),F(Sn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function Hc(C){if(!(C instanceof Y.ZR&&C.customData))return!1;const I=Number(C.customData.httpStatus);return 429===I||500===I||503===I||504===I}class Tl{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}function $c(){return yo.apply(this,arguments)}function yo(){return(yo=(0,P.Z)(function*(){if(!(0,Y.hl)())return Rn.warn(Sn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Y.eu)()}catch(C){return Rn.warn(Sn.create("indexeddb-unavailable",{errorInfo:C}).message),!1}return!0})).apply(this,arguments)}function us(){return(us=(0,P.Z)(function*(C,I,x,F,K,ne,Ae){var Se;const We=wh(C);We.then(vn=>{x[vn.measurementId]=vn.appId,C.options.measurementId&&vn.measurementId!==C.options.measurementId&&Rn.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${vn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(vn=>Rn.error(vn)),I.push(We);const _t=$c().then(vn=>{if(vn)return F.getId()}),[xt,Et]=yield Promise.all([We,_t]);Op()||Mp(ne,xt.measurementId),K("js",new Date);const Pn=null!==(Se=null==Ae?void 0:Ae.config)&&void 0!==Se?Se:{};return Pn.origin="firebase",Pn.update=!0,null!=Et&&(Pn[jm]=Et),K("config",xt.measurementId,Pn),xt.measurementId})).apply(this,arguments)}class Ho{constructor(I){this.app=I}_delete(){return delete ai[this.app.options.appId],Promise.resolve()}}let ai={},Hs=[];const Ta={};let $s,Vi,Li="dataLayer",Sl=!1;function Ci(C,I,x){!function $o(){const C=[];if((0,Y.ru)()&&C.push("This is a browser extension environment."),(0,Y.zI)()||C.push("Cookies are not available."),C.length>0){const I=C.map((F,K)=>`(${K+1}) ${F}`).join(" "),x=Sn.create("invalid-analytics-context",{errorInfo:I});Rn.warn(x.message)}}();const F=C.options.appId;if(!F)throw Sn.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw Sn.create("no-api-key");Rn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ai[F])throw Sn.create("already-exists",{id:F});if(!Sl){!function as(C){let I=[];Array.isArray(window[C])?I=window[C]:window[C]=I}(Li);const{wrappedGtag:ne,gtagCore:Ae}=function vh(C,I,x,F,K){let ne=function(...Ae){window[F].push(arguments)};return window[K]&&"function"==typeof window[K]&&(ne=window[K]),window[K]=function Bc(C,I,x,F){function ne(){return(ne=(0,P.Z)(function*(Ae,Se,We){try{"event"===Ae?yield Dl(C,I,x,Se,We):"config"===Ae?yield Bo(C,I,x,F,Se,We):C("set",Se)}catch(_t){Rn.error(_t)}})).apply(this,arguments)}return function K(Ae,Se,We){return ne.apply(this,arguments)}}(ne,C,I,x),{gtagCore:ne,wrappedGtag:window[K]}}(ai,Hs,Ta,Li,"gtag");Vi=ne,$s=Ae,Sl=!0}return ai[F]=function Nn(C,I,x,F,K,ne,Ae){return us.apply(this,arguments)}(C,Hs,Ta,I,$s,Li,x),new Ho(C)}function Aa(){return(Aa=(0,P.Z)(function*(C,I,x,F,K){if(K&&K.global)C("event",x,F);else{const ne=yield I;C("event",x,Object.assign(Object.assign({},F),{send_to:ne}))}})).apply(this,arguments)}function yn(){return ls.apply(this,arguments)}function ls(){return(ls=(0,P.Z)(function*(){if((0,Y.ru)()||!(0,Y.zI)()||!(0,Y.hl)())return!1;try{return yield(0,Y.eu)()}catch(C){return!1}})).apply(this,arguments)}const Gs="@firebase/analytics";!function kp(){(0,ae._registerComponent)(new re.wA(Cl,(I,{options:x})=>Ci(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,ae._registerComponent)(new re.wA("analytics-internal",function C(I){try{const x=I.getProvider(Cl).getImmediate();return{logEvent:(F,K,ne)=>function Pp(C,I,x,F){C=(0,Y.m9)(C),function Go(C,I,x,F,K){return Aa.apply(this,arguments)}(Vi,ai[C.app.options.appId],I,x,F).catch(K=>Rn.error(K))}(x,F,K,ne)}}catch(x){throw Sn.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,ae.registerVersion)(Gs,"0.7.7"),(0,ae.registerVersion)(Gs,"0.7.7","esm2017")}();var qs=N(4408),bu=N(7565);const xl=new class pn extends bu.v{}(class cs extends qs.o{constructor(I,x){super(I,x),this.scheduler=I,this.work=x}schedule(I,x=0){return x>0?super.schedule(I,x):(this.delay=x,this.state=I,this.scheduler.flush(this),this)}execute(I,x){return x>0||this.closed?super.execute(I,x):this._execute(I,x)}requestAsyncId(I,x,F=0){return null!=F&&F>0||null==F&&this.delay>0?super.requestAsyncId(I,x,F):I.flush(this)}});var Fp=N(4986),Ml=N(8505),br=N(9468),ui=N(5363);const Ol=new c.GfV("7.3.0"),ds="__angularfire_symbol__analyticsIsSupportedValue",Ti="__angularfire_symbol__analyticsIsSupported",ji="__angularfire_symbol__remoteConfigIsSupportedValue",Sa="__angularfire_symbol__remoteConfigIsSupported",Rl="__angularfire_symbol__messagingIsSupportedValue",Nl="__angularfire_symbol__messagingIsSupported";function zs(C,I,x){if(I){if(1===I.length)return I[0];const ne=I.filter(Ae=>Ae.app===x);if(1===ne.length)return ne[0]}return x.container.getProvider(C).getImmediate({optional:!0})}globalThis[Ti]||(globalThis[Ti]=yn().then(C=>globalThis[ds]=C).catch(()=>globalThis[ds]=!1)),globalThis[Nl]||(globalThis[Nl]=Fc().then(C=>globalThis[Rl]=C).catch(()=>globalThis[Rl]=!1)),globalThis[Sa]||(globalThis[Sa]=uo().then(C=>globalThis[ji]=C).catch(()=>globalThis[ji]=!1));const Zc=(C,I)=>{const x=I?[I]:(0,Q.C6)(),F=[];return x.forEach(K=>{K.container.getProvider(C).instances.forEach(Ae=>{F.includes(Ae)||F.push(Ae)})}),F};function _o(){}class Cu{constructor(I,x=xl){this.zone=I,this.delegate=x}now(){return this.delegate.now()}schedule(I,x,F){const K=this.zone;return this.delegate.schedule(function(Ae){K.runGuarded(()=>{I.apply(this,[Ae])})},x,F)}}class Hi{constructor(I){this.zone=I,this.task=null}call(I,x){const F=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",_o,{},_o,_o)),x.pipe((0,Ml.b)({next:F,complete:F,error:F})).subscribe(I).add(F)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Iu=(()=>{class C{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new Cu(Zone.current)),this.insideAngular=x.run(()=>new Cu(Zone.current,Fp.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(x){return new(x||C)(c.LFG(c.R0b))},C.\u0275prov=c.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function $i(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function Fl(C){return $i(),function vo(C){return function(x){return(x=x.lift(new Hi(C.ngZone))).pipe((0,br.R)(C.outsideAngular),(0,ui.Q)(C.insideAngular))}}($i())(C)}},2090:(nt,Ie,N)=>{N.d(Ie,{$s:()=>io,BH:()=>le,G6:()=>oe,L:()=>X,LL:()=>wt,Lj:()=>Lt,Mn:()=>Ge,Sg:()=>Me,UG:()=>Ee,US:()=>J,X3:()=>ut,ZB:()=>z,ZR:()=>he,b$:()=>De,d:()=>ve,eu:()=>ue,hl:()=>W,jU:()=>qe,m9:()=>at,ne:()=>ot,pd:()=>Qi,r3:()=>Wt,ru:()=>ze,tV:()=>U,uI:()=>ie,vZ:()=>Ds,w1:()=>we,xO:()=>Pi,xb:()=>ir,z$:()=>Re,zI:()=>me,zd:()=>Mr});var c=N(5861);const Y=function(j){const L=[];let $=0;for(let pe=0;pe<j.length;pe++){let te=j.charCodeAt(pe);te<128?L[$++]=te:te<2048?(L[$++]=te>>6|192,L[$++]=63&te|128):55296==(64512&te)&&pe+1<j.length&&56320==(64512&j.charCodeAt(pe+1))?(te=65536+((1023&te)<<10)+(1023&j.charCodeAt(++pe)),L[$++]=te>>18|240,L[$++]=te>>12&63|128,L[$++]=te>>6&63|128,L[$++]=63&te|128):(L[$++]=te>>12|224,L[$++]=te>>6&63|128,L[$++]=63&te|128)}return L},J={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(j,L){if(!Array.isArray(j))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $=L?this.byteToCharMapWebSafe_:this.byteToCharMap_,pe=[];for(let te=0;te<j.length;te+=3){const Ve=j[te],ft=te+1<j.length,qt=ft?j[te+1]:0,yr=te+2<j.length,Ht=yr?j[te+2]:0;let on=(15&qt)<<2|Ht>>6,Qn=63&Ht;yr||(Qn=64,ft||(on=64)),pe.push($[Ve>>2],$[(3&Ve)<<4|qt>>4],$[on],$[Qn])}return pe.join("")},encodeString(j,L){return this.HAS_NATIVE_SUPPORT&&!L?btoa(j):this.encodeByteArray(Y(j),L)},decodeString(j,L){return this.HAS_NATIVE_SUPPORT&&!L?atob(j):function(j){const L=[];let $=0,pe=0;for(;$<j.length;){const te=j[$++];if(te<128)L[pe++]=String.fromCharCode(te);else if(te>191&&te<224){const Ve=j[$++];L[pe++]=String.fromCharCode((31&te)<<6|63&Ve)}else if(te>239&&te<365){const yr=((7&te)<<18|(63&j[$++])<<12|(63&j[$++])<<6|63&j[$++])-65536;L[pe++]=String.fromCharCode(55296+(yr>>10)),L[pe++]=String.fromCharCode(56320+(1023&yr))}else{const Ve=j[$++],ft=j[$++];L[pe++]=String.fromCharCode((15&te)<<12|(63&Ve)<<6|63&ft)}}return L.join("")}(this.decodeStringToByteArray(j,L))},decodeStringToByteArray(j,L){this.init_();const $=L?this.charToByteMapWebSafe_:this.charToByteMap_,pe=[];for(let te=0;te<j.length;){const Ve=$[j.charAt(te++)],qt=te<j.length?$[j.charAt(te)]:0;++te;const Ht=te<j.length?$[j.charAt(te)]:64;++te;const St=te<j.length?$[j.charAt(te)]:64;if(++te,null==Ve||null==qt||null==Ht||null==St)throw Error();pe.push(Ve<<2|qt>>4),64!==Ht&&(pe.push(qt<<4&240|Ht>>2),64!==St&&pe.push(Ht<<6&192|St))}return pe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let j=0;j<this.ENCODED_VALS.length;j++)this.byteToCharMap_[j]=this.ENCODED_VALS.charAt(j),this.charToByteMap_[this.byteToCharMap_[j]]=j,this.byteToCharMapWebSafe_[j]=this.ENCODED_VALS_WEBSAFE.charAt(j),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[j]]=j,j>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(j)]=j,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(j)]=j)}}},X=function(j){return function(j){const L=Y(j);return J.encodeByteArray(L,!0)}(j).replace(/\./g,"")},U=function(j){try{return J.decodeString(j,!0)}catch(L){console.error("base64Decode failed: ",L)}return null};function z(j,L){if(!(L instanceof Object))return L;switch(L.constructor){case Date:return new Date(L.getTime());case Object:void 0===j&&(j={});break;case Array:j=[];break;default:return L}for(const $ in L)!L.hasOwnProperty($)||!Le($)||(j[$]=z(j[$],L[$]));return j}function Le(j){return"__proto__"!==j}class le{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((L,$)=>{this.resolve=L,this.reject=$})}wrapCallback(L){return($,pe)=>{$?this.reject($):this.resolve(pe),"function"==typeof L&&(this.promise.catch(()=>{}),1===L.length?L($):L($,pe))}}}function Me(j,L){if(j.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const pe=L||"demo-project",te=j.iat||0,Ve=j.sub||j.user_id;if(!Ve)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ft=Object.assign({iss:`https://securetoken.google.com/${pe}`,aud:pe,iat:te,exp:te+3600,auth_time:te,sub:Ve,user_id:Ve,firebase:{sign_in_provider:"custom",identities:{}}},j);return[X(JSON.stringify({alg:"none",type:"JWT"})),X(JSON.stringify(ft)),""].join(".")}function Re(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ie(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Re())}function Ee(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(j){return!1}}function qe(){return"object"==typeof self&&self.self===self}function ze(){const j="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof j&&void 0!==j.id}function De(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ve(){return Re().indexOf("Electron/")>=0}function we(){const j=Re();return j.indexOf("MSIE ")>=0||j.indexOf("Trident/")>=0}function Ge(){return Re().indexOf("MSAppHost/")>=0}function oe(){return!Ee()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function W(){return"object"==typeof indexedDB}function ue(){return new Promise((j,L)=>{try{let $=!0;const pe="validate-browser-context-for-indexeddb-analytics-module",te=self.indexedDB.open(pe);te.onsuccess=()=>{te.result.close(),$||self.indexedDB.deleteDatabase(pe),j(!0)},te.onupgradeneeded=()=>{$=!1},te.onerror=()=>{var Ve;L((null===(Ve=te.error)||void 0===Ve?void 0:Ve.message)||"")}}catch($){L($)}})}function me(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class he extends Error{constructor(L,$,pe){super($),this.code=L,this.customData=pe,this.name="FirebaseError",Object.setPrototypeOf(this,he.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wt.prototype.create)}}class wt{constructor(L,$,pe){this.service=L,this.serviceName=$,this.errors=pe}create(L,...$){const pe=$[0]||{},te=`${this.service}/${L}`,Ve=this.errors[L],ft=Ve?function Zt(j,L){return j.replace(In,($,pe)=>{const te=L[pe];return null!=te?String(te):`<${pe}?>`})}(Ve,pe):"Error";return new he(te,`${this.serviceName}: ${ft} (${te}).`,pe)}}const In=/\{\$([^}]+)}/g;function Wt(j,L){return Object.prototype.hasOwnProperty.call(j,L)}function ir(j){for(const L in j)if(Object.prototype.hasOwnProperty.call(j,L))return!1;return!0}function Ds(j,L){if(j===L)return!0;const $=Object.keys(j),pe=Object.keys(L);for(const te of $){if(!pe.includes(te))return!1;const Ve=j[te],ft=L[te];if(xr(Ve)&&xr(ft)){if(!Ds(Ve,ft))return!1}else if(Ve!==ft)return!1}for(const te of pe)if(!$.includes(te))return!1;return!0}function xr(j){return null!==j&&"object"==typeof j}function Pi(j){const L=[];for(const[$,pe]of Object.entries(j))Array.isArray(pe)?pe.forEach(te=>{L.push(encodeURIComponent($)+"="+encodeURIComponent(te))}):L.push(encodeURIComponent($)+"="+encodeURIComponent(pe));return L.length?"&"+L.join("&"):""}function Mr(j){const L={};return j.replace(/^\?/,"").split("&").forEach(pe=>{if(pe){const[te,Ve]=pe.split("=");L[decodeURIComponent(te)]=decodeURIComponent(Ve)}}),L}function Qi(j){const L=j.indexOf("?");if(!L)return"";const $=j.indexOf("#",L);return j.substring(L,$>0?$:void 0)}function ot(j,L){const $=new Hr(j,L);return $.subscribe.bind($)}class Hr{constructor(L,$){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(()=>{L(this)}).catch(pe=>{this.error(pe)})}next(L){this.forEachObserver($=>{$.next(L)})}error(L){this.forEachObserver($=>{$.error(L)}),this.close(L)}complete(){this.forEachObserver(L=>{L.complete()}),this.close()}subscribe(L,$,pe){let te;if(void 0===L&&void 0===$&&void 0===pe)throw new Error("Missing Observer.");te=function jn(j,L){if("object"!=typeof j||null===j)return!1;for(const $ of L)if($ in j&&"function"==typeof j[$])return!0;return!1}(L,["next","error","complete"])?L:{next:L,error:$,complete:pe},void 0===te.next&&(te.next=ti),void 0===te.error&&(te.error=ti),void 0===te.complete&&(te.complete=ti);const Ve=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?te.error(this.finalError):te.complete()}catch(ft){}}),this.observers.push(te),Ve}unsubscribeOne(L){void 0===this.observers||void 0===this.observers[L]||(delete this.observers[L],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(L){if(!this.finalized)for(let $=0;$<this.observers.length;$++)this.sendOne($,L)}sendOne(L,$){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[L])try{$(this.observers[L])}catch(pe){"undefined"!=typeof console&&console.error&&console.error(pe)}})}close(L){this.finalized||(this.finalized=!0,void 0!==L&&(this.finalError=L),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ti(){}function io(j,L=1e3,$=2){const pe=L*Math.pow($,j),te=Math.round(.5*pe*(Math.random()-.5)*2);return Math.min(144e5,pe+te)}function at(j){return j&&j._delegate?j._delegate:j}function mr(j,L){return new Promise(($,pe)=>{j.onsuccess=te=>{$(te.target.result)},j.onerror=te=>{var Ve;pe(`${L}: ${null===(Ve=te.target.error)||void 0===Ve?void 0:Ve.message}`)}})}class kt{constructor(L){this._db=L,this.objectStoreNames=this._db.objectStoreNames}transaction(L,$){return new Ze(this._db.transaction.call(this._db,L,$))}createObjectStore(L,$){return new Te(this._db.createObjectStore(L,$))}close(){this._db.close()}}class Ze{constructor(L){this._transaction=L,this.complete=new Promise(($,pe)=>{this._transaction.oncomplete=function(){$()},this._transaction.onerror=()=>{pe(this._transaction.error)},this._transaction.onabort=()=>{pe(this._transaction.error)}})}objectStore(L){return new Te(this._transaction.objectStore(L))}}class Te{constructor(L){this._store=L}index(L){return new Ke(this._store.index(L))}createIndex(L,$,pe){return new Ke(this._store.createIndex(L,$,pe))}get(L){return mr(this._store.get(L),"Error reading from IndexedDB")}put(L,$){return mr(this._store.put(L,$),"Error writing to IndexedDB")}delete(L){return mr(this._store.delete(L),"Error deleting from IndexedDB")}clear(){return mr(this._store.clear(),"Error clearing IndexedDB object store")}}class Ke{constructor(L){this._index=L}get(L){return mr(this._index.get(L),"Error reading from IndexedDB")}}function ut(j,L,$){return new Promise((pe,te)=>{try{const Ve=indexedDB.open(j,L);Ve.onsuccess=ft=>{pe(new kt(ft.target.result))},Ve.onerror=ft=>{var qt;te(`Error opening indexedDB: ${null===(qt=ft.target.error)||void 0===qt?void 0:qt.message}`)},Ve.onupgradeneeded=ft=>{$(new kt(Ve.result),ft.oldVersion,ft.newVersion,new Ze(Ve.transaction))}}catch(Ve){te(`Error opening indexedDB: ${Ve.message}`)}})}function Lt(j){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,c.Z)(function*(j){return new Promise((L,$)=>{try{const pe=indexedDB.deleteDatabase(j);pe.onsuccess=()=>{L()},pe.onerror=te=>{var Ve;$(`Error deleting indexedDB database "${j}": ${null===(Ve=te.target.error)||void 0===Ve?void 0:Ve.message}`)}}catch(pe){$(`Error deleting indexedDB database "${j}": ${pe.message}`)}})})).apply(this,arguments)}},4549:(nt,Ie,N)=>{var c=N(5e3);let Q=null;function P(){return Q}const J=new c.OlP("DocumentToken");let ee=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function X(){return(0,c.LFG)(V)}()},providedIn:"platform"}),n})();const U=new c.OlP("Location Initialized");let V=(()=>{class n extends ee{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,o){z()?this._history.pushState(t,r,o):this.location.hash=o}replaceState(t,r,o){z()?this._history.replaceState(t,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(J))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Le(){return new V((0,c.LFG)(J))}()},providedIn:"platform"}),n})();function z(){return!!window.history.pushState}function le(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Me(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Re(n){return n&&"?"!==n[0]?"?"+n:n}let ie=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Ee(n){const e=(0,c.LFG)(J).location;return new ze((0,c.LFG)(ee),e&&e.origin||"")}()},providedIn:"root"}),n})();const qe=new c.OlP("appBaseHref");let ze=(()=>{class n extends ie{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return le(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Re(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,u){const h=this.prepareExternalUrl(o+Re(u));this._platformLocation.pushState(t,r,h)}replaceState(t,r,o,u){const h=this.prepareExternalUrl(o+Re(u));this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ee),c.LFG(qe,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),De=(()=>{class n extends ie{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=le(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,u){let h=this.prepareExternalUrl(o+Re(u));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(t,r,h)}replaceState(t,r,o,u){let h=this.prepareExternalUrl(o+Re(u));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ee),c.LFG(qe,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),ve=(()=>{class n{constructor(t,r){this._subject=new c.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const o=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Me(He(o)),this._platformStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Re(r))}normalize(t){return n.stripTrailingSlash(function Ge(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,He(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._platformStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Re(r)),o)}replaceState(t,r="",o=null){this._platformStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Re(r)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformStrategy).historyGo)||void 0===o||o.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=Re,n.joinWithSlash=le,n.stripTrailingSlash=Me,n.\u0275fac=function(t){return new(t||n)(c.LFG(ie),c.LFG(ee))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function we(){return new ve((0,c.LFG)(ie),(0,c.LFG)(ee))}()},providedIn:"root"}),n})();function He(n){return n.replace(/\/index.html$/,"")}function oo(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(u)}return null}class xs{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Xn=(()=>{class n{constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,u,h)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new xs(o.item,this._ngForOf,-1,-1),null===h?void 0:h);else if(null==h)r.remove(null===u?void 0:u);else if(null!==u){const m=r.get(u);r.move(m,h),ts(m,o)}});for(let o=0,u=r.length;o<u;o++){const m=r.get(o).context;m.index=o,m.count=u,m.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{ts(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function ts(n,e){n.context.$implicit=e.item}let Or=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new en,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){tu("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){tu("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class en{constructor(){this.$implicit=null,this.ngIf=null}}function tu(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}class Tc{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class Ip{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const rs=new Ip,Dp=new Tc;let al=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,c.QGY)(t))return rs;if((0,c.F4k)(t))return Dp;throw function On(n,e){return new c.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO,16))},n.\u0275pipe=c.Yjl({name:"async",type:n,pure:!1}),n})(),Fo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function ur(n){return"server"===n}let lu=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new cu((0,c.LFG)(J),window)}),n})();class cu{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function wa(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const u=o.shadowRoot;if(u){const h=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(h)return h}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],o-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=is(this.window.history)||is(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function is(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class un{}class Ps extends class Lo extends class re{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function Y(n){Q||(Q=n)}(new Ps)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Oc(){return tn=tn||document.querySelector("base"),tn?tn.getAttribute("href"):null}();return null==t?null:function ho(n){co=co||document.createElement("a"),co.setAttribute("href",n);const e=co.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){tn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return oo(document.cookie,e)}}let co,tn=null;const _r=new c.OlP("TRANSITION_ID"),Ea=[{provide:c.ip1,useFactory:function Tn(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const r=P(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<o.length;u++)r.remove(o[u])})}},deps:[_r,J,c.zs3],multi:!0}];class wi{static init(){(0,c.VLi)(new wi)}addToWindow(e){c.dqk.getAngularTestability=(r,o=!0)=>{const u=e.findTestabilityInTree(r,o);if(null==u)throw new Error("Could not find testability for element.");return u},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(r=>{const o=c.dqk.getAllAngularTestabilities();let u=o.length,h=!1;const m=function(E){h=h||E,u--,0==u&&r(h)};o.forEach(function(E){E.whenStable(m)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const o=e.getTestability(t);return null!=o?o:r?P().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let vr=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const ks=new c.OlP("EventManagerPlugins");let ss=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let u=0;u<o.length;u++){const h=o[u];if(h.supports(t))return this._eventNameToPlugin.set(t,h),h}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ks),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class du{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=P().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let zr=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Fs=(()=>{class n extends zr{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(u=>{const h=this._doc.createElement("style");h.textContent=u,o.push(r.appendChild(h))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Ls),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Ls))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(J))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Ls(n){P().remove(n)}const lt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},hu=/%COMP%/g;function be(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?be(n,o,t):(o=o.replace(hu,n),t.push(o))}return t}function Pt(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let fn=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Vo(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case c.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new pl(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case c.ifc.ShadowDom:return new gl(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=be(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ss),c.LFG(Fs),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Vo{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(lt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const u=lt[o];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=lt[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,r,o&c.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Pt(r)):this.eventManager.addEventListener(e,t,Pt(r))}}class pl extends Vo{constructor(e,t,r,o){super(e),this.component=r;const u=be(o+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr=function dl(n){return"_ngcontent-%COMP%".replace(hu,n)}(o+"-"+r.id),this.hostAttr=function hl(n){return"_nghost-%COMP%".replace(hu,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class gl extends Vo{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=be(o.id,o.styles,[]);for(let h=0;h<u.length;h++){const m=document.createElement("style");m.textContent=u[h],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Rc=(()=>{class n extends du{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(J))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const ml=["alt","control","meta","shift"],Vs={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},lr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},si={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let yu=(()=>{class n extends du{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const u=n.parseEventName(r),h=n.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(t,u.domEventName,h))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const u=n._normalizeKey(r.pop());let h="";if(ml.forEach(E=>{const D=r.indexOf(E);D>-1&&(r.splice(D,1),h+=E+".")}),h+=u,0!=r.length||0===u.length)return null;const m={};return m.domEventName=o,m.fullKey=h,m}static getEventFullKey(t){let r="",o=function Us(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&lr.hasOwnProperty(e)&&(e=lr[e]))}return Vs[e]||e}(t);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),ml.forEach(u=>{u!=o&&si[u](t)&&(r+=u+".")}),r+=o,r}static eventCallback(t,r,o){return u=>{n.getEventFullKey(u)===t&&o.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(J))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const _l=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:"browser"},{provide:c.g9A,useValue:function Ei(){Ps.makeCurrent(),wi.init()},multi:!0},{provide:J,useFactory:function _u(){return(0,c.RDi)(document),document},deps:[]}]),Ca=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function yl(){return new c.qLn},deps:[]},{provide:ks,useClass:Rc,multi:!0,deps:[J,c.R0b,c.Lbi]},{provide:ks,useClass:yu,multi:!0,deps:[J]},{provide:fn,useClass:fn,deps:[ss,Fs,c.AFp]},{provide:c.FYo,useExisting:fn},{provide:zr,useExisting:Fs},{provide:Fs,useClass:Fs,deps:[J]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b]},{provide:ss,useClass:ss,deps:[ks,c.R0b]},{provide:un,useClass:vr,deps:[]}];let Ia=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:_r,useExisting:c.AFp},Ea]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(n,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:Ca,imports:[Fo,c.hGG]}),n})();"undefined"!=typeof window&&window;var An=N(8996),Sn=N(7669);function dt(...n){const e=(0,Sn.yG)(n);return(0,An.D)(n,e)}var cr=N(7579);class dr extends cr.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var Rr=N(8306);const{isArray:jo}=Array,{getPrototypeOf:jc,prototype:ln,keys:wh}=Object;function bi(n){if(1===n.length){const e=n[0];if(jo(e))return{args:e,keys:null};if(function Eu(n){return n&&"object"==typeof n&&jc(n)===ln}(e)){const t=wh(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var oi=N(4671),At=N(4004);const{isArray:Hc}=Array;function $c(n){return(0,At.U)(e=>function Tl(n,e){return Hc(e)?n(...e):n(e)}(n,e))}function yo(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}var Nn=N(5403),us=N(9672);function Hs(n,e,t){n?(0,us.f)(t,n,e):e()}var Ta=N(576);function Li(n,e){const t=(0,Ta.m)(n)?n:()=>n,r=o=>o.error(t());return new Rr.y(e?o=>e.schedule(r,0,o):r)}const $s=(0,N(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Vi=N(8189);function Gc(...n){return function Sl(){return(0,Vi.J)(1)}()((0,An.D)(n,(0,Sn.yG)(n)))}var $o=N(8421);function Ci(n){return new Rr.y(e=>{(0,$o.Xf)(n()).subscribe(e)})}var Go=N(515),Aa=N(727),Nr=N(4482);function Ii(){return(0,Nr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Nn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,u=t;t=null,o&&(!u||o===u)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class qc extends Rr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Nr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Aa.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Nn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Aa.w0.EMPTY)}return e}refCount(){return Ii()(this)}}function xn(n,e){return(0,Nr.e)((t,r)=>{let o=null,u=0,h=!1;const m=()=>h&&!o&&r.complete();t.subscribe((0,Nn.x)(r,E=>{null==o||o.unsubscribe();let D=0;const M=u++;(0,$o.Xf)(n(E,M)).subscribe(o=(0,Nn.x)(r,O=>r.next(e?e(E,O,M,D++):O),()=>{o=null,m()}))},()=>{h=!0,m()}))})}var qo=N(5698);function Di(...n){const e=(0,Sn.yG)(n);return(0,Nr.e)((t,r)=>{(e?Gc(n,t,e):Gc(n,t)).subscribe(r)})}function zo(n,e,t,r,o){return(u,h)=>{let m=t,E=e,D=0;u.subscribe((0,Nn.x)(h,M=>{const O=D++;E=m?n(E,M,O):(m=!0,M),r&&h.next(E)},o&&(()=>{m&&h.next(E),h.complete()})))}}function Er(n,e){return(0,Nr.e)(zo(n,e,arguments.length>=2,!0))}function Ui(n,e){return(0,Nr.e)((t,r)=>{let o=0;t.subscribe((0,Nn.x)(r,u=>n.call(e,u,o++)&&r.next(u)))})}function Bi(n){return(0,Nr.e)((e,t)=>{let u,r=null,o=!1;r=e.subscribe((0,Nn.x)(t,void 0,void 0,h=>{u=(0,$o.Xf)(n(h,Bi(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,u.subscribe(t))})}var yn=N(5577);function ls(n,e){return(0,Ta.m)(e)?(0,yn.z)(n,e,1):(0,yn.z)(n,1)}function zc(n){return n<=0?()=>Go.E:(0,Nr.e)((e,t)=>{let r=[];e.subscribe((0,Nn.x)(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function _n(n=Rp){return(0,Nr.e)((e,t)=>{let r=!1;e.subscribe((0,Nn.x)(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function Rp(){return new $s}function Np(n){return(0,Nr.e)((e,t)=>{let r=!1;e.subscribe((0,Nn.x)(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function Gs(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ui((o,u)=>n(o,u,r)):oi.y,(0,qo.q)(1),t?Np(e):_n(()=>new $s))}var Wr=N(8505);class qs{constructor(e,t){this.id=e,this.url=t}}class cs extends qs{constructor(e,t,r="imperative",o=null){super(e,t),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class bu extends qs{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class pn extends qs{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class xl extends qs{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Zo extends qs{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fp extends qs{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ml extends qs{constructor(e,t,r,o,u){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=u}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class br extends qs{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ui extends qs{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ol{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ds{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ti{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ji{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sa{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rl{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nl{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ot="primary";class Pl{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function $n(n){return new Pl(n)}const kl="ngNavigationCancelingError";function zs(n){const e=Error("NavigationCancelingError: "+n);return e[kl]=!0,e}function _o(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let u=0;u<r.length;u++){const h=r[u],m=n[u];if(h.startsWith(":"))o[h.substring(1)]=m;else if(h!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function Hi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let u=0;u<t.length;u++)if(o=t[u],!Iu(n[o],e[o]))return!1;return!0}function Iu(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,u)=>r[u]===o)}return n===e}function $i(n){return Array.prototype.concat.apply([],n)}function Wc(n){return n.length>0?n[n.length-1]:null}function Gn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function li(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,An.D)(Promise.resolve(n)):dt(n)}const vo={exact:function I(n,e,t){if(!xt(n.segments,e.segments)||!ne(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!I(n.children[r],e.children[r],t))return!1;return!0},subset:F},Wo={exact:function C(n,e){return Hi(n,e)},subset:function x(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Iu(n[t],e[t]))},ignored:()=>!0};function Du(n,e,t){return vo[t.paths](n.root,e.root,t.matrixParams)&&Wo[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function F(n,e,t){return K(n,e,e.segments,t)}function K(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!xt(o,t)||e.hasChildren()||!ne(o,t,r))}if(n.segments.length===t.length){if(!xt(n.segments,t)||!ne(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!F(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(xt(n.segments,o)&&ne(n.segments,o,r)&&n.children[Ot])&&K(n.children[Ot],e,u,r)}}function ne(n,e,t){return e.every((r,o)=>Wo[t](n[o].parameters,r.parameters))}class Ae{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$n(this.queryParams)),this._queryParamMap}toString(){return Ko.serialize(this)}}class Se{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Gn(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return wo(this)}}class We{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=$n(this.parameters)),this._parameterMap}toString(){return xa(this)}}function xt(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class Pn{}class vn{parse(e){const t=new Yc(e);return new Ae(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Pr(e.root,!0)}`,r=function Hm(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${Ai(t)}=${Ai(o)}`).join("&"):`${Ai(t)}=${Ai(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Eo(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Ko=new vn;function wo(n){return n.segments.map(e=>xa(e)).join("/")}function Pr(n,e){if(!n.hasChildren())return wo(n);if(e){const t=n.children[Ot]?Pr(n.children[Ot],!1):"",r=[];return Gn(n.children,(o,u)=>{u!==Ot&&r.push(`${u}:${Pr(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Et(n,e){let t=[];return Gn(n.children,(r,o)=>{o===Ot&&(t=t.concat(e(r,o)))}),Gn(n.children,(r,o)=>{o!==Ot&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===Ot?[Pr(n.children[Ot],!1)]:[`${o}:${Pr(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ot]?`${wo(n)}/${t[0]}`:`${wo(n)}/(${t.join("//")})`}}function ci(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ai(n){return ci(n).replace(/%3B/gi,";")}function Kc(n){return ci(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ll(n){return decodeURIComponent(n)}function Vl(n){return Ll(n.replace(/\+/g,"%20"))}function xa(n){return`${Kc(n.path)}${function Lp(n){return Object.keys(n).map(e=>`;${Kc(e)}=${Kc(n[e])}`).join("")}(n.parameters)}`}const $m=/^[^\/()?;=#]+/;function hs(n){const e=n.match($m);return e?e[0]:""}const Ul=/^[^=?&#]+/,qm=/^[^&#]+/;class Yc{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Se([],{}):new Se([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ot]=new Se(e,t)),r}parseSegment(){const e=hs(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new We(Ll(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=hs(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=hs(this.remaining);o&&(r=o,this.capture(r))}e[Ll(t)]=Ll(r)}parseQueryParam(e){const t=function Gm(n){const e=n.match(Ul);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const h=function Vp(n){const e=n.match(qm);return e?e[0]:""}(this.remaining);h&&(r=h,this.capture(r))}const o=Vl(t),u=Vl(r);if(e.hasOwnProperty(o)){let h=e[o];Array.isArray(h)||(h=[h],e[o]=h),h.push(u)}else e[o]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=hs(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let u;r.indexOf(":")>-1?(u=r.substr(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Ot);const h=this.parseChildren();t[u]=1===Object.keys(h).length?h[Ot]:new Se([],h),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class zm{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Eh(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Eh(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=bh(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return bh(e,this._root).map(t=>t.value)}}function Eh(n,e){if(n===e.value)return e;for(const t of e.children){const r=Eh(n,t);if(r)return r}return null}function bh(n,e){if(n===e.value)return[e];for(const t of e.children){const r=bh(n,t);if(r.length)return r.unshift(e),r}return[]}class bo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Co(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Jc extends zm{constructor(e,t){super(e),this.snapshot=t,Xc(this,e)}toString(){return this.snapshot.toString()}}function Ma(n,e){const t=function Zm(n,e){const h=new Tu([],{},{},"",{},Ot,e,null,n.root,-1,{});return new Ch("",new bo(h,[]))}(n,e),r=new dr([new We("",{})]),o=new dr({}),u=new dr({}),h=new dr({}),m=new dr(""),E=new Yo(r,o,h,m,u,Ot,e,t.root);return E.snapshot=t.root,new Jc(new bo(E,[]),t)}class Yo{constructor(e,t,r,o,u,h,m,E){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=h,this.component=m,this._futureSnapshot=E}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,At.U)(e=>$n(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,At.U)(e=>$n(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Wm(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],u=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(u.component)break;r--}}return function Qc(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Tu{constructor(e,t,r,o,u,h,m,E,D,M,O){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=h,this.component=m,this.routeConfig=E,this._urlSegment=D,this._lastPathIndex=M,this._resolve=O}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=$n(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$n(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ch extends zm{constructor(e,t){super(t),this.url=e,Xc(this,t)}toString(){return ed(this._root)}}function Xc(n,e){e.value._routerState=n,e.children.forEach(t=>Xc(n,t))}function ed(n){const e=n.children.length>0?` { ${n.children.map(ed).join(", ")} } `:"";return`${n.value}${e}`}function td(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Hi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Hi(e.params,t.params)||n.params.next(t.params),function Cu(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Hi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Hi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Ih(n,e){const t=Hi(n.params,e.params)&&function _t(n,e){return xt(n,e)&&n.every((t,r)=>Hi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Ih(n.parent,e.parent))}function Bl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function Dh(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return Bl(n,r,o);return Bl(n,r)})}(n,e,t);return new bo(r,o)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const h=u.route;return h.value._futureSnapshot=e.value,h.children=e.children.map(m=>Bl(n,m)),h}}const r=function Ym(n){return new Yo(new dr(n.url),new dr(n.params),new dr(n.queryParams),new dr(n.fragment),new dr(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(u=>Bl(n,u));return new bo(r,o)}}function Jo(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Au(n){return"object"==typeof n&&null!=n&&n.outlets}function Up(n,e,t,r,o){let u={};if(r&&Gn(r,(m,E)=>{u[E]=Array.isArray(m)?m.map(D=>`${D}`):`${m}`}),n===e)return new Ae(t,u,o);const h=Th(n,e,t);return new Ae(h,u,o)}function Th(n,e,t){const r={};return Gn(n.children,(o,u)=>{r[u]=o===e?t:Th(o,e,t)}),new Se(n.segments,r)}class Jm{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Jo(r[0]))throw new Error("Root segment cannot have matrix parameters");const o=r.find(Au);if(o&&o!==Wc(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ah{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function ty(n,e,t){if(n||(n=new Se([],{})),0===n.segments.length&&n.hasChildren())return Ws(n,e,t);const r=function M0(n,e,t){let r=0,o=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return u;const h=n.segments[o],m=t[r];if(Au(m))break;const E=`${m}`,D=r<t.length-1?t[r+1]:null;if(o>0&&void 0===E)break;if(E&&D&&"object"==typeof D&&void 0===D.outlets){if(!Si(E,D,h))return u;r+=2}else{if(!Si(E,{},h))return u;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new Se(n.segments.slice(0,r.pathIndex),{});return u.children[Ot]=new Se(n.segments.slice(r.pathIndex),n.children),Ws(u,0,o)}return r.match&&0===o.length?new Se(n.segments,{}):r.match&&!n.hasChildren()?Sh(n,e,t):r.match?Ws(n,0,o):Sh(n,e,t)}function Ws(n,e,t){if(0===t.length)return new Se(n.segments,{});{const r=function ey(n){return Au(n[0])?n[0].outlets:{[Ot]:n}}(t),o={};return Gn(r,(u,h)=>{"string"==typeof u&&(u=[u]),null!==u&&(o[h]=ty(n.children[h],e,u))}),Gn(n.children,(u,h)=>{void 0===r[h]&&(o[h]=u)}),new Se(n.segments,o)}}function Sh(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const u=t[o];if(Au(u)){const E=Su(u.outlets);return new Se(r,E)}if(0===o&&Jo(t[0])){r.push(new We(n.segments[e].path,xh(t[0]))),o++;continue}const h=Au(u)?u.outlets[Ot]:`${u}`,m=o<t.length-1?t[o+1]:null;h&&m&&Jo(m)?(r.push(new We(h,xh(m))),o+=2):(r.push(new We(h,{})),o++)}return new Se(r,{})}function Su(n){const e={};return Gn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Sh(new Se([],{}),0,t))}),e}function xh(n){const e={};return Gn(n,(t,r)=>e[r]=`${t}`),e}function Si(n,e,t){return n==t.path&&Hi(e,t.parameters)}class jp{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),td(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=Co(t);e.children.forEach(u=>{const h=u.value.outlet;this.deactivateRoutes(u,o[h],r),delete o[h]}),Gn(o,(u,h)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(o===u)if(o.component){const h=r.getContext(o.outlet);h&&this.deactivateChildRoutes(e,t,h.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=Co(e);for(const h of Object.keys(u))this.deactivateRouteAndItsChildren(u[h],o);if(r&&r.outlet){const h=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:h,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=Co(e);for(const h of Object.keys(u))this.deactivateRouteAndItsChildren(u[h],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=Co(t);e.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],r),this.forwardEvent(new Rl(u.value.snapshot))}),e.children.length&&this.forwardEvent(new ji(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(td(o),o===u)if(o.component){const h=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,h.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const h=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const m=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),h.children.onOutletReAttached(m.contexts),h.attachRef=m.componentRef,h.route=m.route.value,h.outlet&&h.outlet.attach(m.componentRef,m.route.value),td(m.route.value),this.activateChildRoutes(e,null,h.children)}else{const m=function nd(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(o.snapshot),E=m?m.module.componentFactoryResolver:null;h.attachRef=null,h.route=o,h.resolver=E,h.outlet&&h.outlet.activateWith(o,E),this.activateChildRoutes(e,null,h.children)}}else this.activateChildRoutes(e,null,r)}}class rd{constructor(e,t){this.routes=e,this.module=t}}function Oa(n){return"function"==typeof n}function xu(n){return n instanceof Ae}const Hl=Symbol("INITIAL_VALUE");function Qo(){return xn(n=>function Ho(...n){const e=(0,Sn.yG)(n),t=(0,Sn.jO)(n),{args:r,keys:o}=bi(n);if(0===r.length)return(0,An.D)([],e);const u=new Rr.y(function ai(n,e,t=oi.y){return r=>{Hs(e,()=>{const{length:o}=n,u=new Array(o);let h=o,m=o;for(let E=0;E<o;E++)Hs(e,()=>{const D=(0,An.D)(n[E],e);let M=!1;D.subscribe((0,Nn.x)(r,O=>{u[E]=O,M||(M=!0,m--),m||r.next(t(u.slice()))},()=>{--h||r.complete()}))},r)},r)}}(r,e,o?h=>yo(o,h):oi.y));return t?u.pipe($c(t)):u}(n.map(e=>e.pipe((0,qo.q)(1),Di(Hl)))).pipe(Er((e,t)=>{let r=!1;return t.reduce((o,u,h)=>o!==Hl?o:(u===Hl&&(r=!0),r||!1!==u&&h!==t.length-1&&!xu(u)?o:u),e)},Hl),Ui(e=>e!==Hl),(0,At.U)(e=>xu(e)?e:!0===e),(0,qo.q)(1)))}class ny{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new $l,this.attachRef=null}}class $l{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new ny,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Mu=(()=>{class n{constructor(t,r,o,u,h){this.parentContexts=t,this.location=r,this.resolver=o,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=u||Ot,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const h=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,E=new Nh(t,m,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,E),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36($l),c.Y36(c.s_b),c.Y36(c._Vd),c.$8M("name"),c.Y36(c.sBO))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Nh{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Yo?this.route:e===$l?this.childContexts:this.parent.get(e,t)}}let Ph=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"router-outlet")},directives:[Mu],encapsulation:2}),n})();function Gl(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];id(r,kh(e,r))}}function id(n,e){n.children&&Gl(n.children,e)}function kh(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Fh(n){const e=n.children&&n.children.map(Fh),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ot&&(t.component=Ph),t}function Yt(n){return n.outlet||Ot}function Lh(n,e){const t=n.filter(r=>Yt(r)===e);return t.push(...n.filter(r=>Yt(r)!==e)),t}const $p={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ou(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},$p):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const u=(e.matcher||_o)(t,n,e);if(!u)return Object.assign({},$p);const h={};Gn(u.posParams,(E,D)=>{h[D]=E.path});const m=u.consumed.length>0?Object.assign(Object.assign({},h),u.consumed[u.consumed.length-1].parameters):h;return{matched:!0,consumedSegments:u.consumed,remainingSegments:t.slice(u.consumed.length),parameters:m,positionalParamSegments:null!==(r=u.posParams)&&void 0!==r?r:{}}}function ql(n,e,t,r,o="corrected"){if(t.length>0&&function iy(n,e,t){return t.some(r=>od(n,e,r)&&Yt(r)!==Ot)}(n,t,r)){const h=new Se(e,function sd(n,e,t,r){const o={};o[Ot]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&Yt(u)!==Ot){const h=new Se([],{});h._sourceSegment=n,h._segmentIndexShift=e.length,o[Yt(u)]=h}return o}(n,e,r,new Se(t,n.children)));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:[]}}if(0===t.length&&function Gp(n,e,t){return t.some(r=>od(n,e,r))}(n,t,r)){const h=new Se(n.segments,function ry(n,e,t,r,o,u){const h={};for(const m of r)if(od(n,t,m)&&!o[Yt(m)]){const E=new Se([],{});E._sourceSegment=n,E._segmentIndexShift="legacy"===u?n.segments.length:e.length,h[Yt(m)]=E}return Object.assign(Object.assign({},o),h)}(n,e,t,r,n.children,o));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:t}}const u=new Se(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function od(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function sy(n,e,t,r){return!!(Yt(n)===r||r!==Ot&&od(e,t,n))&&("**"===n.path||Ou(e,n,t).matched)}function oy(n,e,t){return 0===e.length&&!n.children[t]}class Xo{constructor(e){this.segmentGroup=e||null}}class Cr{constructor(e){this.urlTree=e}}function Io(n){return Li(new Xo(n))}function zl(n){return Li(new Cr(n))}class Uh{constructor(e,t,r,o,u){this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=u,this.allowRedirects=!0,this.ngModule=e.get(c.h0i)}apply(){const e=ql(this.urlTree.root,[],[],this.config).segmentGroup,t=new Se(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Ot).pipe((0,At.U)(u=>this.createUrlTree(Na(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Bi(u=>{if(u instanceof Cr)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof Xo?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Ot).pipe((0,At.U)(o=>this.createUrlTree(Na(o),e.queryParams,e.fragment))).pipe(Bi(o=>{throw o instanceof Xo?this.noMatchError(o):o}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const o=e.segments.length>0?new Se([],{[Ot]:e}):e;return new Ae(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,At.U)(u=>new Se([],u))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const u of Object.keys(r.children))"primary"===u?o.unshift(u):o.push(u);return(0,An.D)(o).pipe(ls(u=>{const h=r.children[u],m=Lh(t,u);return this.expandSegmentGroup(e,m,h,u).pipe((0,At.U)(E=>({segment:E,outlet:u})))}),Er((u,h)=>(u[h.outlet]=h.segment,u),{}),function Pp(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ui((o,u)=>n(o,u,r)):oi.y,zc(1),t?Np(e):_n(()=>new $s))}())}expandSegment(e,t,r,o,u,h){return(0,An.D)(r).pipe(ls(m=>this.expandSegmentAgainstRoute(e,t,r,m,o,u,h).pipe(Bi(D=>{if(D instanceof Xo)return dt(null);throw D}))),Gs(m=>!!m),Bi((m,E)=>{if(m instanceof $s||"EmptyError"===m.name)return oy(t,o,u)?dt(new Se([],{})):Io(t);throw m}))}expandSegmentAgainstRoute(e,t,r,o,u,h,m){return sy(o,t,u,h)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,u,h):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,h):Io(t):Io(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,h){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,h):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?zl(u):this.lineralizeSegments(r,u).pipe((0,yn.z)(h=>{const m=new Se(h,{});return this.expandSegment(e,m,t,h,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,h){const{matched:m,consumedSegments:E,remainingSegments:D,positionalParamSegments:M}=Ou(t,o,u);if(!m)return Io(t);const O=this.applyRedirectCommands(E,o.redirectTo,M);return o.redirectTo.startsWith("/")?zl(O):this.lineralizeSegments(o,O).pipe((0,yn.z)(H=>this.expandSegment(e,t,r,H.concat(D),h,!1)))}matchSegmentAgainstRoute(e,t,r,o,u){if("**"===r.path)return r.loadChildren?(r._loadedConfig?dt(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,At.U)(O=>(r._loadedConfig=O,new Se(o,{})))):dt(new Se(o,{}));const{matched:h,consumedSegments:m,remainingSegments:E}=Ou(t,r,o);return h?this.getChildConfig(e,r,o).pipe((0,yn.z)(M=>{const O=M.module,H=M.routes,{segmentGroup:G,slicedSegments:se}=ql(t,m,E,H),Fe=new Se(G.segments,G.children);if(0===se.length&&Fe.hasChildren())return this.expandChildren(O,H,Fe).pipe((0,At.U)(hn=>new Se(m,hn)));if(0===H.length&&0===se.length)return dt(new Se(m,{}));const et=Yt(r)===u;return this.expandSegment(O,Fe,H,se,et?Ot:u,!0).pipe((0,At.U)(st=>new Se(m.concat(st.segments),st.children)))})):Io(t)}getChildConfig(e,t,r){return t.children?dt(new rd(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?dt(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,yn.z)(o=>o?this.configLoader.load(e.injector,t).pipe((0,At.U)(u=>(t._loadedConfig=u,u))):function kr(n){return Li(zs(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):dt(new rd([],e))}runCanLoadGuards(e,t,r){const o=t.canLoad;return o&&0!==o.length?dt(o.map(h=>{const m=e.get(h);let E;if(function Mh(n){return n&&Oa(n.canLoad)}(m))E=m.canLoad(t,r);else{if(!Oa(m))throw new Error("Invalid CanLoad guard");E=m(t,r)}return li(E)})).pipe(Qo(),(0,Wr.b)(h=>{if(!xu(h))return;const m=zs(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw m.url=h,m}),(0,At.U)(h=>!0===h)):dt(!0)}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return dt(r);if(o.numberOfChildren>1||!o.children[Ot])return Li(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));o=o.children[Ot]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,o){const u=this.createSegmentGroup(e,t.root,r,o);return new Ae(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Gn(e,(o,u)=>{if("string"==typeof o&&o.startsWith(":")){const m=o.substring(1);r[u]=t[m]}else r[u]=o}),r}createSegmentGroup(e,t,r,o){const u=this.createSegments(e,t.segments,r,o);let h={};return Gn(t.children,(m,E)=>{h[E]=this.createSegmentGroup(e,m,r,o)}),new Se(u,h)}createSegments(e,t,r,o){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,o):this.findOrReturn(u,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}function Na(n){const e={};for(const r of Object.keys(n.children)){const u=Na(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function xi(n){if(1===n.numberOfChildren&&n.children[Ot]){const e=n.children[Ot];return new Se(n.segments.concat(e.segments),e.children)}return n}(new Se(n.segments,e))}class qp{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Pa{constructor(e,t){this.component=e,this.route=t}}function jh(n,e,t){const r=n._root;return di(r,e?e._root:null,t,[r.value])}function Zl(n,e,t){const r=function ay(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function di(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=Co(e);return n.children.forEach(h=>{(function Zp(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,h=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(h&&u.routeConfig===h.routeConfig){const E=function uy(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!xt(n.url,e.url);case"pathParamsOrQueryParamsChange":return!xt(n.url,e.url)||!Hi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ih(n,e)||!Hi(n.queryParams,e.queryParams);default:return!Ih(n,e)}}(h,u,u.routeConfig.runGuardsAndResolvers);E?o.canActivateChecks.push(new qp(r)):(u.data=h.data,u._resolvedData=h._resolvedData),di(n,e,u.component?m?m.children:null:t,r,o),E&&m&&m.outlet&&m.outlet.isActivated&&o.canDeactivateChecks.push(new Pa(m.outlet.component,h))}else h&&ka(e,m,o),o.canActivateChecks.push(new qp(r)),di(n,null,u.component?m?m.children:null:t,r,o)})(h,u[h.value.outlet],t,r.concat([h.value]),o),delete u[h.value.outlet]}),Gn(u,(h,m)=>ka(h,t.getContext(m),o)),o}function ka(n,e,t){const r=Co(n),o=n.value;Gn(r,(u,h)=>{ka(u,o.component?e?e.children.getContext(h):null:e,t)}),t.canDeactivateChecks.push(new Pa(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}class Gh{}function qh(n){return new Rr.y(e=>e.error(n))}class zh{constructor(e,t,r,o,u,h){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=h}recognize(){const e=ql(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Ot);if(null===t)return null;const r=new Tu([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ot,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new bo(r,t),u=new Ch(this.url,o);return this.inheritParamsAndData(u._root),u}inheritParamsAndData(e){const t=e.value,r=Wm(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const u of Object.keys(t.children)){const h=t.children[u],m=Lh(e,u),E=this.processSegmentGroup(m,h,u);if(null===E)return null;r.push(...E)}const o=Kp(r);return function hy(n){n.sort((e,t)=>e.value.outlet===Ot?-1:t.value.outlet===Ot?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}processSegment(e,t,r,o){for(const u of e){const h=this.processSegmentAgainstRoute(u,t,r,o);if(null!==h)return h}return oy(t,r,o)?[]:null}processSegmentAgainstRoute(e,t,r,o){if(e.redirectTo||!sy(e,t,r,o))return null;let u,h=[],m=[];if("**"===e.path){const G=r.length>0?Wc(r).parameters:{};u=new Tu(r,G,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,v(e),Yt(e),e.component,e,f(t),g(t)+r.length,A(e))}else{const G=Ou(t,e,r);if(!G.matched)return null;h=G.consumedSegments,m=G.remainingSegments,u=new Tu(h,G.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,v(e),Yt(e),e.component,e,f(t),g(t)+h.length,A(e))}const E=function fy(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:D,slicedSegments:M}=ql(t,h,m,E.filter(G=>void 0===G.redirectTo),this.relativeLinkResolution);if(0===M.length&&D.hasChildren()){const G=this.processChildren(E,D);return null===G?null:[new bo(u,G)]}if(0===E.length&&0===M.length)return[new bo(u,[])];const O=Yt(e)===o,H=this.processSegment(E,D,M,O?Ot:o);return null===H?null:[new bo(u,H)]}}function py(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Kp(n){const e=[],t=new Set;for(const r of n){if(!py(r)){e.push(r);continue}const o=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=Kp(r.children);e.push(new bo(r.value,o))}return e.filter(r=>!t.has(r))}function f(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function g(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function v(n){return n.data||{}}function A(n){return n.resolve||{}}function Ye(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function rt(n){return xn(e=>{const t=n(e);return t?(0,An.D)(t).pipe((0,At.U)(()=>e)):dt(e)})}class Kl extends class qi{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Ru=new c.OlP("ROUTES");class Nu{constructor(e,t,r,o){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=o}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const o=this.loadModuleFactory(t.loadChildren).pipe((0,At.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t);const h=u.create(e);return new rd($i(h.injector.get(Ru,void 0,c.XFs.Self|c.XFs.Optional)).map(Fh),h)}),Bi(u=>{throw t._loader$=void 0,u}));return t._loader$=new qc(o,()=>new cr.x).pipe(Ii()),t._loader$}loadModuleFactory(e){return li(e()).pipe((0,yn.z)(t=>t instanceof c.YKP?dt(t):(0,An.D)(this.compiler.compileModuleAsync(t))))}}class gy{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function ea(n){throw n}function ad(n,e,t){return e.parse("/")}function ud(n,e){return dt(null)}const Wh={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ld={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let er=(()=>{class n{constructor(t,r,o,u,h,m,E){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=o,this.location=u,this.config=E,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new cr.x,this.errorHandler=ea,this.malformedUriErrorHandler=ad,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ud,afterPreactivation:ud},this.urlHandlingStrategy=new gy,this.routeReuseStrategy=new Kl,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(c.h0i),this.console=h.get(c.c2e);const O=h.get(c.R0b);this.isNgZoneEnabled=O instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(E),this.currentUrlTree=function Fl(){return new Ae(new Se([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Nu(h,m,H=>this.triggerEvent(new Ol(H)),H=>this.triggerEvent(new ds(H))),this.routerState=Ma(this.currentUrlTree,this.rootComponentType),this.transitions=new dr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Ui(o=>0!==o.id),(0,At.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),xn(o=>{let u=!1,h=!1;return dt(o).pipe((0,Wr.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),xn(m=>{const E=this.browserUrlTree.toString(),D=!this.navigated||m.extractedUrl.toString()!==E||E!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||D)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return Yp(m.source)&&(this.browserUrlTree=m.extractedUrl),dt(m).pipe(xn(O=>{const H=this.transitions.getValue();return r.next(new cs(O.id,this.serializeUrl(O.extractedUrl),O.source,O.restoredState)),H!==this.transitions.getValue()?Go.E:Promise.resolve(O)}),function Bh(n,e,t,r){return xn(o=>function Ra(n,e,t,r,o){return new Uh(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,At.U)(u=>Object.assign(Object.assign({},o),{urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Wr.b)(O=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:O.urlAfterRedirects})}),function R(n,e,t,r,o){return(0,yn.z)(u=>function dy(n,e,t,r,o="emptyOnly",u="legacy"){try{const h=new zh(n,e,t,r,o,u).recognize();return null===h?qh(new Gh):dt(h)}catch(h){return qh(h)}}(n,e,u.urlAfterRedirects,t(u.urlAfterRedirects),r,o).pipe((0,At.U)(h=>Object.assign(Object.assign({},u),{targetSnapshot:h}))))}(this.rootComponentType,this.config,O=>this.serializeUrl(O),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Wr.b)(O=>{if("eager"===this.urlUpdateStrategy){if(!O.extras.skipLocationChange){const G=this.urlHandlingStrategy.merge(O.urlAfterRedirects,O.rawUrl);this.setBrowserUrl(G,O)}this.browserUrlTree=O.urlAfterRedirects}const H=new Zo(O.id,this.serializeUrl(O.extractedUrl),this.serializeUrl(O.urlAfterRedirects),O.targetSnapshot);r.next(H)}));if(D&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:H,extractedUrl:G,source:se,restoredState:Fe,extras:et}=m,vt=new cs(H,this.serializeUrl(G),se,Fe);r.next(vt);const st=Ma(G,this.rootComponentType).snapshot;return dt(Object.assign(Object.assign({},m),{targetSnapshot:st,urlAfterRedirects:G,extras:Object.assign(Object.assign({},et),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,m.resolve(null),Go.E}),rt(m=>{const{targetSnapshot:E,id:D,extractedUrl:M,rawUrl:O,extras:{skipLocationChange:H,replaceUrl:G}}=m;return this.hooks.beforePreactivation(E,{navigationId:D,appliedUrlTree:M,rawUrlTree:O,skipLocationChange:!!H,replaceUrl:!!G})}),(0,Wr.b)(m=>{const E=new Fp(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(E)}),(0,At.U)(m=>Object.assign(Object.assign({},m),{guards:jh(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function ly(n,e){return(0,yn.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:h}}=t;return 0===h.length&&0===u.length?dt(Object.assign(Object.assign({},t),{guardsResult:!0})):function Wp(n,e,t,r){return(0,An.D)(n).pipe((0,yn.z)(o=>function Wl(n,e,t,r,o){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?dt(u.map(m=>{const E=Zl(m,e,o);let D;if(function O0(n){return n&&Oa(n.canDeactivate)}(E))D=li(E.canDeactivate(n,e,t,r));else{if(!Oa(E))throw new Error("Invalid CanDeactivate guard");D=li(E(n,e,t,r))}return D.pipe(Gs())})).pipe(Qo()):dt(!0)}(o.component,o.route,t,e,r)),Gs(o=>!0!==o,!0))}(h,r,o,n).pipe((0,yn.z)(m=>m&&function Hp(n){return"boolean"==typeof n}(m)?function Ir(n,e,t,r){return(0,An.D)(e).pipe(ls(o=>Gc(function $h(n,e){return null!==n&&e&&e(new Ti(n)),dt(!0)}(o.route.parent,r),function Hh(n,e){return null!==n&&e&&e(new Sa(n)),dt(!0)}(o.route,r),function Do(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(h=>function zp(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(h)).filter(h=>null!==h).map(h=>Ci(()=>dt(h.guards.map(E=>{const D=Zl(E,h.node,t);let M;if(function Rh(n){return n&&Oa(n.canActivateChild)}(D))M=li(D.canActivateChild(r,n));else{if(!Oa(D))throw new Error("Invalid CanActivateChild guard");M=li(D(r,n))}return M.pipe(Gs())})).pipe(Qo())));return dt(u).pipe(Qo())}(n,o.path,t),function cy(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return dt(!0);const o=r.map(u=>Ci(()=>{const h=Zl(u,e,t);let m;if(function Oh(n){return n&&Oa(n.canActivate)}(h))m=li(h.canActivate(e,n));else{if(!Oa(h))throw new Error("Invalid CanActivate guard");m=li(h(e,n))}return m.pipe(Gs())}));return dt(o).pipe(Qo())}(n,o.route,t))),Gs(o=>!0!==o,!0))}(r,u,n,e):dt(m)),(0,At.U)(m=>Object.assign(Object.assign({},t),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,Wr.b)(m=>{if(xu(m.guardsResult)){const D=zs(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw D.url=m.guardsResult,D}const E=new Ml(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(E)}),Ui(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),rt(m=>{if(m.guards.canActivateChecks.length)return dt(m).pipe((0,Wr.b)(E=>{const D=new br(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(D)}),xn(E=>{let D=!1;return dt(E).pipe(function q(n,e){return(0,yn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return dt(t);let u=0;return(0,An.D)(o).pipe(ls(h=>function de(n,e,t,r){return function Ue(n,e,t,r){const o=Ye(n);if(0===o.length)return dt({});const u={};return(0,An.D)(o).pipe((0,yn.z)(h=>function pt(n,e,t,r){const o=Zl(n,e,r);return li(o.resolve?o.resolve(e,t):o(e,t))}(n[h],e,t,r).pipe((0,Wr.b)(m=>{u[h]=m}))),zc(1),(0,yn.z)(()=>Ye(u).length===o.length?dt(u):Go.E))}(n._resolve,n,e,r).pipe((0,At.U)(u=>(n._resolvedData=u,n.data=Object.assign(Object.assign({},n.data),Wm(n,t).resolve),null)))}(h.route,r,n,e)),(0,Wr.b)(()=>u++),zc(1),(0,yn.z)(h=>u===o.length?dt(t):Go.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Wr.b)({next:()=>D=!0,complete:()=>{D||(this.restoreHistory(E),this.cancelNavigationTransition(E,"At least one route resolver didn't emit any value."))}}))}),(0,Wr.b)(E=>{const D=new ui(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(D)}))}),rt(m=>{const{targetSnapshot:E,id:D,extractedUrl:M,rawUrl:O,extras:{skipLocationChange:H,replaceUrl:G}}=m;return this.hooks.afterPreactivation(E,{navigationId:D,appliedUrlTree:M,rawUrlTree:O,skipLocationChange:!!H,replaceUrl:!!G})}),(0,At.U)(m=>{const E=function Km(n,e,t){const r=Bl(n,e._root,t?t._root:void 0);return new Jc(r,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:E})}),(0,Wr.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,e,t)=>(0,At.U)(r=>(new jp(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,Wr.b)({next(){u=!0},complete(){u=!0}}),function kp(n){return(0,Nr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var m;u||h||this.cancelNavigationTransition(o,`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`),(null===(m=this.currentNavigation)||void 0===m?void 0:m.id)===o.id&&(this.currentNavigation=null)}),Bi(m=>{if(h=!0,function Zc(n){return n&&n[kl]}(m)){const E=xu(m.url);E||(this.navigated=!0,this.restoreHistory(o,!0));const D=new pn(o.id,this.serializeUrl(o.extractedUrl),m.message);r.next(D),E?setTimeout(()=>{const M=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),O={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Yp(o.source)};this.scheduleNavigation(M,"imperative",null,O,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const E=new xl(o.id,this.serializeUrl(o.extractedUrl),m);r.next(E);try{o.resolve(this.errorHandler(m))}catch(D){o.reject(D)}}return Go.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var o;const u={replaceUrl:!0},h=(null===(o=t.state)||void 0===o?void 0:o.navigationId)?t.state:null;if(h){const E=Object.assign({},h);delete E.navigationId,delete E.\u0275routerPageId,0!==Object.keys(E).length&&(u.state=E)}const m=this.parseUrl(t.url);this.scheduleNavigation(m,r,h,u)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Gl(t),this.config=t.map(Fh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:u,fragment:h,queryParamsHandling:m,preserveFragment:E}=r,D=o||this.routerState.root,M=E?this.currentUrlTree.fragment:h;let O=null;switch(m){case"merge":O=Object.assign(Object.assign({},this.currentUrlTree.queryParams),u);break;case"preserve":O=this.currentUrlTree.queryParams;break;default:O=u||null}return null!==O&&(O=this.removeEmptyProps(O)),function Zs(n,e,t,r,o){if(0===t.length)return Up(e.root,e.root,e.root,r,o);const u=function Qm(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Jm(!0,0,n);let e=0,t=!1;const r=n.reduce((o,u,h)=>{if("object"==typeof u&&null!=u){if(u.outlets){const m={};return Gn(u.outlets,(E,D)=>{m[D]="string"==typeof E?E.split("/"):E}),[...o,{outlets:m}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===h?(u.split("/").forEach((m,E)=>{0==E&&"."===m||(0==E&&""===m?t=!0:".."===m?e++:""!=m&&o.push(m))}),o):[...o,u]},[]);return new Jm(t,e,r)}(t);if(u.toRoot())return Up(e.root,e.root,new Se([],{}),r,o);const h=function Bp(n,e,t){if(n.isAbsolute)return new Ah(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const u=t.snapshot._urlSegment;return new Ah(u,u===e.root,0)}const r=Jo(n.commands[0])?0:1;return function Xm(n,e,t){let r=n,o=e,u=t;for(;u>o;){if(u-=o,r=r.parent,!r)throw new Error("Invalid number of '../'");o=r.segments.length}return new Ah(r,!1,o-u)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(u,e,n),m=h.processChildren?Ws(h.segmentGroup,h.index,u.commands):ty(h.segmentGroup,h.index,u.commands);return Up(e.root,h.segmentGroup,m,r,o)}(D,this.currentUrlTree,t,O,null!=M?M:null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=xu(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function Kh(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?Object.assign({},Wh):!1===r?Object.assign({},ld):r,xu(t))return Du(this.currentUrlTree,t,o);const u=this.parseUrl(t);return Du(this.currentUrlTree,u,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const u=t[o];return null!=u&&(r[o]=u),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new bu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,o,u,h){var m,E;if(this.disposed)return Promise.resolve(!1);let D,M,O;h?(D=h.resolve,M=h.reject,O=h.promise):O=new Promise((se,Fe)=>{D=se,M=Fe});const H=++this.navigationId;let G;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),G=o&&o.\u0275routerPageId?o.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?null!==(m=this.browserPageId)&&void 0!==m?m:0:(null!==(E=this.browserPageId)&&void 0!==E?E:0)+1):G=0,this.setTransition({id:H,targetPageId:G,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:D,reject:M,promise:O,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),O.catch(se=>Promise.reject(se))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),u=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",u):this.location.go(o,"",u)}restoreHistory(t,r=!1){var o,u;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===h?this.currentUrlTree===(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)&&0===h&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const o=new pn(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Yp(n){return"imperative"!==n}let Yh=(()=>{class n{constructor(t,r,o,u,h){this.router=t,this.route=r,this.tabIndexAttribute=o,this.renderer=u,this.el=h,this.commands=null,this.onChanges=new cr.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,o=this.el.nativeElement;null!==t?r.setAttribute(o,"tabindex",t):r.removeAttribute(o,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:dd(this.skipLocationChange),replaceUrl:dd(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:dd(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(er),c.Y36(Yo),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&c.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[c.TTD]}),n})(),cd=(()=>{class n{constructor(t,r,o){this.router=t,this.route=r,this.locationStrategy=o,this.commands=null,this.href=null,this.onChanges=new cr.x,this.subscription=t.events.subscribe(u=>{u instanceof bu&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,o,u,h){if(0!==t||r||o||u||h||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const m={skipLocationChange:dd(this.skipLocationChange),replaceUrl:dd(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,m),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:dd(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(er),c.Y36(Yo),c.Y36(ie))},n.\u0275dir=c.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&c.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&c.uIk("target",r.target)("href",r.href,c.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[c.TTD]}),n})();function dd(n){return""===n||!!n}class yy{}class N0{preload(e,t){return dt(null)}}let P0=(()=>{class n{constructor(t,r,o,u){this.router=t,this.injector=o,this.preloadingStrategy=u,this.loader=new Nu(o,r,E=>t.triggerEvent(new Ol(E)),E=>t.triggerEvent(new ds(E)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ui(t=>t instanceof bu),ls(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(c.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const u of r)if(u.loadChildren&&!u.canLoad&&u._loadedConfig){const h=u._loadedConfig;o.push(this.processRoutes(h.module,h.routes))}else u.loadChildren&&!u.canLoad?o.push(this.preloadConfig(t,u)):u.children&&o.push(this.processRoutes(t,u.children));return(0,An.D)(o).pipe((0,Vi.J)(),(0,At.U)(u=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?dt(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,yn.z)(u=>(r._loadedConfig=u,this.processRoutes(u.module,u.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(er),c.LFG(c.Sil),c.LFG(c.zs3),c.LFG(yy))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Jp=(()=>{class n{constructor(t,r,o={}){this.router=t,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof cs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof bu&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Nl&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Nl(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const fs=new c.OlP("ROUTER_CONFIGURATION"),vy=new c.OlP("ROUTER_FORROOT_GUARD"),k0=[ve,{provide:Pn,useClass:vn},{provide:er,useFactory:function Ey(n,e,t,r,o,u,h={},m,E){const D=new er(null,n,e,t,r,o,$i(u));return m&&(D.urlHandlingStrategy=m),E&&(D.routeReuseStrategy=E),function V0(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(h,D),h.enableTracing&&D.events.subscribe(M=>{var O,H;null===(O=console.group)||void 0===O||O.call(console,`Router Event: ${M.constructor.name}`),console.log(M.toString()),console.log(M),null===(H=console.groupEnd)||void 0===H||H.call(console)}),D},deps:[Pn,$l,ve,c.zs3,c.Sil,Ru,fs,[class Zh{},new c.FiY],[class wn{},new c.FiY]]},$l,{provide:Yo,useFactory:function Qp(n){return n.routerState.root},deps:[er]},P0,N0,class _y{preload(e,t){return t().pipe(Bi(()=>dt(null)))}},{provide:fs,useValue:{enableTracing:!1}}];function tC(){return new c.PXZ("Router",er)}let Jh=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[k0,wy(t),{provide:vy,useFactory:L0,deps:[[er,new c.FiY,new c.tp0]]},{provide:fs,useValue:r||{}},{provide:ie,useFactory:F0,deps:[ee,[new c.tBr(qe),new c.FiY],fs]},{provide:Jp,useFactory:nC,deps:[er,lu,fs]},{provide:yy,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:N0},{provide:c.PXZ,multi:!0,useFactory:tC},[hd,{provide:c.ip1,multi:!0,useFactory:U0,deps:[hd]},{provide:Cy,useFactory:by,deps:[hd]},{provide:c.tb,multi:!0,useExisting:Cy}]]}}static forChild(t){return{ngModule:n,providers:[wy(t)]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(vy,8),c.LFG(er,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function nC(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Jp(n,e,t)}function F0(n,e,t={}){return t.useHash?new De(n,e):new ze(n,e)}function L0(n){return"guarded"}function wy(n){return[{provide:c.deG,multi:!0,useValue:n},{provide:Ru,multi:!0,useValue:n}]}let hd=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new cr.x}appInitializer(){return this.injector.get(U,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const o=new Promise(m=>r=m),u=this.injector.get(er),h=this.injector.get(fs);return"disabled"===h.initialNavigation?(u.setUpLocationChangeListener(),r(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(u.hooks.afterPreactivation=()=>this.initNavigation?dt(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),u.initialNavigation()):r(!0),o})}bootstrapListener(t){const r=this.injector.get(fs),o=this.injector.get(P0),u=this.injector.get(Jp),h=this.injector.get(er),m=this.injector.get(c.z2F);t===m.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&h.initialNavigation(),o.setUpPreloading(),u.init(),h.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function U0(n){return n.appInitializer.bind(n)}function by(n){return n.bootstrapListener.bind(n)}const Cy=new c.OlP("Router Initializer");let rC=(()=>{class n{constructor(){this.title="SalaDeJuegos"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:5,vars:0,consts:[["rel","stylesheet","href","https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"],["rel","stylesheet","href","https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css"]],template:function(t,r){1&t&&(c.TgZ(0,"head"),c._UZ(1,"link",0)(2,"link",1),c.qZA(),c.TgZ(3,"body"),c._UZ(4,"router-outlet"),c.qZA())},directives:[Mu],styles:["body[_ngcontent-%COMP%]{overflow:hidden}"]}),n})();var ye=N(5861),iC=N(127),sC=N(6451),Qh=N(5363),Dy=N(6063);class B0 extends cr.x{constructor(e=1/0,t=1/0,r=Dy.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:u,_windowTime:h}=this;t||(r.push(e),!o&&r.push(u.now()+h)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,u=o.slice();for(let h=0;h<u.length&&!e.closed;h+=r?1:2)e.next(u[h]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,u=(o?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!o){const h=t.now();let m=0;for(let E=1;E<r.length&&r[E]<=h;E+=2)m=E;m&&r.splice(0,m+1)}}}var ZT=N(3099);function Ty(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,ZT.B)({connector:()=>new B0(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function j0(n,e){return(0,Ta.m)(e)?xn(()=>n,e):xn(()=>n)}var eg=N(9468),hi=N(5813),To=N(2011);N(5867);var Yl=N(9681),fd=N(4859),It=N(2090),na=N(1877);const xy=new Map,My={activated:!1,tokenObservers:[]},JT={initialized:!1,enabled:!1};function Dr(n){return xy.get(n)||My}function ra(n,e){xy.set(n,e)}function Jl(){return JT}class mC{constructor(e,t,r,o,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=o,o>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ye.Z)(function*(){t.stop();try{t.pending=new It.BH,yield function yC(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new It.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const fi=new It.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function $0(n){if(!Dr(n).activated)throw fi.create("use-before-activation",{appName:n.name})}function ky(n,e){return ef.apply(this,arguments)}function ef(){return(ef=(0,ye.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){const O=yield o.getHeartbeatsHeader();O&&(r["X-Firebase-Client"]=O)}const u={method:"POST",body:JSON.stringify(e),headers:r};let h,m;try{h=yield fetch(n,u)}catch(O){throw fi.create("fetch-network-error",{originalErrorMessage:O.message})}if(200!==h.status)throw fi.create("fetch-status-error",{httpStatus:h.status});try{m=yield h.json()}catch(O){throw fi.create("fetch-parse-error",{originalErrorMessage:O.message})}const E=m.ttl.match(/^([\d.]+)(s)$/);if(!E||!E[2]||isNaN(Number(E[1])))throw fi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const D=1e3*Number(E[1]),M=Date.now();return{token:m.attestationToken,expireTimeMillis:M+D,issuedAtTimeMillis:M}})).apply(this,arguments)}function tA(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const rg="firebase-app-check-store";let Fy=null;function wC(){return Fy||(Fy=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(fi.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(rg,{keyPath:"compositeKey"})}}catch(t){e(fi.create("storage-open",{originalErrorMessage:t.message}))}}),Fy)}function tf(){return(tf=(0,ye.Z)(function*(n,e){const r=(yield wC()).transaction(rg,"readwrite"),u=r.objectStore(rg).put({compositeKey:n,value:e});return new Promise((h,m)=>{u.onsuccess=E=>{h()},r.onerror=E=>{var D;m(fi.create("storage-set",{originalErrorMessage:null===(D=E.target.error)||void 0===D?void 0:D.message}))}})})).apply(this,arguments)}const Ys=new na.Yd("@firebase/app-check");function ig(n,e){return(0,It.hl)()?function Pu(n,e){return function Vy(n,e){return tf.apply(this,arguments)}(function G0(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Ys.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function z0(){return Jl().enabled}function Z0(){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,ye.Z)(function*(){const n=Jl();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const jy={error:"UNKNOWN_ERROR"};function md(n){return It.US.encodeString(JSON.stringify(n),!1)}function ku(n){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,ye.Z)(function*(n,e=!1){const t=n.app;$0(t);const r=Dr(t);let u,o=r.token;if(!o){const E=yield r.cachedTokenPromise;E&&rf(E)&&(o=E)}if(!e&&o&&rf(o))return{token:o.token};let m,h=!1;if(z0()){r.exchangeTokenPromise||(r.exchangeTokenPromise=ky(tA(t,yield Z0()),n.heartbeatServiceProvider).then(D=>(r.exchangeTokenPromise=void 0,D)),h=!0);const E=yield r.exchangeTokenPromise;return yield ig(t,E),ra(t,Object.assign(Object.assign({},r),{token:E})),{token:E.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(E=>(r.exchangeTokenPromise=void 0,E)),h=!0),o=yield r.exchangeTokenPromise}catch(E){"appCheck/throttled"===E.code?Ys.warn(E.message):Ys.error(E),u=E}return o?(m={token:o.token},ra(t,Object.assign(Object.assign({},r),{token:o})),yield ig(t,o)):m=ug(u),h&&ag(t,m),m})).apply(this,arguments)}function og(n,e){const t=Dr(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),ra(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function $y(n){const{app:e}=n,t=Dr(e);let r=t.tokenRefresher;r||(r=function Gy(n){const{app:e}=n;return new mC((0,ye.Z)(function*(){let r;if(r=Dr(e).token?yield ku(n,!0):yield ku(n),r.error)throw r.error}),()=>!0,()=>{const t=Dr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),ra(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function ag(n,e){const t=Dr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(o){}}function rf(n){return n.expireTimeMillis-Date.now()>0}function ug(n){return{token:md(jy),error:n}}class CC{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Dr(this.app);for(const t of e)og(this.app,t.next);return Promise.resolve()}}const Zy="app-check-internal";!function SC(){(0,Yl._registerComponent)(new fd.wA("app-check",n=>function W0(n,e){return new CC(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Zy).initialize()})),(0,Yl._registerComponent)(new fd.wA(Zy,n=>function sA(n){return{getToken:e=>ku(n,e),addTokenListener:e=>function Hy(n,e,t,r){const{app:o}=n,u=Dr(o),h={next:t,error:r,type:e};if(ra(o,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,h]})),u.token&&rf(u.token)){const m=u.token;Promise.resolve().then(()=>{t({token:m.token}),$y(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>$y(n))}(n,"INTERNAL",e),removeTokenListener:e=>og(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Yl.registerVersion)("@firebase/app-check","0.5.5")}();class Wy{constructor(){return(0,hi.vb)("app-check")}}"undefined"!=typeof window&&window;const dw=new c.OlP("angularfire2.auth.use-emulator"),dg=new c.OlP("angularfire2.auth.settings"),PC=new c.OlP("angularfire2.auth.tenant-id"),hw=new c.OlP("angularfire2.auth.langugage-code"),Yy=new c.OlP("angularfire2.auth.use-device-language"),Jy=new c.OlP("angularfire.auth.persistence"),Qy=(n,e,t,r,o,u,h,m)=>(0,To.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const E=e.runOutsideAngular(()=>n.auth());if(t&&E.useEmulator(...t),r&&(E.tenantId=r),E.languageCode=o,u&&E.useDeviceLanguage(),h)for(const[D,M]of Object.entries(h))E.settings[D]=M;return m&&E.setPersistence(m),E},[t,r,o,u,h,m]);let of=(()=>{class n{constructor(t,r,o,u,h,m,E,D,M,O,H,G){const se=new cr.x,Fe=dt(void 0).pipe((0,Qh.Q)(h.outsideAngular),xn(()=>u.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,4087)))),(0,At.U)(()=>(0,To.on)(t,u,r)),(0,At.U)(et=>Qy(et,u,m,D,M,O,E,H)),Ty({bufferSize:1,refCount:!1}));if(ur(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=dt(null);else{Fe.pipe(Gs()).subscribe();const vt=Fe.pipe(xn(Ct=>Ct.getRedirectResult().then($t=>$t,()=>null)),hi.iC,Ty({bufferSize:1,refCount:!1})),st=Fe.pipe(xn(Ct=>new Rr.y($t=>({unsubscribe:u.runOutsideAngular(()=>Ct.onAuthStateChanged(Gt=>$t.next(Gt),Gt=>$t.error(Gt),()=>$t.complete()))})))),hn=Fe.pipe(xn(Ct=>new Rr.y($t=>({unsubscribe:u.runOutsideAngular(()=>Ct.onIdTokenChanged(Gt=>$t.next(Gt),Gt=>$t.error(Gt),()=>$t.complete()))}))));this.authState=vt.pipe(j0(st),(0,eg.R)(h.outsideAngular),(0,Qh.Q)(h.insideAngular)),this.user=vt.pipe(j0(hn),(0,eg.R)(h.outsideAngular),(0,Qh.Q)(h.insideAngular)),this.idToken=this.user.pipe(xn(Ct=>Ct?(0,An.D)(Ct.getIdToken()):dt(null))),this.idTokenResult=this.user.pipe(xn(Ct=>Ct?(0,An.D)(Ct.getIdTokenResult()):dt(null))),this.credential=(0,sC.T)(vt,se,this.authState.pipe(Ui(Ct=>!Ct))).pipe((0,At.U)(Ct=>(null==Ct?void 0:Ct.user)?Ct:null),(0,eg.R)(h.outsideAngular),(0,Qh.Q)(h.insideAngular))}return(0,To.pX)(this,Fe,u,{spy:{apply:(et,vt,st)=>{(et.startsWith("signIn")||et.startsWith("createUser"))&&st.then(hn=>se.next(hn))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(To.Dh),c.LFG(To.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(hi.HU),c.LFG(dw,8),c.LFG(dg,8),c.LFG(PC,8),c.LFG(hw,8),c.LFG(Yy,8),c.LFG(Jy,8),c.LFG(Wy,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),ps=(()=>{class n{constructor(t){this.afauth=t,this.username=new dr(""),this.email=new dr(""),this.isLogged=new dr(!1),this.IsLogged()}Register(t){var r=this;return(0,ye.Z)(function*(){try{return yield r.afauth.createUserWithEmailAndPassword(t.email,t.password)}catch(o){return console.log("Error en register: ",o),null}})()}Login(t){var r=this;return(0,ye.Z)(function*(){try{return yield r.afauth.signInWithEmailAndPassword(t.email,t.password)}catch(o){return console.log("Error en login",o),null}})()}LoginWithGoogle(t,r){var o=this;return(0,ye.Z)(function*(){try{return yield o.afauth.signInWithPopup(new iC.Z.auth.GoogleAuthProvider)}catch(u){return console.log("Error en login With Google",u),null}})()}getState(){return this.afauth.authState}logout(){this.afauth.signOut(),this.username.next(""),this.isLogged.next(!1)}IsLogged(){this.getState().subscribe(t=>{this.isLogged.next(!!(null==t?void 0:t.email))})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(of))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var hg=N(4986);function Xy(){return(0,Nr.e)((n,e)=>{let t,r=!1;n.subscribe((0,Nn.x)(e,o=>{const u=t;t=o,r&&e.next([u,o]),r=!0}))})}function mA(n,e){return n===e}N(4087);var Qe,pw=N(3942),e_="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},gs={},af=af||{},Dt=e_||self;function uf(){}function fg(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function lf(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var n_="closure_uid_"+(1e9*Math.random()>>>0),LC=0;function gw(n,e,t){return n.call.apply(n.bind,arguments)}function yd(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function Fr(n,e,t){return(Fr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?gw:yd).apply(null,arguments)}function pg(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Kr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,o,u){for(var h=Array(arguments.length-2),m=2;m<arguments.length;m++)h[m-2]=arguments[m];return e.prototype[o].apply(r,h)}}function ms(){this.s=this.s,this.o=this.o}var UC={};ms.prototype.s=!1,ms.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function t_(n){return Object.prototype.hasOwnProperty.call(n,n_)&&n[n_]||(n[n_]=++LC)}(this);delete UC[n]}},ms.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const mw=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},yw=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,o="string"==typeof n?n.split(""):n;for(let u=0;u<r;u++)u in o&&e.call(t,o[u],u,n)};function gg(n){return Array.prototype.concat.apply([],arguments)}function mg(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function cf(n){return/^[\s\xa0]*$/.test(n)}var Mi,r_=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function gi(n,e){return-1!=n.indexOf(e)}function i_(n,e){return n<e?-1:n>e?1:0}e:{var _w=Dt.navigator;if(_w){var vw=_w.userAgent;if(vw){Mi=vw;break e}}Mi=""}function yg(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function BC(n){const e={};for(const t in n)e[t]=n[t];return e}var s_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ww(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let u=0;u<s_.length;u++)t=s_[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function o_(n){return o_[" "](n),n}o_[" "]=uf;var u_,n,_A=gi(Mi,"Opera"),Lu=gi(Mi,"Trident")||gi(Mi,"MSIE"),Ew=gi(Mi,"Edge"),_g=Ew||Lu,a_=gi(Mi,"Gecko")&&!(gi(Mi.toLowerCase(),"webkit")&&!gi(Mi,"Edge"))&&!(gi(Mi,"Trident")||gi(Mi,"MSIE"))&&!gi(Mi,"Edge"),vA=gi(Mi.toLowerCase(),"webkit")&&!gi(Mi,"Edge");function Js(){var n=Dt.document;return n?n.documentMode:void 0}e:{var bw="",vg=(n=Mi,a_?/rv:([^\);]+)(\)|;)/.exec(n):Ew?/Edge\/([\d\.]+)/.exec(n):Lu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):vA?/WebKit\/(\S+)/.exec(n):_A?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(vg&&(bw=vg?vg[1]:""),Lu){var wg=Js();if(null!=wg&&wg>parseFloat(bw)){u_=String(wg);break e}}u_=bw}var Cw={};var c_=Dt.document&&Lu&&(Js()||parseInt(u_,10))||void 0,HC=function(){if(!Dt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Dt.addEventListener("test",uf,e),Dt.removeEventListener("test",uf,e)}catch(t){}return n}();function Lr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function df(n,e){if(Lr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(a_){e:{try{o_(e.nodeName);var o=!0;break e}catch(u){}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:$C[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&df.Z.h.call(this)}}Lr.prototype.h=function(){this.defaultPrevented=!0},Kr(df,Lr);var $C={2:"touch",3:"pen",4:"mouse"};df.prototype.h=function(){df.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var hf="closure_listenable_"+(1e6*Math.random()|0),GC=0;function qC(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=o,this.key=++GC,this.ca=this.fa=!1}function Eg(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Xl(n){this.src=n,this.g={},this.h=0}function Vu(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],o=mw(r,e);(u=0<=o)&&Array.prototype.splice.call(r,o,1),u&&(Eg(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function d_(n,e,t,r){for(var o=0;o<n.length;++o){var u=n[o];if(!u.ca&&u.listener==e&&u.capture==!!t&&u.ia==r)return o}return-1}Xl.prototype.add=function(n,e,t,r,o){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var h=d_(n,e,r,o);return-1<h?(e=n[h],t||(e.fa=!1)):((e=new qC(e,this.src,u,!!r,o)).fa=t,n.push(e)),e};var ec="closure_lm_"+(1e6*Math.random()|0),h_={};function Dw(n,e,t,r,o){if(r&&r.once)return _d(n,e,t,r,o);if(Array.isArray(e)){for(var u=0;u<e.length;u++)Dw(n,e[u],t,r,o);return null}return t=Bu(t),n&&n[hf]?n.N(e,t,lf(r)?!!r.capture:!!r,o):bg(n,e,t,!1,r,o)}function bg(n,e,t,r,o,u){if(!e)throw Error("Invalid event type");var h=lf(o)?!!o.capture:!!o,m=pf(n);if(m||(n[ec]=m=new Xl(n)),(t=m.add(e,t,r,h,u)).proxy)return t;if(r=function ia(){var e=Qs;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)HC||(o=h),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(ff(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function _d(n,e,t,r,o){if(Array.isArray(e)){for(var u=0;u<e.length;u++)_d(n,e[u],t,r,o);return null}return t=Bu(t),n&&n[hf]?n.O(e,t,lf(r)?!!r.capture:!!r,o):bg(n,e,t,!0,r,o)}function Yr(n,e,t,r,o){if(Array.isArray(e))for(var u=0;u<e.length;u++)Yr(n,e[u],t,r,o);else r=lf(r)?!!r.capture:!!r,t=Bu(t),n&&n[hf]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=d_(u=n.g[e],t,r,o))&&(Eg(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=pf(n))&&(e=n.g[e.toString()],n=-1,e&&(n=d_(e,t,r,o)),(t=-1<n?e[n]:null)&&Fa(t))}function Fa(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[hf])Vu(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(ff(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=pf(e))?(Vu(t,n),0==t.h&&(t.src=null,e[ec]=null)):Eg(n)}}}function ff(n){return n in h_?h_[n]:h_[n]="on"+n}function Qs(n,e){if(n.ca)n=!0;else{e=new df(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&Fa(n),n=t.call(r,e)}return n}function pf(n){return(n=n[ec])instanceof Xl?n:null}var Uu="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bu(n){return"function"==typeof n?n:(n[Uu]||(n[Uu]=function(e){return n.handleEvent(e)}),n[Uu])}function kn(){ms.call(this),this.i=new Xl(this),this.P=this,this.I=null}function qn(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Lr(e,n);else if(e instanceof Lr)e.target=e.target||n;else{var o=e;ww(e=new Lr(r,n),o)}if(o=!0,t)for(var u=t.length-1;0<=u;u--){var h=e.g=t[u];o=La(h,r,!0,e)&&o}if(o=La(h=e.g=n,r,!0,e)&&o,o=La(h,r,!1,e)&&o,t)for(u=0;u<t.length;u++)o=La(h=e.g=t[u],r,!1,e)&&o}function La(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,u=0;u<e.length;++u){var h=e[u];if(h&&!h.ca&&h.capture==t){var m=h.listener,E=h.ia||h.src;h.fa&&Vu(n.i,h),o=!1!==m.call(E,r)&&o}}return o&&!r.defaultPrevented}Kr(kn,ms),kn.prototype[hf]=!0,kn.prototype.removeEventListener=function(n,e,t,r){Yr(this,n,e,t,r)},kn.prototype.M=function(){if(kn.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Eg(t[r]);delete n.g[e],n.h--}}this.I=null},kn.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},kn.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var ju=Dt.JSON.stringify;function vd(){var n=f_;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Ig,tc=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Tw,n=>n.reset());class Tw{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Aw(n){Dt.setTimeout(()=>{throw n},0)}function Cg(n,e){Ig||function Sw(){var n=Dt.Promise.resolve(void 0);Ig=function(){n.then(xw)}}(),Dg||(Ig(),Dg=!0),f_.add(n,e)}var Dg=!1,f_=new class wd{constructor(){this.h=this.g=null}add(e,t){const r=tc.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function xw(){for(var n;n=vd();){try{n.h.call(n.g)}catch(t){Aw(t)}var e=tc;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Dg=!1}function gf(n,e){kn.call(this),this.h=n||1,this.g=e||Dt,this.j=Fr(this.kb,this),this.l=Date.now()}function p_(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Tg(n,e,t){if("function"==typeof n)t&&(n=Fr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Fr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Dt.setTimeout(n,e||0)}function Mw(n){n.g=Tg(()=>{n.g=null,n.i&&(n.i=!1,Mw(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Kr(gf,kn),(Qe=gf.prototype).da=!1,Qe.S=null,Qe.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),qn(this,"tick"),this.da&&(p_(this),this.start()))}},Qe.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Qe.M=function(){gf.Z.M.call(this),p_(this),delete this.g};class Ow extends ms{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Mw(this)}M(){super.M(),this.g&&(Dt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ed(n){ms.call(this),this.h=n,this.g={}}Kr(Ed,ms);var Rw=[];function Nw(n,e,t,r){Array.isArray(t)||(t&&(Rw[0]=t.toString()),t=Rw);for(var o=0;o<t.length;o++){var u=Dw(e,t[o],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function g_(n){yg(n.g,function(e,t){this.g.hasOwnProperty(t)&&Fa(e)},n),n.g={}}function Ag(){this.g=!0}function bd(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ZC(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var h=1;h<o.length;h++)o[h]=""}}}return ju(t)}catch(m){return e}}(n,t)+(r?" "+r:"")})}Ed.prototype.M=function(){Ed.Z.M.call(this),g_(this)},Ed.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ag.prototype.Aa=function(){this.g=!1},Ag.prototype.info=function(){};var Va={},Sg=null;function xg(){return Sg=Sg||new kn}function WC(n){Lr.call(this,Va.Ma,n)}function Mg(n){const e=xg();qn(e,new WC(e,n))}function KC(n,e){Lr.call(this,Va.STAT_EVENT,n),this.stat=e}function Oi(n){const e=xg();qn(e,new KC(e,n))}function m_(n,e){Lr.call(this,Va.Na,n),this.size=e}function Og(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Dt.setTimeout(function(){n()},e)}Va.Ma="serverreachability",Kr(WC,Lr),Va.STAT_EVENT="statevent",Kr(KC,Lr),Va.Na="timingevent",Kr(m_,Lr);var Rg={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},nc={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function y_(){}function kw(){}y_.prototype.h=null;var Ng,Cd={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Id(){Lr.call(this,"d")}function v_(){Lr.call(this,"c")}function Pg(){}function mf(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Ed(this),this.P=YC,this.W=new gf(n=_g?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Fw}function Fw(){this.i=null,this.g="",this.h=!1}Kr(Id,Lr),Kr(v_,Lr),Kr(Pg,y_),Pg.prototype.g=function(){return new XMLHttpRequest},Pg.prototype.i=function(){return{}},Ng=new Pg;var YC=45e3,w_={},yf={};function E_(n,e,t){n.K=1,n.v=Ad(xo(e)),n.s=t,n.U=!0,b_(n,null)}function b_(n,e){n.F=Date.now(),rc(n),n.A=xo(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),N_(t.h,"t",r),n.C=0,t=n.l.H,n.h=new Fw,n.g=Kw(n.l,t?e:null,!n.s),0<n.O&&(n.L=new Ow(Fr(n.Ia,n,n.g),n.O)),Nw(n.V,n.g,"readystatechange",n.gb),e=n.H?BC(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Mg(1),function Pw(n,e,t,r,o,u){n.info(function(){if(n.g)if(u)for(var h="",m=u.split("&"),E=0;E<m.length;E++){var D=m[E].split("=");if(1<D.length){var M=D[0];D=D[1];var O=M.split("_");h=2<=O.length&&"type"==O[1]?h+(M+"=")+D+"&":h+(M+"=redacted&")}}else h=null;else h=u;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+h})}(n.j,n.u,n.A,n.m,n.X,n.s)}function C_(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function kg(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=EA(n,t),o==yf){4==e&&(n.o=4,Oi(14),r=!1),bd(n.j,n.m,null,"[Incomplete Response]");break}if(o==w_){n.o=4,Oi(15),bd(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}bd(n.j,n.m,o,null),_f(n,o)}C_(n)&&o!=yf&&o!=w_&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Oi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Bg(e),e.L=!0,Oi(11))):(bd(n.j,n.m,t,"[Invalid Chunked Response]"),Hu(n),Ua(n))}function EA(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?yf:(t=Number(e.substring(t,r)),isNaN(t)?w_:(r+=1)+t>e.length?yf:(e=e.substr(r,t),n.C=r+t,e))}function rc(n){n.Y=Date.now()+n.P,Lw(n,n.P)}function Lw(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Og(Fr(n.eb,n),e)}function I_(n){n.B&&(Dt.clearTimeout(n.B),n.B=null)}function Ua(n){0==n.l.G||n.I||z_(n.l,n)}function Hu(n){I_(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,p_(n.W),g_(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function _f(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Fg(t.i,n)))if(t.I=n.N,!n.J&&Fg(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(D){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0])e:if(t.u)t.ta=o[1],0<t.ta-t.U&&37500>o[2]&&t.N&&0==t.A&&!t.v&&(t.v=Og(Fr(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Tf(t),If(t)}Pd(t),Oi(18)}if(1>=Hw(t.i)&&t.ka){try{t.ka()}catch(D){}t.ka=void 0}}else $u(t,11)}else if((n.J||t.g==n)&&Tf(t),!cf(e))for(o=t.Ca.g.parse(e),e=0;e<o.length;e++){let D=o[e];if(t.U=D[0],D=D[1],2==t.G)if("c"==D[0]){t.J=D[1],t.la=D[2];const M=D[3];null!=M&&(t.ma=M,t.h.info("VER="+t.ma));const O=D[4];null!=O&&(t.za=O,t.h.info("SVER="+t.za));const H=D[5];null!=H&&"number"==typeof H&&0<H&&(t.K=r=1.5*H,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const G=n.g;if(G){const se=G.g?G.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(se){var u=r.i;!u.g&&(gi(se,"spdy")||gi(se,"quic")||gi(se,"h2"))&&(u.j=u.l,u.g=new Set,u.h&&(k_(u,u.h),u.h=null))}if(r.D){const Fe=G.g?G.g.getResponseHeader("X-HTTP-Session-Id"):null;Fe&&(r.sa=Fe,En(r.F,r.D,Fe))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var h=n;if((r=t).oa=K_(r,r.H?r.la:null,r.W),h.J){hr(r.i,h);var m=h,E=r.K;E&&m.setTimeout(E),m.B&&(I_(m),rc(m)),r.g=h}else Ug(r);0<t.l.length&&Df(t)}else"stop"!=D[0]&&"close"!=D[0]||$u(t,7);else 3==t.G&&("stop"==D[0]||"close"==D[0]?"stop"==D[0]?$u(t,7):$_(t):"noop"!=D[0]&&t.j&&t.j.wa(D),t.A=0)}Mg(4)}catch(D){}}function T_(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(fg(n)||"string"==typeof n)yw(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(fg(n)||"string"==typeof n){t=[];for(var r=n.length,o=0;o<r;o++)t.push(o)}else for(o in t=[],r=0,n)t[r++]=o;r=function D_(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(fg(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length;for(var u=0;u<o;u++)e.call(void 0,r[u],t&&t[u],n)}}function Ba(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Ba)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function Dd(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];ja(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var o={};for(t=e=0;e<n.g.length;)ja(o,r=n.g[e])||(n.g[t++]=r,o[r]=1),e++;n.g.length=t}}function ja(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Qe=mf.prototype).setTimeout=function(n){this.P=n},Qe.gb=function(n){n=n.target;const e=this.L;e&&3==qa(n)?e.l():this.Ia(n)},Qe.Ia=function(n){try{if(n==this.g)e:{const M=qa(this.g);var e=this.g.Da();const O=this.g.ba();if(!(3>M)&&(3!=M||_g||this.g&&(this.h.h||this.g.ga()||zw(this.g)))){this.I||4!=M||7==e||Mg(8==e||0>=O?3:2),I_(this);var t=this.g.ba();this.N=t;t:if(C_(this)){var r=zw(this.g);n="";var o=r.length,u=4==qa(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Hu(this),Ua(this);var h="";break t}this.h.i=new Dt.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,h=this.h.g}else h=this.g.ga();if(this.i=200==t,function zC(n,e,t,r,o,u,h){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+u+" "+h})}(this.j,this.u,this.A,this.m,this.X,M,t),this.i){if(this.$&&!this.J){t:{if(this.g){var m,E=this.g;if((m=E.g?E.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!cf(m)){var D=m;break t}}D=null}if(!(t=D)){this.i=!1,this.o=3,Oi(12),Hu(this),Ua(this);break e}bd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,_f(this,t)}this.U?(kg(this,M,h),_g&&this.i&&3==M&&(Nw(this.V,this.W,"tick",this.fb),this.W.start())):(bd(this.j,this.m,h,null),_f(this,h)),4==M&&Hu(this),this.i&&!this.I&&(4==M?z_(this.l,this):(this.i=!1,rc(this)))}else 400==t&&0<h.indexOf("Unknown SID")?(this.o=3,Oi(12)):(this.o=0,Oi(13)),Hu(this),Ua(this)}}}catch(M){}},Qe.fb=function(){if(this.g){var n=qa(this.g),e=this.g.ga();this.C<e.length&&(I_(this),kg(this,n,e),this.i&&4!=n&&rc(this))}},Qe.cancel=function(){this.I=!0,Hu(this)},Qe.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function wA(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Mg(3),Oi(17)),Hu(this),this.o=2,Ua(this)):Lw(this,this.Y-n)},(Qe=Ba.prototype).R=function(){Dd(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Qe.T=function(){return Dd(this),this.g.concat()},Qe.get=function(n,e){return ja(this.h,n)?this.h[n]:e},Qe.set=function(n,e){ja(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Qe.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var o=t[r],u=this.get(o);n.call(e,u,o,this)}};var JC=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ha(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Ha){this.g=void 0!==e?e:n.g,vf(this,n.j),this.s=n.s,wf(this,n.i),Td(this,n.m),this.l=n.l,e=n.h;var t=new ic;t.i=e.i,e.g&&(t.g=new Ba(e.g),t.h=e.h),A_(this,t),this.o=n.o}else n&&(t=String(n).match(JC))?(this.g=!!e,vf(this,t[1]||"",!0),this.s=Sd(t[2]||""),wf(this,t[3]||"",!0),Td(this,t[4]),this.l=Sd(t[5]||"",!0),A_(this,t[6]||"",!0),this.o=Sd(t[7]||"")):(this.g=!!e,this.h=new ic(null,this.g))}function xo(n){return new Ha(n)}function vf(n,e,t){n.j=t?Sd(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function wf(n,e,t){n.i=t?Sd(e,!0):e}function Td(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function A_(n,e,t){e instanceof ic?(n.h=e,function Uw(n,e){e&&!n.j&&($a(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(O_(this,r),N_(this,o,t))},n)),n.j=e}(n.h,n.g)):(t||(e=xd(e,nI)),n.h=new ic(e,n.g))}function En(n,e,t){n.h.set(e,t)}function Ad(n){return En(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Sd(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function xd(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,S_),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function S_(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ha.prototype.toString=function(){var n=[],e=this.j;e&&n.push(xd(e,x_,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(xd(e,x_,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(xd(t,"/"==t.charAt(0)?tI:eI,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",xd(t,M_)),n.join("")};var x_=/[#\/\?@]/g,eI=/[#\?:]/g,tI=/[#\?]/g,nI=/[#\?@]/g,M_=/#/g;function ic(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function $a(n){n.g||(n.g=new Ba,n.h=0,n.i&&function QC(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var u=n[t].substring(0,r);o=n[t].substring(r+1)}else u=n[t];e(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function O_(n,e){$a(n),e=sc(n,e),ja(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,ja((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&Dd(n)))}function R_(n,e){return $a(n),e=sc(n,e),ja(n.g.h,e)}function N_(n,e,t){O_(n,e),0<t.length&&(n.i=null,n.g.set(sc(n,e),mg(t)),n.h+=t.length)}function sc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function P_(n){this.l=n||bA,n=Dt.PerformanceNavigationTiming?0<(n=Dt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Dt.g&&Dt.g.Ea&&Dt.g.Ea()&&Dt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Qe=ic.prototype).add=function(n,e){$a(this),this.i=null,n=sc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Qe.forEach=function(n,e){$a(this),this.g.forEach(function(t,r){yw(t,function(o){n.call(e,o,r,this)},this)},this)},Qe.T=function(){$a(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var o=n[r],u=0;u<o.length;u++)t.push(e[r]);return t},Qe.R=function(n){$a(this);var e=[];if("string"==typeof n)R_(this,n)&&(e=gg(e,this.g.get(sc(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=gg(e,n[t])}return e},Qe.set=function(n,e){return $a(this),this.i=null,R_(this,n=sc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Qe.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Qe.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],o=encodeURIComponent(String(r));r=this.R(r);for(var u=0;u<r.length;u++){var h=o;""!==r[u]&&(h+="="+encodeURIComponent(String(r[u]))),n.push(h)}}return this.i=n.join("&")};var bA=10;function jw(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Hw(n){return n.h?1:n.g?n.g.size:0}function Fg(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function k_(n,e){n.g?n.g.add(e):n.h=e}function hr(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function F_(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return mg(n.i)}function L_(){}function rI(){this.g=new L_}function $w(n,e,t){const r=t||"";try{T_(n,function(o,u){let h=o;lf(o)&&(h=ju(o)),e.push(r+u+"="+encodeURIComponent(h))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function Ef(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch(u){}}function Md(n){this.l=n.$b||null,this.j=n.ib||!1}function Ga(n,e){kn.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=V_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}P_.prototype.cancel=function(){if(this.i=F_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},L_.prototype.stringify=function(n){return Dt.JSON.stringify(n,void 0)},L_.prototype.parse=function(n){return Dt.JSON.parse(n,void 0)},Kr(Md,y_),Md.prototype.g=function(){return new Ga(this.l,this.j)},Md.prototype.i=function(n){return function(){return n}}({}),Kr(Ga,kn);var V_=0;function Gw(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Od(n){n.readyState=4,n.l=null,n.j=null,n.A=null,bf(n)}function bf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Qe=Ga.prototype).open=function(n,e){if(this.readyState!=V_)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,bf(this)},Qe.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Dt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Qe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Od(this)),this.readyState=V_},Qe.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,bf(this)),this.g&&(this.readyState=3,bf(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Dt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Gw(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Qe.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Od(this):bf(this),3==this.readyState&&Gw(this)}},Qe.Ua=function(n){this.g&&(this.response=this.responseText=n,Od(this))},Qe.Ta=function(n){this.g&&(this.response=n,Od(this))},Qe.ha=function(){this.g&&Od(this)},Qe.setRequestHeader=function(n,e){this.v.append(n,e)},Qe.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Qe.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Ga.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var qw=Dt.JSON.parse;function Tr(n){kn.call(this),this.headers=new Ba,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=U_,this.K=this.L=!1}Kr(Tr,kn);var U_="",B_=/^https?$/i,sa=["POST","PUT"];function oI(n){return"content-type"==n.toLowerCase()}function Mo(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Xs(n),Cf(n)}function Xs(n){n.D||(n.D=!0,qn(n,"complete"),qn(n,"error"))}function eo(n){if(n.h&&void 0!==af&&(!n.C[1]||4!=qa(n)||2!=n.ba()))if(n.v&&4==qa(n))Tg(n.Fa,0,n);else if(qn(n,"readystatechange"),4==qa(n)){n.h=!1;try{const m=n.ba();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var o=String(n.H).match(JC)[1]||null;if(!o&&Dt.self&&Dt.self.location){var u=Dt.self.location.protocol;o=u.substr(0,u.length-1)}r=!B_.test(o?o.toLowerCase():"")}t=r}if(t)qn(n,"complete"),qn(n,"success");else{n.m=6;try{var h=2<qa(n)?n.g.statusText:""}catch(E){h=""}n.j=h+" ["+n.ba()+"]",Xs(n)}}finally{Cf(n)}}}function Cf(n,e){if(n.g){j_(n);const t=n.g,r=n.C[0]?uf:null;n.g=null,n.C=null,e||qn(n,"ready");try{t.onreadystatechange=r}catch(o){}}}function j_(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Dt.clearTimeout(n.A),n.A=null)}function qa(n){return n.g?n.g.readyState:0}function zw(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case U_:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function H_(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function aI(n){let e="";return yg(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):En(n,e,t))}function oc(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Rd(n){this.za=0,this.l=[],this.h=new Ag,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=oc("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=oc("baseRetryDelayMs",5e3,n),this.$a=oc("retryDelaySeedMs",1e4,n),this.Ya=oc("forwardChannelMaxRetries",2,n),this.ra=oc("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new P_(n&&n.concurrentRequestLimit),this.Ca=new rI,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function $_(n){if(Zw(n),3==n.G){var e=n.V++,t=xo(n.F);En(t,"SID",n.J),En(t,"RID",e),En(t,"TYPE","terminate"),Nd(n,t),(e=new mf(n,n.h,e,void 0)).K=2,e.v=Ad(xo(t)),t=!1,Dt.navigator&&Dt.navigator.sendBeacon&&(t=Dt.navigator.sendBeacon(e.v.toString(),"")),!t&&Dt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Kw(e.l,null),e.g.ea(e.v)),e.F=Date.now(),rc(e)}W_(n)}function If(n){n.g&&(Bg(n),n.g.cancel(),n.g=null)}function Zw(n){If(n),n.u&&(Dt.clearTimeout(n.u),n.u=null),Tf(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Dt.clearTimeout(n.m),n.m=null)}function Lg(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Df(n)}function Df(n){jw(n.i)||n.m||(n.m=!0,Cg(n.Ha,n),n.C=0)}function Ww(n,e){var t;t=e?e.m:n.V++;const r=xo(n.F);En(r,"SID",n.J),En(r,"RID",t),En(r,"AID",n.U),Nd(n,r),n.o&&n.s&&H_(r,n.o,n.s),t=new mf(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=G_(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),k_(n.i,t),E_(t,r,e)}function Nd(n,e){n.j&&T_({},function(t,r){En(e,r,t)})}function G_(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Fr(n.j.Oa,n.j,n):null;e:{var o=n.l;let u=-1;for(;;){const h=["count="+t];-1==u?0<t?(u=o[0].h,h.push("ofs="+u)):u=0:h.push("ofs="+u);let m=!0;for(let E=0;E<t;E++){let D=o[E].h;const M=o[E].g;if(D-=u,0>D)u=Math.max(0,o[E].h-100),m=!1;else try{$w(M,h,"req"+D+"_")}catch(O){r&&r(M)}}if(m){r=h.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function Ug(n){n.g||n.u||(n.Y=1,Cg(n.Ga,n),n.A=0)}function Pd(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Og(Fr(n.Ga,n),Z_(n,n.A)),n.A++,0))}function Bg(n){null!=n.B&&(Dt.clearTimeout(n.B),n.B=null)}function q_(n){n.g=new mf(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=xo(n.oa);En(e,"RID","rpc"),En(e,"SID",n.J),En(e,"CI",n.N?"0":"1"),En(e,"AID",n.U),Nd(n,e),En(e,"TYPE","xmlhttp"),n.o&&n.s&&H_(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Ad(xo(e)),t.s=null,t.U=!0,b_(t,n)}function Tf(n){null!=n.v&&(Dt.clearTimeout(n.v),n.v=null)}function z_(n,e){var t=null;if(n.g==e){Tf(n),Bg(n),n.g=null;var r=2}else{if(!Fg(n.i,e))return;t=e.D,hr(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;qn(r=xg(),new m_(r,t,e,o)),Df(n)}else Ug(n);else if(3==(o=e.o)||0==o&&0<n.I||!(1==r&&function Vg(n,e){return!(Hw(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Og(Fr(n.Ha,n,e),Z_(n,n.C)),n.C++,0)))}(n,e)||2==r&&Pd(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:$u(n,5);break;case 4:$u(n,10);break;case 3:$u(n,6);break;default:$u(n,2)}}function Z_(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function $u(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Fr(n.jb,n);t||(t=new Ha("//www.google.com/images/cleardot.gif"),Dt.location&&"http"==Dt.location.protocol||vf(t,"https"),Ad(t)),function iI(n,e){const t=new Ag;if(Dt.Image){const r=new Image;r.onload=pg(Ef,t,r,"TestLoadImage: loaded",!0,e),r.onerror=pg(Ef,t,r,"TestLoadImage: error",!1,e),r.onabort=pg(Ef,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=pg(Ef,t,r,"TestLoadImage: timeout",!1,e),Dt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Oi(2);n.G=0,n.j&&n.j.va(e),W_(n),Zw(n)}function W_(n){n.G=0,n.I=-1,n.j&&((0!=F_(n.i).length||0!=n.l.length)&&(n.i.i.length=0,mg(n.l),n.l.length=0),n.j.ua())}function K_(n,e,t){let r=function Vw(n){return n instanceof Ha?xo(n):new Ha(n,void 0)}(t);if(""!=r.i)e&&wf(r,e+"."+r.i),Td(r,r.m);else{const o=Dt.location;r=function XC(n,e,t,r){var o=new Ha(null,void 0);return n&&vf(o,n),e&&wf(o,e),t&&Td(o,t),r&&(o.l=r),o}(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,t)}return n.aa&&yg(n.aa,function(o,u){En(r,u,o)}),t=n.sa,(e=n.D)&&t&&En(r,e,t),En(r,"VER",n.ma),Nd(n,r),r}function Kw(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Tr(t&&n.Ba&&!n.qa?new Md({ib:!0}):n.qa)).L=n.H,e}function Yw(){}function jg(){if(Lu&&!(10<=Number(c_)))throw Error("Environmental error: no available transport.")}function ys(n,e){kn.call(this),this.g=new Rd(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!cf(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!cf(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new kd(this)}function Jw(n){Id.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Qw(){v_.call(this),this.status=1}function kd(n){this.g=n}(Qe=Tr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ng.g(),this.C=function __(n){return n.h||(n.h=n.i())}(this.u?this.u:Ng),this.g.onreadystatechange=Fr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void Mo(this,u)}n=t||"";const o=new Ba(this.headers);r&&T_(r,function(u,h){o.set(h,u)}),r=function So(n){e:{var e=oI;const t=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<t;o++)if(o in r&&e.call(void 0,r[o],o,n)){e=o;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(o.T()),t=Dt.FormData&&n instanceof Dt.FormData,!(0<=mw(sa,e))||r||t||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(u,h){this.g.setRequestHeader(h,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{j_(this),0<this.B&&((this.K=function sI(n){return Lu&&function jC(){return function yA(n){var e=Cw;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=r_(String(u_)).split("."),t=r_("9").split("."),r=Math.max(e.length,t.length);for(let h=0;0==n&&h<r;h++){var o=e[h]||"",u=t[h]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==o[0].length&&0==u[0].length)break;n=i_(0==o[1].length?0:parseInt(o[1],10),0==u[1].length?0:parseInt(u[1],10))||i_(0==o[2].length,0==u[2].length)||i_(o[2],u[2]),o=o[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Fr(this.pa,this)):this.A=Tg(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){Mo(this,u)}},Qe.pa=function(){void 0!==af&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,qn(this,"timeout"),this.abort(8))},Qe.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,qn(this,"complete"),qn(this,"abort"),Cf(this))},Qe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Cf(this,!0)),Tr.Z.M.call(this)},Qe.Fa=function(){this.s||(this.F||this.v||this.l?eo(this):this.cb())},Qe.cb=function(){eo(this)},Qe.ba=function(){try{return 2<qa(this)?this.g.status:-1}catch(n){return-1}},Qe.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Qe.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),qw(e)}},Qe.Da=function(){return this.m},Qe.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Qe=Rd.prototype).ma=8,Qe.G=1,Qe.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},Qe.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const o=new mf(this,this.h,n,void 0);let u=this.s;if(this.P&&(u?(u=BC(u),ww(u,this.P)):u=this.P),null===this.o&&(o.H=u),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=G_(this,o,e),En(t=xo(this.F),"RID",n),En(t,"CVER",22),this.D&&En(t,"X-HTTP-Session-Id",this.D),Nd(this,t),this.o&&u&&H_(t,this.o,u),k_(this.i,o),this.Ra&&En(t,"TYPE","init"),this.ja?(En(t,"$req",e),En(t,"SID","null"),o.$=!0,E_(o,t,null)):E_(o,t,e),this.G=2}}else 3==this.G&&(n?Ww(this,n):0==this.l.length||jw(this.i)||Ww(this))},Qe.Ga=function(){if(this.u=null,q_(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Og(Fr(this.bb,this),n)}},Qe.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Oi(10),If(this),q_(this))},Qe.ab=function(){null!=this.v&&(this.v=null,If(this),Pd(this),Oi(19))},Qe.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Oi(2)):(this.h.info("Failed to ping google.com"),Oi(1))},(Qe=Yw.prototype).xa=function(){},Qe.wa=function(){},Qe.va=function(){},Qe.ua=function(){},Qe.Oa=function(){},jg.prototype.g=function(n,e){return new ys(n,e)},Kr(ys,kn),ys.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Cg(Fr(n.hb,n,e))),Oi(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=K_(n,null,n.W),Df(n)},ys.prototype.close=function(){$_(this.g)},ys.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,Lg(this.g,e)}else this.v?((e={}).__data__=ju(n),Lg(this.g,e)):Lg(this.g,n)},ys.prototype.M=function(){this.g.j=null,delete this.j,$_(this.g),delete this.g,ys.Z.M.call(this)},Kr(Jw,Id),Kr(Qw,v_),Kr(kd,Yw),kd.prototype.xa=function(){qn(this.g,"a")},kd.prototype.wa=function(n){qn(this.g,new Jw(n))},kd.prototype.va=function(n){qn(this.g,new Qw(n))},kd.prototype.ua=function(){qn(this.g,"b")},jg.prototype.createWebChannel=jg.prototype.g,ys.prototype.send=ys.prototype.u,ys.prototype.open=ys.prototype.m,ys.prototype.close=ys.prototype.close,Rg.NO_ERROR=0,Rg.TIMEOUT=8,Rg.HTTP_ERROR=6,nc.COMPLETE="complete",kw.EventType=Cd,Cd.OPEN="a",Cd.CLOSE="b",Cd.ERROR="c",Cd.MESSAGE="d",kn.prototype.listen=kn.prototype.N,Tr.prototype.listenOnce=Tr.prototype.O,Tr.prototype.getLastError=Tr.prototype.La,Tr.prototype.getLastErrorCode=Tr.prototype.Da,Tr.prototype.getStatus=Tr.prototype.ba,Tr.prototype.getResponseJson=Tr.prototype.Qa,Tr.prototype.getResponseText=Tr.prototype.ga,Tr.prototype.send=Tr.prototype.ea;var uI=gs.createWebChannelTransport=function(){return new jg},lI=gs.getStatEventTarget=function(){return xg()},Y_=gs.ErrorCode=Rg,cI=gs.EventType=nc,dI=gs.Event=Va,Xw=gs.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},hI=gs.FetchXmlHttpFactory=Md,Hg=gs.WebChannel=kw,fI=gs.XhrIo=Tr;const eE="@firebase/firestore";class Jr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jr.UNAUTHENTICATED=new Jr(null),Jr.GOOGLE_CREDENTIALS=new Jr("google-credentials-uid"),Jr.FIRST_PARTY=new Jr("first-party-uid"),Jr.MOCK_USER=new Jr("mock-user");let ac="9.6.10";const za=new na.Yd("@firebase/firestore");function $g(){return za.logLevel}function Pe(n,...e){if(za.logLevel<=na.in.DEBUG){const t=e.map(Gg);za.debug(`Firestore (${ac}): ${n}`,...t)}}function tr(n,...e){if(za.logLevel<=na.in.ERROR){const t=e.map(Gg);za.error(`Firestore (${ac}): ${n}`,...t)}}function Fd(n,...e){if(za.logLevel<=na.in.WARN){const t=e.map(Gg);za.warn(`Firestore (${ac}): ${n}`,...t)}}function Gg(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function Xe(n="Unexpected state"){const e=`FIRESTORE (${ac}) INTERNAL ASSERTION FAILED: `+n;throw tr(e),new Error(e)}function bt(n,e){n||Xe()}function Be(n,e){return n}const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends It.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Fn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class pI{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class J_{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Jr.UNAUTHENTICATED))}shutdown(){}}class CA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class rE{constructor(e){this.t=e,this.currentUser=Jr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const u=D=>this.i!==o?(o=this.i,t(D)):Promise.resolve();let h=new Fn;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Fn,e.enqueueRetryable(()=>u(this.currentUser))};const m=()=>{const D=h;e.enqueueRetryable((0,ye.Z)(function*(){yield D.promise,yield u(r.currentUser)}))},E=D=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=D,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(D=>E(D)),setTimeout(()=>{if(!this.auth){const D=this.t.getImmediate({optional:!0});D?E(D):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Fn)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(bt("string"==typeof r.accessToken),new pI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return bt(null===e||"string"==typeof e),new Jr(e)}}class iE{constructor(e,t,r){this.type="FirstParty",this.user=Jr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const o=e.auth.getAuthHeaderValueForFirstParty([]);o&&this.headers.set("Authorization",o),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class IA{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new iE(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Jr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gt{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gI{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=u=>{null!=u.error&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.p;return this.p=u.token,Pe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const o=u=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.g.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.g.getImmediate({optional:!0});u?o(u):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(bt("string"==typeof t.token),this.p=t.token,new gt(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class _s{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function qg(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}_s.A=-1;class sE{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=qg(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<t&&(r+=e.charAt(o[u]%e.length))}return r}}function Ft(n,e){return n<e?-1:n>e?1:0}function Za(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function Ln(n){return n+"\0"}class fr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xe(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xe(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new xe(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return fr.fromMillis(Date.now())}static fromDate(e){return fr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new fr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ft(this.nanoseconds,e.nanoseconds):Ft(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class yt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new yt(e)}static min(){return new yt(new fr(0,0))}static max(){return new yt(new fr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function oE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function uc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Q_(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Ld{constructor(e,t,r){void 0===t?t=0:t>e.length&&Xe(),void 0===r?r=e.length-t:r>e.length-t&&Xe(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Ld.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ld?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const u=e.get(o),h=t.get(o);if(u<h)return-1;if(u>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class zt extends Ld{construct(e,t,r){return new zt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(fe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new zt(t)}static emptyPath(){return new zt([])}}const aE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vr extends Ld{construct(e,t,r){return new Vr(e,t,r)}static isValidIdentifier(e){return aE.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Vr(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const u=()=>{if(0===r.length)throw new xe(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let h=!1;for(;o<e.length;){const m=e[o];if("\\"===m){if(o+1===e.length)throw new xe(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const E=e[o+1];if("\\"!==E&&"."!==E&&"`"!==E)throw new xe(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=E,o+=2}else"`"===m?(h=!h,o++):"."!==m||h?(r+=m,o++):(u(),o++)}if(u(),h)throw new xe(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vr(t)}static emptyPath(){return new Vr([])}}class Vd{constructor(e){this.fields=e,e.sort(Vr.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Za(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Vn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Vn(t)}static fromUint8Array(e){const t=function(r){let o="";for(let u=0;u<r.length;++u)o+=String.fromCharCode(r[u]);return o}(e);return new Vn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ft(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vn.EMPTY_BYTE_STRING=new Vn("");const yI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gu(n){if(bt(!!n),"string"==typeof n){let e=0;const t=yI.exec(n);if(bt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:zn(n.seconds),nanos:zn(n.nanos)}}function zn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function oa(n){return"string"==typeof n?Vn.fromBase64String(n):Vn.fromUint8Array(n)}function zg(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function X_(n){const e=n.mapValue.fields.__previous_value__;return zg(e)?X_(e):e}function Ud(n){const e=Gu(n.mapValue.fields.__local_write_time__.timestampValue);return new fr(e.seconds,e.nanos)}class _I{constructor(e,t,r,o,u,h,m,E){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.useFetchStreams=E}}class vs{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new vs("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof vs&&e.projectId===this.projectId&&e.database===this.database}}function Oo(n){return null==n}function Af(n){return 0===n&&1/n==-1/0}function uE(n){return"number"==typeof n&&Number.isInteger(n)&&!Af(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class je{constructor(e){this.path=e}static fromPath(e){return new je(zt.fromString(e))}static fromName(e){return new je(zt.fromString(e).popFirst(5))}static empty(){return new je(zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===zt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return zt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new je(new zt(e.slice()))}}const ev={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},tv={nullValue:"NULL_VALUE"};function qu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?zg(n)?4:$d(n)?9:10:Xe()}function aa(n,e){if(n===e)return!0;const t=qu(n);if(t!==qu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ud(n).isEqual(Ud(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const u=Gu(r.timestampValue),h=Gu(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,oa(n.bytesValue).isEqual(oa(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return zn(r.geoPointValue.latitude)===zn(o.geoPointValue.latitude)&&zn(r.geoPointValue.longitude)===zn(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return zn(r.integerValue)===zn(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const u=zn(r.doubleValue),h=zn(o.doubleValue);return u===h?Af(u)===Af(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return Za(n.arrayValue.values||[],e.arrayValue.values||[],aa);case 10:return function(r,o){const u=r.mapValue.fields||{},h=o.mapValue.fields||{};if(oE(u)!==oE(h))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(void 0===h[m]||!aa(u[m],h[m])))return!1;return!0}(n,e);default:return Xe()}var o}function Bd(n,e){return void 0!==(n.values||[]).find(t=>aa(t,e))}function zu(n,e){if(n===e)return 0;const t=qu(n),r=qu(e);if(t!==r)return Ft(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ft(n.booleanValue,e.booleanValue);case 2:return function(o,u){const h=zn(o.integerValue||o.doubleValue),m=zn(u.integerValue||u.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1}(n,e);case 3:return lE(n.timestampValue,e.timestampValue);case 4:return lE(Ud(n),Ud(e));case 5:return Ft(n.stringValue,e.stringValue);case 6:return function(o,u){const h=oa(o),m=oa(u);return h.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const h=o.split("/"),m=u.split("/");for(let E=0;E<h.length&&E<m.length;E++){const D=Ft(h[E],m[E]);if(0!==D)return D}return Ft(h.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const h=Ft(zn(o.latitude),zn(u.latitude));return 0!==h?h:Ft(zn(o.longitude),zn(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,u){const h=o.values||[],m=u.values||[];for(let E=0;E<h.length&&E<m.length;++E){const D=zu(h[E],m[E]);if(D)return D}return Ft(h.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,u){const h=o.fields||{},m=Object.keys(h),E=u.fields||{},D=Object.keys(E);m.sort(),D.sort();for(let M=0;M<m.length&&M<D.length;++M){const O=Ft(m[M],D[M]);if(0!==O)return O;const H=zu(h[m[M]],E[D[M]]);if(0!==H)return H}return Ft(m.length,D.length)}(n.mapValue,e.mapValue);default:throw Xe()}}function lE(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ft(n,e);const t=Gu(n),r=Gu(e),o=Ft(t.seconds,r.seconds);return 0!==o?o:Ft(t.nanos,r.nanos)}function Sf(n){return cE(n)}function cE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=Gu(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?oa(n.bytesValue).toBase64():"referenceValue"in n?je.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",u=!0;for(const h of r.values||[])u?u=!1:o+=",",o+=cE(h);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let u="{",h=!0;for(const m of o)h?h=!1:u+=",",u+=`${m}:${cE(r.fields[m])}`;return u+"}"}(n.mapValue):Xe();var e}function xf(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function dE(n){return!!n&&"integerValue"in n}function jd(n){return!!n&&"arrayValue"in n}function Mf(n){return!!n&&"nullValue"in n}function hE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Zg(n){return!!n&&"mapValue"in n}function Hd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return uc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Hd(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Hd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function $d(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function fE(n,e){return void 0===n?e:void 0===e||zu(n,e)>0?n:e}function pE(n,e){return void 0===n?e:void 0===e||zu(n,e)<0?n:e}class mi{constructor(e){this.value=e}static empty(){return new mi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Zg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hd(t)}setAll(e){let t=Vr.emptyPath(),r={},o=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const E=this.getFieldsMap(t);this.applyChanges(E,r,o),r={},o=[],t=m.popLast()}h?r[m.lastSegment()]=Hd(h):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,o)}delete(e){const t=this.field(e.popLast());Zg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return aa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Zg(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){uc(t,(o,u)=>e[o]=u);for(const o of r)delete e[o]}clone(){return new mi(Hd(this.value))}}function gE(n){const e=[];return uc(n.fields,(t,r)=>{const o=new Vr([t]);if(Zg(r)){const u=gE(r.mapValue).fields;if(0===u.length)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new Vd(e)}class bn{constructor(e,t,r,o,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new bn(e,0,yt.min(),yt.min(),mi.empty(),0)}static newFoundDocument(e,t,r){return new bn(e,1,t,yt.min(),r,0)}static newNoDocument(e,t){return new bn(e,2,t,yt.min(),mi.empty(),0)}static newUnknownDocument(e,t){return new bn(e,3,t,yt.min(),mi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Of{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}}function nv(n){return n.fields.find(e=>2===e.kind)}function Gd(n){return n.fields.filter(e=>2!==e.kind)}Of.UNKNOWN_ID=-1;class Wa{constructor(e,t){this.fieldPath=e,this.kind=t}}class Rf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Rf(0,ua.min())}}function rv(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=yt.fromTimestamp(1e9===r?new fr(t+1,0):new fr(t,r));return new ua(o,je.empty(),e)}function vI(n){return new ua(n.readTime,n.key,-1)}class ua{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ua(yt.min(),je.empty(),-1)}static max(){return new ua(yt.max(),je.empty(),-1)}}function wI(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=je.comparator(n.documentKey,e.documentKey),0!==t?t:Ft(n.largestBatchId,e.largestBatchId))}class mE{constructor(e,t=null,r=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.P=null}}function yE(n,e=null,t=[],r=[],o=null,u=null,h=null){return new mE(n,e,t,r,o,u,h)}function Ka(n){const e=Be(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(o=r).field.canonicalString()+o.op.toString()+Sf(o.value);var o}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),Oo(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Sf(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Sf(r)).join(",")),e.P=t}return e.P}function qd(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!SI(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(r=e.filters[o]).op||!t.field.isEqual(r.field)||!aa(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!ov(n.startAt,e.startAt)&&ov(n.endAt,e.endAt)}function Nf(n){return je.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Wg(n,e){return n.filters.filter(t=>t instanceof Qr&&t.field.isEqual(e))}class Qr extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new bI(e,t,r):"array-contains"===t?new II(e,r):"in"===t?new DI(e,r):"not-in"===t?new TI(e,r):"array-contains-any"===t?new AI(e,r):new Qr(e,t,r)}static V(e,t,r){return"in"===t?new iv(e,r):new CI(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(zu(t,this.value)):null!==t&&qu(this.value)===qu(t)&&this.v(zu(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Xe()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class bI extends Qr{constructor(e,t,r){super(e,t,r),this.key=je.fromName(r.referenceValue)}matches(e){const t=je.comparator(e.key,this.key);return this.v(t)}}class iv extends Qr{constructor(e,t){super(e,"in",t),this.keys=sv(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class CI extends Qr{constructor(e,t){super(e,"not-in",t),this.keys=sv(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function sv(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>je.fromName(r.referenceValue))}class II extends Qr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return jd(t)&&Bd(t.arrayValue,this.value)}}class DI extends Qr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Bd(this.value.arrayValue,t)}}class TI extends Qr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Bd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Bd(this.value.arrayValue,t)}}class AI extends Qr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!jd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Bd(this.value.arrayValue,r))}}class Zu{constructor(e,t){this.position=e,this.inclusive=t}}class zd{constructor(e,t="asc"){this.field=e,this.dir=t}}function SI(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function _E(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const u=e[o],h=n.position[o];if(r=u.field.isKeyField()?je.comparator(je.fromName(h.referenceValue),t.key):zu(h,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function ov(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!aa(n.position[t],e.position[t]))return!1;return!0}class la{constructor(e,t=null,r=[],o=[],u=null,h="F",m=null,E=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=E,this.D=null,this.C=null}}function vE(n,e,t,r,o,u,h,m){return new la(n,e,t,r,o,u,h,m)}function Zd(n){return new la(n)}function Pf(n){return!Oo(n.limit)&&"F"===n.limitType}function Kg(n){return!Oo(n.limit)&&"L"===n.limitType}function av(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function uv(n){for(const e of n.filters)if(e.S())return e.field;return null}function kf(n){return null!==n.collectionGroup}function Wu(n){const e=Be(n);if(null===e.D){e.D=[];const t=uv(e),r=av(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new zd(t)),e.D.push(new zd(Vr.keyField(),"asc"));else{let o=!1;for(const u of e.explicitOrderBy)e.D.push(u),u.field.isKeyField()&&(o=!0);if(!o){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new zd(Vr.keyField(),u))}}}return e.D}function ws(n){const e=Be(n);if(!e.C)if("F"===e.limitType)e.C=yE(e.path,e.collectionGroup,Wu(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of Wu(e))t.push(new zd(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new Zu(e.endAt.position,!e.endAt.inclusive):null,o=e.startAt?new Zu(e.startAt.position,!e.startAt.inclusive):null;e.C=yE(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.C}function Yg(n,e,t){return new la(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ff(n,e){return qd(ws(n),ws(e))&&n.limitType===e.limitType}function wE(n){return`${Ka(ws(n))}|lt:${n.limitType}`}function Lf(n){return`Query(target=${function EI(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Sf(r.value)}`;var r}).join(", ")}]`),Oo(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Sf(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Sf(t)).join(",")),`Target(${e})`}(ws(n))}; limitType=${n.limitType})`}function lv(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):je.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,u,h){const m=_E(o,u,h);return o.inclusive?m<=0:m<0}(t.startAt,Wu(t),r)||t.endAt&&!function(o,u,h){const m=_E(o,u,h);return o.inclusive?m>=0:m>0}(t.endAt,Wu(t),r)));var t,r}function cv(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function EE(n){return(e,t)=>{let r=!1;for(const o of Wu(n)){const u=bE(o,e,t);if(0!==u)return u;r=r||o.field.isKeyField()}return 0}}function bE(n,e,t){const r=n.field.isKeyField()?je.comparator(e.key,t.key):function(o,u,h){const m=u.data.field(o),E=h.data.field(o);return null!==m&&null!==E?zu(m,E):Xe()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Xe()}}function CE(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Af(e)?"-0":e}}function dv(n){return{integerValue:""+n}}function xI(n,e){return uE(e)?dv(e):CE(n,e)}class Jg{constructor(){this._=void 0}}function Qg(n,e,t){return n instanceof ca?function(r,o){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(u.fields.__previous_value__=o),{mapValue:u}}(t,e):n instanceof cc?OI(n,e):n instanceof Ku?IE(n,e):function(r,o){const u=lc(r,o),h=DE(u)+DE(r.k);return dE(u)&&dE(r.k)?dv(h):CE(r.M,h)}(n,e)}function MI(n,e,t){return n instanceof cc?OI(n,e):n instanceof Ku?IE(n,e):t}function lc(n,e){return n instanceof Wd?dE(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class ca extends Jg{}class cc extends Jg{constructor(e){super(),this.elements=e}}function OI(n,e){const t=TE(e);for(const r of n.elements)t.some(o=>aa(o,r))||t.push(r);return{arrayValue:{values:t}}}class Ku extends Jg{constructor(e){super(),this.elements=e}}function IE(n,e){let t=TE(e);for(const r of n.elements)t=t.filter(o=>!aa(o,r));return{arrayValue:{values:t}}}class Wd extends Jg{constructor(e,t){super(),this.M=e,this.k=t}}function DE(n){return zn(n.integerValue||n.doubleValue)}function TE(n){return jd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Kd{constructor(e,t){this.field=e,this.transform=t}}class hv{constructor(e,t){this.version=e,this.transformResults=t}}class Un{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Un}static exists(e){return new Un(void 0,e)}static updateTime(e){return new Un(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yu(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Xg{}function SE(n,e,t){n instanceof Vf?function(r,o,u){const h=r.value.clone(),m=OE(r.fieldTransforms,o,u.transformResults);h.setAll(m),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Yd?function(r,o,u){if(!Yu(r.precondition,o))return void o.convertToUnknownDocument(u.version);const h=OE(r.fieldTransforms,o,u.transformResults),m=o.data;m.setAll(ME(r)),m.setAll(h),o.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function em(n,e,t){var o;n instanceof Vf?function(r,o,u){if(!Yu(r.precondition,o))return;const h=r.value.clone(),m=dc(r.fieldTransforms,u,o);h.setAll(m),o.convertToFoundDocument(tm(o),h).setHasLocalMutations()}(n,e,t):n instanceof Yd?function(r,o,u){if(!Yu(r.precondition,o))return;const h=dc(r.fieldTransforms,u,o),m=o.data;m.setAll(ME(r)),m.setAll(h),o.convertToFoundDocument(tm(o),m).setHasLocalMutations()}(n,e,t):Yu(n.precondition,o=e)&&o.convertToNoDocument(yt.min())}function RI(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),u=lc(r.transform,o||null);null!=u&&(null==t&&(t=mi.empty()),t.set(r.field,u))}return t||null}function xE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Za(t,r,(o,u)=>function AE(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof cc&&r instanceof cc||t instanceof Ku&&r instanceof Ku?Za(t.elements,r.elements,aa):t instanceof Wd&&r instanceof Wd?aa(t.k,r.k):t instanceof ca&&r instanceof ca);var t,r}(o,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function tm(n){return n.isFoundDocument()?n.version:yt.min()}class Vf extends Xg{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}}class Yd extends Xg{constructor(e,t,r,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}}function ME(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function OE(n,e,t){const r=new Map;bt(n.length===t.length);for(let o=0;o<t.length;o++){const u=n[o],h=u.transform,m=e.data.field(u.field);r.set(u.field,MI(h,m,t[o]))}return r}function dc(n,e,t){const r=new Map;for(const o of n){const u=o.transform,h=t.data.field(o.field);r.set(o.field,Qg(u,h,e))}return r}class Jd extends Xg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Ju extends Xg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class TA{constructor(e){this.count=e}}var nr,Kt;function NI(n){switch(n){default:return Xe();case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0}}function fv(n){if(void 0===n)return tr("GRPC error has no .code"),fe.UNKNOWN;switch(n){case nr.OK:return fe.OK;case nr.CANCELLED:return fe.CANCELLED;case nr.UNKNOWN:return fe.UNKNOWN;case nr.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case nr.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case nr.INTERNAL:return fe.INTERNAL;case nr.UNAVAILABLE:return fe.UNAVAILABLE;case nr.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case nr.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case nr.NOT_FOUND:return fe.NOT_FOUND;case nr.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case nr.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case nr.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case nr.ABORTED:return fe.ABORTED;case nr.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case nr.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case nr.DATA_LOSS:return fe.DATA_LOSS;default:return Xe()}}(Kt=nr||(nr={}))[Kt.OK=0]="OK",Kt[Kt.CANCELLED=1]="CANCELLED",Kt[Kt.UNKNOWN=2]="UNKNOWN",Kt[Kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kt[Kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kt[Kt.NOT_FOUND=5]="NOT_FOUND",Kt[Kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kt[Kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kt[Kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kt[Kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kt[Kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kt[Kt.ABORTED=10]="ABORTED",Kt[Kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kt[Kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kt[Kt.INTERNAL=13]="INTERNAL",Kt[Kt.UNAVAILABLE=14]="UNAVAILABLE",Kt[Kt.DATA_LOSS=15]="DATA_LOSS";class hc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,u]of r)if(this.equalsFn(o,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){uc(this.inner,(t,r)=>{for(const[o,u]of r)e(o,u)})}isEmpty(){return Q_(this.inner)}size(){return this.innerSize}}class Zn{constructor(e,t){this.comparator=e,this.root=t||Ur.EMPTY}insert(e,t){return new Zn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ur.BLACK,null,null))}remove(e){return new Zn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ur.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qd(this.root,e,this.comparator,!0)}}class Qd{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ur{constructor(e,t,r,o,u){this.key=e,this.value=t,this.color=null!=r?r:Ur.RED,this.left=null!=o?o:Ur.EMPTY,this.right=null!=u?u:Ur.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,u){return new Ur(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=u?u:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===u?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ur.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return Ur.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ur.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ur.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Xe();const e=this.left.check();if(e!==this.right.check())throw Xe();return e+(this.isRed()?0:1)}}Ur.EMPTY=null,Ur.RED=!0,Ur.BLACK=!1,Ur.EMPTY=new class{constructor(){this.size=0}get key(){throw Xe()}get value(){throw Xe()}get color(){throw Xe()}get left(){throw Xe()}get right(){throw Xe()}copy(n,e,t,r,o){return this}insert(n,e,t){return new Ur(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Cn{constructor(e){this.comparator=e,this.data=new Zn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new RE(this.data.getIterator())}getIteratorFrom(e){return new RE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Cn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(o,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Cn(this.comparator);return t.data=e,t}}class RE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Xd(n){return n.hasNext()?n.getNext():void 0}const PI=new Zn(je.comparator);function to(){return PI}const kI=new Zn(je.comparator);function pv(){return kI}function Uf(){return new hc(n=>n.toString(),(n,e)=>n.isEqual(e))}const FI=new Zn(je.comparator),Bf=new Cn(je.comparator);function sn(...n){let e=Bf;for(const t of n)e=e.add(t);return e}const NE=new Cn(Ft);function jf(){return NE}class eh{constructor(e,t,r,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,th.createSynthesizedTargetChangeForCurrentChange(e,t)),new eh(yt.min(),r,jf(),to(),sn())}}class th{constructor(e,t,r,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t){return new th(Vn.EMPTY_BYTE_STRING,t,sn(),sn(),sn())}}class Hf{constructor(e,t,r,o){this.O=e,this.removedTargetIds=t,this.key=r,this.F=o}}class PE{constructor(e,t){this.targetId=e,this.$=t}}class gv{constructor(e,t,r=Vn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class kE{constructor(){this.B=0,this.L=LE(),this.U=Vn.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}get current(){return this.q}get resumeToken(){return this.U}get K(){return 0!==this.B}get j(){return this.G}W(e){e.approximateByteSize()>0&&(this.G=!0,this.U=e)}H(){let e=sn(),t=sn(),r=sn();return this.L.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Xe()}}),new th(this.U,this.q,e,t,r)}J(){this.G=!1,this.L=LE()}Y(e,t){this.G=!0,this.L=this.L.insert(e,t)}X(e){this.G=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.G=!0,this.q=!0}}class LI{constructor(e){this.nt=e,this.st=new Map,this.it=to(),this.rt=FE(),this.ot=new Cn(Ft)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.K||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.K||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:Xe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,o)=>{this.ft(o)&&t(o)})}_t(e){const t=e.targetId,r=e.$.count,o=this.wt(t);if(o){const u=o.target;if(Nf(u))if(0===r){const h=new je(u.path);this.ct(t,h,bn.newNoDocument(h,yt.min()))}else bt(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((u,h)=>{const m=this.wt(h);if(m){if(u.current&&Nf(m.target)){const E=new je(m.target.path);null!==this.it.get(E)||this.It(h,E)||this.ct(h,E,bn.newNoDocument(E,e))}u.j&&(t.set(h,u.H()),u.J())}});let r=sn();this.rt.forEach((u,h)=>{let m=!0;h.forEachWhile(E=>{const D=this.wt(E);return!D||2===D.purpose||(m=!1,!1)}),m&&(r=r.add(u))}),this.it.forEach((u,h)=>h.setReadTime(e));const o=new eh(e,t,this.ot,this.it,r);return this.it=to(),this.rt=FE(),this.ot=new Cn(Ft),o}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const o=this.lt(e);this.It(e,t)?o.Y(t,1):o.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new kE,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Cn(Ft),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Pe("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.K?null:this.nt.Et(e)}dt(e){this.st.set(e,new kE),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function FE(){return new Zn(je.comparator)}function LE(){return new Zn(je.comparator)}const $f={asc:"ASCENDING",desc:"DESCENDING"},VI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class mv{constructor(e,t){this.databaseId=e,this.N=t}}function zi(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VE(n,e){return n.N?e.toBase64():e.toUint8Array()}function yv(n,e){return zi(n,e.toTimestamp())}function Wn(n){return bt(!!n),yt.fromTimestamp(function(e){const t=Gu(e);return new fr(t.seconds,t.nanos)}(n))}function _v(n,e){return(t=n,new zt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function UE(n){const e=zt.fromString(n);return bt(Dv(e)),e}function Gf(n,e){return _v(n.databaseId,e.path)}function Es(n,e){const t=UE(e);if(t.get(1)!==n.databaseId.projectId)throw new xe(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new xe(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new je(vv(t))}function nh(n,e){return _v(n.databaseId,e)}function BE(n){const e=UE(n);return 4===e.length?zt.emptyPath():vv(e)}function qf(n){return new zt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function vv(n){return bt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function wv(n,e,t){return{name:Gf(n,e),fields:t.value.mapValue.fields}}function nm(n,e,t){const r=Es(n,e.name),o=Wn(e.updateTime),u=new mi({mapValue:{fields:e.fields}}),h=bn.newFoundDocument(r,o,u);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function zf(n,e){let t;if(e instanceof Vf)t={update:wv(n,e.key,e.value)};else if(e instanceof Jd)t={delete:Gf(n,e.key)};else if(e instanceof Yd)t={update:wv(n,e.key,e.data),updateMask:HI(e.fieldMask)};else{if(!(e instanceof Ju))return Xe();t={verify:Gf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const h=u.transform;if(h instanceof ca)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof cc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Ku)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Wd)return{fieldPath:u.field.canonicalString(),increment:h.k};throw Xe()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:yv(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:Xe()),t;var o}function HE(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?Un.updateTime(Wn(o.updateTime)):void 0!==o.exists?Un.exists(o.exists):Un.none():Un.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(u,h){let m=null;"setToServerValue"in h?(bt("REQUEST_TIME"===h.setToServerValue),m=new ca):"appendMissingElements"in h?m=new cc(h.appendMissingElements.values||[]):"removeAllFromArray"in h?m=new Ku(h.removeAllFromArray.values||[]):"increment"in h?m=new Wd(u,h.increment):Xe();const E=Vr.fromServerFormat(h.fieldPath);return new Kd(E,m)}(n,o)):[];var o;if(e.update){const o=Es(n,e.update.name),u=new mi({mapValue:{fields:e.update.fields}});if(e.updateMask){const h=new Vd((e.updateMask.fieldPaths||[]).map(D=>Vr.fromServerFormat(D)));return new Yd(o,u,h,t,r)}return new Vf(o,u,t,r)}if(e.delete){const o=Es(n,e.delete);return new Jd(o,t)}if(e.verify){const o=Es(n,e.verify);return new Ju(o,t)}return Xe()}function rm(n,e){return{documents:[nh(n,e.path)]}}function bv(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=nh(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=nh(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(E){if(0===E.length)return;const D=E.map(M=>function(O){if("=="===O.op){if(hE(O.value))return{unaryFilter:{field:rh(O.field),op:"IS_NAN"}};if(Mf(O.value))return{unaryFilter:{field:rh(O.field),op:"IS_NULL"}}}else if("!="===O.op){if(hE(O.value))return{unaryFilter:{field:rh(O.field),op:"IS_NOT_NAN"}};if(Mf(O.value))return{unaryFilter:{field:rh(O.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rh(O.field),op:jI(O.op),value:O.value}}}(M));return 1===D.length?D[0]:{compositeFilter:{op:"AND",filters:D}}}(e.filters);o&&(t.structuredQuery.where=o);const u=function(E){if(0!==E.length)return E.map(D=>{return{field:rh((M=D).field),direction:BI(M.dir)};var M})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=(D=e.limit,n.N||Oo(D)?D:{value:D});var D,m,E;return null!==h&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(E=e.endAt).inclusive,values:E.position}),t}function im(n){let e=BE(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){bt(1===r);const M=t.from[0];M.allDescendants?o=M.collectionId:e=e.child(M.collectionId)}let u=[];t.where&&(u=$E(t.where));let h=[];t.orderBy&&(h=t.orderBy.map(M=>{return new zd(fc((O=M).field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction));var O}));let m=null;t.limit&&(m=function(M){let O;return O="object"==typeof M?M.value:M,Oo(O)?null:O}(t.limit));let E=null;var M;t.startAt&&(E=new Zu((M=t.startAt).values||[],!!M.before));let D=null;return t.endAt&&(D=function(M){return new Zu(M.values||[],!M.before)}(t.endAt)),vE(e,o,h,u,m,"F",E,D)}function $E(n){return n?void 0!==n.unaryFilter?[GE(n)]:void 0!==n.fieldFilter?[Iv(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>$E(e)).reduce((e,t)=>e.concat(t)):Xe():[]}function BI(n){return $f[n]}function jI(n){return VI[n]}function rh(n){return{fieldPath:n.canonicalString()}}function fc(n){return Vr.fromServerFormat(n.fieldPath)}function Iv(n){return Qr.create(fc(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xe()}}(n.fieldFilter.op),n.fieldFilter.value)}function GE(n){switch(n.unaryFilter.op){case"IS_NAN":const e=fc(n.unaryFilter.field);return Qr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=fc(n.unaryFilter.field);return Qr.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=fc(n.unaryFilter.field);return Qr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=fc(n.unaryFilter.field);return Qr.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Xe()}}function HI(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Dv(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Ar(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Tv(e)),e=$I(n.get(t),e);return Tv(e)}function $I(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function Tv(n){return n+"\x01\x01"}function no(n){const e=n.length;if(bt(e>=2),2===e)return bt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),zt.emptyPath();const t=e-2,r=[];let o="";for(let u=0;u<e;){const h=n.indexOf("\x01",u);switch((h<0||h>t)&&Xe(),n.charAt(h+1)){case"\x01":const m=n.substring(u,h);let E;0===o.length?E=m:(o+=m,E=o,o=""),r.push(E);break;case"\x10":o+=n.substring(u,h),o+="\0";break;case"\x11":o+=n.substring(u,h+1);break;default:Xe()}u=h+2}return new zt(r)}const qE=["userId","batchId"];function Zf(n,e){return[n,Ar(e)]}function Av(n,e,t){return[n,Ar(e),t]}const Ri={},ih=["prefixPath","collectionGroup","readTime","documentId"],GI=["prefixPath","collectionGroup","documentId"],qI=["collectionGroup","readTime","prefixPath","documentId"],AA=["canonicalId","targetId"],Wf=["targetId","path"],zI=["path","targetId"],Sv=["collectionId","parent"],ZI=["indexId","uid"],zE=["uid","sequenceNumber"],WI=["indexId","uid","arrayValue","directionalValue","documentKey"],KI=["indexId","uid","documentKey"],xv=["userId","collectionPath","documentId"],ZE=["userId","collectionPath","largestBatchId"],WE=["userId","collectionGroup","largestBatchId"],Kf=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Mv=[...Kf,"documentOverlays"],YI=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],KE=[...YI,"indexConfiguration","indexState","indexEntries"],YE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ov{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ge((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ge?t:ge.resolve(t)}catch(t){return ge.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ge.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ge.reject(t)}static resolve(e){return new ge((t,r)=>{t(e)})}static reject(e){return new ge((t,r)=>{r(e)})}static waitFor(e){return new ge((t,r)=>{let o=0,u=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++u,h&&u===o&&t()},E=>r(E))}),h=!0,u===o&&t()})}static or(e){let t=ge.resolve(!1);for(const r of e)t=t.next(o=>o?ge.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,u)=>{r.push(t.call(this,o,u))}),this.waitFor(r)}}class Yf{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new Fn,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new pc(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const o=sm(r.target.error);this.At.reject(new pc(e,o))}}static open(e,t,r,o){try{return new Yf(t,e.transaction(o,r))}catch(u){throw new pc(t,u)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Pe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new JI(t)}}class Ro{constructor(e,t,r){this.name=e,this.version=t,this.Pt=r,12.2===Ro.Vt((0,It.z$)())&&tr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Pe("SimpleDb","Removing database:",e),gc(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,It.hl)())return!1;if(Ro.St())return!0;const e=(0,It.z$)(),t=Ro.Vt(e),r=0<t&&t<10,o=Ro.Dt(e),u=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,ye.Z)(function*(){return t.db||(Pe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=h=>{r(h.target.result)},u.onblocked=()=>{o(new pc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=h=>{const m=h.target.error;o("VersionError"===m.name?new xe(fe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new xe(fe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new pc(e,m))},u.onupgradeneeded=h=>{Pe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',h.oldVersion),t.Pt.kt(h.target.result,u.transaction,h.oldVersion,t.version).next(()=>{Pe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var u=this;return(0,ye.Z)(function*(){const h="readonly"===t;let m=0;for(;;){++m;try{u.db=yield u.Nt(e);const E=Yf.open(u.db,e,h?"readonly":"readwrite",r),D=o(E).next(M=>(E.bt(),M)).catch(M=>(E.abort(M),ge.reject(M))).toPromise();return D.catch(()=>{}),yield E.Rt,D}catch(E){const D="FirebaseError"!==E.name&&m<3;if(Pe("SimpleDb","Transaction failed with error:",E.message,"Retrying:",D),u.close(),!D)return Promise.reject(E)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Rv{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return gc(this.Ft.delete())}}class pc extends xe{constructor(e,t){super(fe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function sh(n){return"IndexedDbTransactionError"===n.name}class JI{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Pe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Pe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),gc(r)}add(e){return Pe("SimpleDb","ADD",this.store.name,e,e),gc(this.store.add(e))}get(e){return gc(this.store.get(e)).next(t=>(void 0===t&&(t=null),Pe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Pe("SimpleDb","DELETE",this.store.name,e),gc(this.store.delete(e))}count(){return Pe("SimpleDb","COUNT",this.store.name),gc(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),u=[];return this.Gt(o,(h,m)=>{u.push(m)}).next(()=>u)}{const o=this.store.getAll(r.range);return new ge((u,h)=>{o.onerror=m=>{h(m.target.error)},o.onsuccess=m=>{u(m.target.result)}})}}Kt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ge((o,u)=>{r.onerror=h=>{u(h.target.error)},r.onsuccess=h=>{o(h.target.result)}})}Qt(e,t){Pe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const o=this.cursor(r);return this.Gt(o,(u,h,m)=>m.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.Gt(o,t)}zt(e){const t=this.cursor({});return new ge((r,o)=>{t.onerror=u=>{const h=sm(u.target.error);o(h)},t.onsuccess=u=>{const h=u.target.result;h?e(h.primaryKey,h.value).next(m=>{m?h.continue():r()}):r()}})}Gt(e,t){const r=[];return new ge((o,u)=>{e.onerror=h=>{u(h.target.error)},e.onsuccess=h=>{const m=h.target.result;if(!m)return void o();const E=new Rv(m),D=t(m.primaryKey,m.value,E);if(D instanceof ge){const M=D.catch(O=>(E.done(),ge.reject(O)));r.push(M)}E.isDone?o():null===E.Lt?m.continue():m.continue(E.Lt)}}).next(()=>ge.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function gc(n){return new ge((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=sm(r.target.error);t(o)}})}let Nv=!1;function sm(n){const e=Ro.Vt((0,It.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new xe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Nv||(Nv=!0,setTimeout(()=>{throw r},0)),r}}return n}class JE extends Ov{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function Sr(n,e){const t=Be(n);return Ro.xt(t.Ht,e)}class om{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&SE(u,e,r[o])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&em(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&em(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),o=r;this.applyToLocalView(o),r.isValidDocument()||o.convertToNoDocument(yt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),sn())}isEqual(e){return this.batchId===e.batchId&&Za(this.mutations,e.mutations,(t,r)=>xE(t,r))&&Za(this.baseMutations,e.baseMutations,(t,r)=>xE(t,r))}}class Pv{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){bt(e.mutations.length===r.length);let o=FI;const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,r[h].version);return new Pv(e,t,r,o)}}class kv{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ya{constructor(e,t,r,o,u=yt.min(),h=yt.min(),m=Vn.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m}withSequenceNumber(e){return new Ya(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class QE{constructor(e){this.Jt=e}}function Fv(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Jf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Gf(o=n.Jt,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:zi(o,u.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Qu(e.version)};else{if(!e.isUnknownDocument())return Xe();r.unknownDocument={path:t.path.toArray(),version:Qu(e.version)}}var o,u;return r}function Jf(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Qu(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function mc(n){const e=new fr(n.seconds,n.nanoseconds);return yt.fromTimestamp(e)}function oh(n,e){const t=(e.baseMutations||[]).map(u=>HE(n.Jt,u));for(let u=0;u<e.mutations.length-1;++u){const h=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(h.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const r=e.mutations.map(u=>HE(n.Jt,u)),o=fr.fromMillis(e.localWriteTimeMs);return new om(e.batchId,o,t,r)}function am(n){const e=mc(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?mc(n.lastLimboFreeSnapshotVersion):yt.min();let r;var o;return void 0!==n.query.documents?(bt(1===(o=n.query).documents.length),r=ws(Zd(BE(o.documents[0])))):r=ws(im(n.query)),new Ya(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Vn.fromBase64String(n.resumeToken))}function Lv(n,e){const t=Qu(e.snapshotVersion),r=Qu(e.lastLimboFreeSnapshotVersion);let o;o=Nf(e.target)?rm(n.Jt,e.target):bv(n.Jt,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ka(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function eb(n){const e=im({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Yg(e,e.limit,"L"):e}function tb(n,e){return new kv(e.largestBatchId,HE(n.Jt,e.overlayMutation))}function QI(n,e){const t=e.path.lastSegment();return[n,Ar(e.path.popLast()),t]}class SA{getBundleMetadata(e,t){return XI(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:mc(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return XI(e).put({bundleId:(r=t).id,createTime:Qu(Wn(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return eD(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:eb(o.bundledQuery),readTime:mc(o.readTime)};var o})}saveNamedQuery(e,t){return eD(e).put({name:(r=t).name,readTime:Qu(Wn(r.readTime)),bundledQuery:r.bundledQuery});var r}}function XI(n){return Sr(n,"bundles")}function eD(n){return Sr(n,"namedQueries")}class nb{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new nb(e,t.uid||"")}getOverlay(e,t){return um(e).get(QI(this.userId,t)).next(r=>r?tb(this.M,r):null)}saveOverlays(e,t,r){const o=[];return r.forEach((u,h)=>{const m=new kv(t,h);o.push(this.Xt(e,m))}),ge.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach(h=>o.add(Ar(h.getCollectionPath())));const u=[];return o.forEach(h=>{const m=IDBKeyRange.bound([this.userId,h,r],[this.userId,h,r+1],!1,!0);u.push(um(e).Qt("collectionPathOverlayIndex",m))}),ge.waitFor(u)}getOverlaysForCollection(e,t,r){const o=Uf(),u=Ar(t),h=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return um(e).qt("collectionPathOverlayIndex",h).next(m=>{for(const E of m){const D=tb(this.M,E);o.set(D.getKey(),D)}return o})}getOverlaysForCollectionGroup(e,t,r,o){const u=Uf();let h;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return um(e).Wt({index:"collectionGroupOverlayIndex",range:m},(E,D,M)=>{const O=tb(this.M,D);u.size()<o||O.largestBatchId===h?(u.set(O.getKey(),O),h=O.largestBatchId):M.done()}).next(()=>u)}Xt(e,t){return um(e).put(function(r,o,u){const[h,m,E]=QI(o,u.mutation.key);return{userId:o,collectionPath:m,documentId:E,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:zf(r.Jt,u.mutation)}}(this.M,this.userId,t))}}function um(n){return Sr(n,"documentOverlays")}class Ja{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(zn(e.integerValue));else if("doubleValue"in e){const r=zn(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),Af(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(oa(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?$d(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):Xe()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const o of Object.keys(r))this.re(o,t),this.te(r[o],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const o of r)this.te(o,t)}ae(e,t){this.ne(t,37),je.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function xA(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function Vv(n){const e=64-function(t){let r=0;for(let o=0;o<8;++o){const u=xA(255&t[o]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}Ja.fe=new Ja;class Uv{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const o=t.codePointAt(0);this._e(240|o>>>18),this._e(128|63&o>>>12),this._e(128|63&o>>>6),this._e(128|63&o)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const o=t.codePointAt(0);this.ge(240|o>>>18),this.ge(128|63&o>>>12),this.ge(128|63&o>>>6),this.ge(128|63&o)}}this.ye()}Te(e){const t=this.Ee(e),r=Vv(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}Re(e){const t=this.Ee(e),r=Vv(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class rb{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class ib{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class Bv{constructor(){this.De=new Uv,this.Ce=new rb(this.De),this.xe=new ib(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class da{constructor(e,t,r,o){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=o}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new da(this.indexId,this.documentKey,this.arrayValue,r)}}function Xu(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=jv(n.arrayValue,e.arrayValue),0!==t?t:(t=jv(n.directionalValue,e.directionalValue),0!==t?t:je.comparator(n.documentKey,e.documentKey)))}function jv(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class sb{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=nv(e);if(void 0!==t&&!this.Be(t))return!1;const r=Gd(e);let o=0,u=0;for(;o<r.length&&this.Be(r[o]);++o);if(o===r.length)return!0;if(void 0!==this.Fe){const h=r[o];if(!this.Le(this.Fe,h)||!this.Ue(this.Me[u++],h))return!1;++o}for(;o<r.length;++o){const h=r[o];if(u>=this.Me.length||!this.Ue(this.Me[u++],h))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class MA{constructor(){this.qe=new lm}addToCollectionParentIndex(e,t){return this.qe.add(t),ge.resolve()}getCollectionParents(e,t){return ge.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return ge.resolve()}deleteFieldIndex(e,t){return ge.resolve()}getDocumentsMatchingTarget(e,t){return ge.resolve(null)}getFieldIndex(e,t){return ge.resolve(null)}getFieldIndexes(e,t){return ge.resolve([])}getNextCollectionGroupToUpdate(e){return ge.resolve(null)}updateCollectionGroup(e,t,r){return ge.resolve()}updateIndexEntries(e,t){return ge.resolve()}}class lm{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Cn(zt.comparator),u=!o.has(r);return this.index[t]=o.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Cn(zt.comparator)).toArray()}}const cm=new Uint8Array(0);class Hv{constructor(e){this.user=e,this.Ge=new lm,this.Ke=new hc(t=>Ka(t),(t,r)=>qd(t,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ge.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.Ge.add(t)});const u={collectionId:r,parent:Ar(o)};return ob(e).put(u)}return ge.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[Ln(t),""],!1,!0);return ob(e).qt(o).next(u=>{for(const h of u){if(h.collectionId!==t)break;r.push(no(h.parent))}return r})}addFieldIndex(e,t){const r=$v(e),o={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var u;return delete o.indexId,r.add(o).next()}deleteFieldIndex(e,t){const r=$v(e),o=Gv(e),u=dm(e);return r.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=dm(e);let o=!0;const u=new Map;return ge.forEach(this.Qe(t),h=>this.getFieldIndex(e,h).next(m=>{o&&(o=!!m),u.set(h,m)})).next(()=>{if(o){let h=sn();return ge.forEach(u,(m,E)=>{var D;Pe("IndexedDbIndexManager",`Using index ${D=m,`id=${D.indexId}|cg=${D.collectionGroup}|f=${D.fields.map(st=>`${st.fieldPath}:${st.kind}`).join(",")}`} to execute ${Ka(t)}`);const M=function(st,hn){const Ct=nv(hn);if(void 0===Ct)return null;for(const $t of Wg(st,Ct.fieldPath))switch($t.op){case"array-contains-any":return $t.value.arrayValue.values||[];case"array-contains":return[$t.value]}return null}(E,m),O=function(st,hn){const Ct=new Map;for(const $t of Gd(hn))for(const Gt of Wg(st,$t.fieldPath))switch(Gt.op){case"==":case"in":Ct.set($t.fieldPath.canonicalString(),Gt.value);break;case"not-in":case"!=":return Ct.set($t.fieldPath.canonicalString(),Gt.value),Array.from(Ct.values())}return null}(E,m),H=function(st,hn){const Ct=[];let $t=!0;for(const ol of Gd(hn)){let No,Cp=!0;for(const Xr of Wg(st,ol.fieldPath)){let rr,Vm=!0;switch(Xr.op){case"<":case"<=":rr="nullValue"in(Gt=Xr.value)?tv:"booleanValue"in Gt?{booleanValue:!1}:"integerValue"in Gt||"doubleValue"in Gt?{doubleValue:NaN}:"timestampValue"in Gt?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in Gt?{stringValue:""}:"bytesValue"in Gt?{bytesValue:""}:"referenceValue"in Gt?xf(vs.empty(),je.empty()):"geoPointValue"in Gt?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in Gt?{arrayValue:{}}:"mapValue"in Gt?{mapValue:{}}:Xe();break;case"==":case"in":case">=":rr=Xr.value;break;case">":rr=Xr.value,Vm=!1;break;case"!=":case"not-in":rr=tv}fE(No,rr)===rr&&(No=rr,Cp=Vm)}if(null!==st.startAt)for(let Xr=0;Xr<st.orderBy.length;++Xr)if(st.orderBy[Xr].field.isEqual(ol.fieldPath)){const rr=st.startAt.position[Xr];fE(No,rr)===rr&&(No=rr,Cp=st.startAt.inclusive);break}if(void 0===No)return null;Ct.push(No),$t&&($t=Cp)}var Gt;return new Zu(Ct,$t)}(E,m),G=function(st,hn){const Ct=[];let $t=!0;for(const ol of Gd(hn)){let No,Cp=!0;for(const Xr of Wg(st,ol.fieldPath)){let rr,Vm=!0;switch(Xr.op){case">=":case">":rr="nullValue"in(Gt=Xr.value)?{booleanValue:!1}:"booleanValue"in Gt?{doubleValue:NaN}:"integerValue"in Gt||"doubleValue"in Gt?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in Gt?{stringValue:""}:"stringValue"in Gt?{bytesValue:""}:"bytesValue"in Gt?xf(vs.empty(),je.empty()):"referenceValue"in Gt?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in Gt?{arrayValue:{}}:"arrayValue"in Gt?{mapValue:{}}:"mapValue"in Gt?ev:Xe(),Vm=!1;break;case"==":case"in":case"<=":rr=Xr.value;break;case"<":rr=Xr.value,Vm=!1;break;case"!=":case"not-in":rr=ev}pE(No,rr)===rr&&(No=rr,Cp=Vm)}if(null!==st.endAt)for(let Xr=0;Xr<st.orderBy.length;++Xr)if(st.orderBy[Xr].field.isEqual(ol.fieldPath)){const rr=st.endAt.position[Xr];pE(No,rr)===rr&&(No=rr,Cp=st.endAt.inclusive);break}if(void 0===No)return null;Ct.push(No),$t&&($t=Cp)}var Gt;return new Zu(Ct,$t)}(E,m),se=this.je(m,E,H),Fe=this.je(m,E,G),et=this.We(m,E,O),vt=this.ze(m.indexId,M,se,!!H&&H.inclusive,Fe,!!G&&G.inclusive,et);return ge.forEach(vt,st=>r.Kt(st,t.limit).next(hn=>{hn.forEach(Ct=>{h=h.add(new je(no(Ct.documentKey)))})}))}).next(()=>h)}return ge.resolve(null)})}Qe(e){let t=this.Ke.get(e);return t||(t=[e],this.Ke.set(e,t),t)}ze(e,t,r,o,u,h,m){const E=(null!=t?t.length:1)*Math.max(null!=r?r.length:1,null!=u?u.length:1),D=E/(null!=t?t.length:1),M=[];for(let O=0;O<E;++O){const H=t?this.He(t[O/D]):cm,G=r?this.Je(e,H,r[O%D],o):this.Ye(e),se=u?this.Xe(e,H,u[O%D],h):this.Ye(e+1);M.push(...this.createRange(G,se,m.map(Fe=>this.Je(e,H,Fe,!0))))}return M}Je(e,t,r,o){const u=new da(e,je.empty(),t,r);return o?u:u.ke()}Xe(e,t,r,o){const u=new da(e,je.empty(),t,r);return o?u.ke():u}Ye(e){return new da(e,je.empty(),cm,cm)}getFieldIndex(e,t){const r=new sb(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(u=>{const h=u.filter(m=>r.$e(m));return h.sort((m,E)=>E.fields.length-m.fields.length),h.length>0?h[0]:null})}Ze(e,t){const r=new Bv;for(const o of Gd(e)){const u=t.data.field(o.fieldPath);if(null==u)return null;const h=r.Ne(o.kind);Ja.fe.Zt(u,h)}return r.Se()}He(e){const t=new Bv;return Ja.fe.Zt(e,t.Ne(0)),t.Se()}We(e,t,r){if(null===r)return[];let o=[];o.push(new Bv);let u=0;for(const h of Gd(e)){const m=r[u++];for(const E of o)if(this.tn(t,h.fieldPath)&&jd(m))o=this.en(o,h,m);else{const D=E.Ne(h.kind);Ja.fe.Zt(m,D)}}return this.nn(o)}je(e,t,r){return null==r?null:this.We(e,t,r.position)}nn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}en(e,t,r){const o=[...e],u=[];for(const h of r.arrayValue.values||[])for(const m of o){const E=new Bv;E.seed(m.Se()),Ja.fe.Zt(h,E.Ne(t.kind)),u.push(E)}return u}tn(e,t){return!!e.filters.find(r=>r instanceof Qr&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=$v(e),o=Gv(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(u=>{const h=[];return ge.forEach(u,m=>o.get([m.indexId,this.uid]).next(E=>{h.push(function(D,M){const O=M?new Rf(M.sequenceNumber,new ua(mc(M.readTime),new je(no(M.documentKey)),M.largestBatchId)):Rf.empty(),H=D.fields.map(([G,se])=>new Wa(Vr.fromServerFormat(G),se));return new Of(D.indexId,D.collectionGroup,H,O)}(m,E))})).next(()=>h)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,o)=>{const u=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==u?u:Ft(r.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const o=$v(e),u=Gv(e);return this.sn(e).next(h=>o.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>ge.forEach(m,E=>{return u.put({indexId:E.indexId,uid:this.user.uid||"",sequenceNumber:h,readTime:Qu((H=r).readTime),documentKey:Ar(H.documentKey.path),largestBatchId:H.largestBatchId});var H})))}updateIndexEntries(e,t){const r=new Map;return ge.forEach(t,(o,u)=>{const h=r.get(o.collectionGroup);return(h?ge.resolve(h):this.getFieldIndexes(e,o.collectionGroup)).next(m=>(r.set(o.collectionGroup,m),ge.forEach(m,E=>this.rn(e,o,E).next(D=>{const M=this.on(u,E);return D.isEqual(M)?ge.resolve():this.un(e,u,D,M)}))))})}an(e,t,r){return dm(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,documentKey:Ar(t.key.path)})}cn(e,t,r){return dm(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,Ar(t.key.path)])}rn(e,t,r){const o=dm(e);let u=new Cn(Xu);return o.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,Ar(t.path)])},(h,m)=>{u=u.add(new da(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>u)}on(e,t){let r=new Cn(Xu);const o=this.Ze(t,e);if(null==o)return r;const u=nv(t);if(null!=u){const h=e.data.field(u.fieldPath);if(jd(h))for(const m of h.arrayValue.values||[])r=r.add(new da(t.indexId,e.key,this.He(m),o))}else r=r.add(new da(t.indexId,e.key,cm,o));return r}un(e,t,r,o){Pe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(h,m,E,D,M){const O=h.getIterator(),H=m.getIterator();let G=Xd(O),se=Xd(H);for(;G||se;){let Fe=!1,et=!1;if(G&&se){const vt=E(G,se);vt<0?et=!0:vt>0&&(Fe=!0)}else null!=G?et=!0:Fe=!0;Fe?(D(se),se=Xd(H)):et?(M(G),G=Xd(O)):(G=Xd(O),se=Xd(H))}}(r,o,Xu,h=>{u.push(this.an(e,t,h))},h=>{u.push(this.cn(e,t,h))}),ge.waitFor(u)}sn(e){let t=1;return Gv(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,u)=>{u.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((h,m)=>Xu(h,m)).filter((h,m,E)=>!m||0!==Xu(h,E[m-1]));const o=[];o.push(e);for(const h of r){const m=Xu(h,e),E=Xu(h,t);if(0===m)o[0]=e.ke();else if(m>0&&E<0)o.push(h),o.push(h.ke());else if(E>0)break}o.push(t);const u=[];for(let h=0;h<o.length;h+=2)u.push(IDBKeyRange.bound([o[h].indexId,this.uid,o[h].arrayValue,o[h].directionalValue,""],[o[h+1].indexId,this.uid,o[h+1].arrayValue,o[h+1].directionalValue,""]));return u}}function ob(n){return Sr(n,"collectionParents")}function dm(n){return Sr(n,"indexEntries")}function $v(n){return Sr(n,"indexConfiguration")}function Gv(n){return Sr(n,"indexState")}const ab={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Zi{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Zi(e,Zi.DEFAULT_COLLECTION_PERCENTILE,Zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function ub(n,e,t){const r=n.store("mutations"),o=n.store("documentMutations"),u=[],h=IDBKeyRange.only(t.batchId);let m=0;const E=r.Wt({range:h},(M,O,H)=>(m++,H.delete()));u.push(E.next(()=>{bt(1===m)}));const D=[];for(const M of t.mutations){const O=Av(e,M.key.path,t.batchId);u.push(o.delete(O)),D.push(M.key)}return ge.waitFor(u).next(()=>D)}function qv(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Xe();e=n.noDocument}return JSON.stringify(e).length}Zi.DEFAULT_COLLECTION_PERCENTILE=10,Zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zi.DEFAULT=new Zi(41943040,Zi.DEFAULT_COLLECTION_PERCENTILE,Zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zi.DISABLED=new Zi(-1,0,0);class zv{constructor(e,t,r,o){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=o,this.hn={}}static Yt(e,t,r,o){bt(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new zv(u,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return el(e).Wt({index:"userMutationsIndex",range:r},(o,u,h)=>{t=!1,h.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const u=yi(e),h=el(e);return h.add({}).next(m=>{bt("number"==typeof m);const E=new om(m,t,r,o),D=function(H,G,se){const Fe=se.baseMutations.map(vt=>zf(H.Jt,vt)),et=se.mutations.map(vt=>zf(H.Jt,vt));return{userId:G,batchId:se.batchId,localWriteTimeMs:se.localWriteTime.toMillis(),baseMutations:Fe,mutations:et}}(this.M,this.userId,E),M=[];let O=new Cn((H,G)=>Ft(H.canonicalString(),G.canonicalString()));for(const H of o){const G=Av(this.userId,H.key.path,m);O=O.add(H.key.path.popLast()),M.push(h.put(D)),M.push(u.put(G,Ri))}return O.forEach(H=>{M.push(this.indexManager.addToCollectionParentIndex(e,H))}),e.addOnCommittedListener(()=>{this.hn[m]=E.keys()}),ge.waitFor(M).next(()=>E)})}lookupMutationBatch(e,t){return el(e).get(t).next(r=>r?(bt(r.userId===this.userId),oh(this.M,r)):null)}ln(e,t){return this.hn[t]?ge.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.hn[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return el(e).Wt({index:"userMutationsIndex",range:o},(h,m,E)=>{m.userId===this.userId&&(bt(m.batchId>=r),u=oh(this.M,m)),E.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return el(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(o,u,h)=>{r=u.batchId,h.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return el(e).qt("userMutationsIndex",t).next(r=>r.map(o=>oh(this.M,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Zf(this.userId,t.path),o=IDBKeyRange.lowerBound(r),u=[];return yi(e).Wt({range:o},(h,m,E)=>{const[D,M,O]=h,H=no(M);if(D===this.userId&&t.path.isEqual(H))return el(e).get(O).next(G=>{if(!G)throw Xe();bt(G.userId===this.userId),u.push(oh(this.M,G))});E.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Cn(Ft);const o=[];return t.forEach(u=>{const h=Zf(this.userId,u.path),m=IDBKeyRange.lowerBound(h),E=yi(e).Wt({range:m},(D,M,O)=>{const[H,G,se]=D,Fe=no(G);H===this.userId&&u.path.isEqual(Fe)?r=r.add(se):O.done()});o.push(E)}),ge.waitFor(o).next(()=>this.fn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,u=Zf(this.userId,r),h=IDBKeyRange.lowerBound(u);let m=new Cn(Ft);return yi(e).Wt({range:h},(E,D,M)=>{const[O,H,G]=E,se=no(H);O===this.userId&&r.isPrefixOf(se)?se.length===o&&(m=m.add(G)):M.done()}).next(()=>this.fn(e,m))}fn(e,t){const r=[],o=[];return t.forEach(u=>{o.push(el(e).get(u).next(h=>{if(null===h)throw Xe();bt(h.userId===this.userId),r.push(oh(this.M,h))}))}),ge.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return ub(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.dn(t.batchId)}),ge.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}dn(e){delete this.hn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ge.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return yi(e).Wt({range:r},(u,h,m)=>{if(u[0]===this.userId){const E=no(u[1]);o.push(E)}else m.done()}).next(()=>{bt(0===o.length)})})}containsKey(e,t){return hm(e,this.userId,t)}_n(e){return lb(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function hm(n,e,t){const r=Zf(e,t.path),o=r[1],u=IDBKeyRange.lowerBound(r);let h=!1;return yi(n).Wt({range:u,jt:!0},(m,E,D)=>{const[M,O,H]=m;M===e&&O===o&&(h=!0),D.done()}).next(()=>h)}function el(n){return Sr(n,"mutations")}function yi(n){return Sr(n,"documentMutations")}function lb(n){return Sr(n,"mutationQueues")}class Qa{constructor(e){this.wn=e}next(){return this.wn+=2,this.wn}static mn(){return new Qa(0)}static gn(){return new Qa(-1)}}class tD{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.yn(e).next(t=>{const r=new Qa(t.highestTargetId);return t.highestTargetId=r.next(),this.pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.yn(e).next(t=>yt.fromTimestamp(new fr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.yn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.yn(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.pn(e,o)))}addTargetData(e,t){return this.In(e,t).next(()=>this.yn(e).next(r=>(r.targetCount+=1,this.Tn(t,r),this.pn(e,r))))}updateTargetData(e,t){return this.In(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>ah(e).delete(t.targetId)).next(()=>this.yn(e)).next(r=>(bt(r.targetCount>0),r.targetCount-=1,this.pn(e,r)))}removeTargets(e,t,r){let o=0;const u=[];return ah(e).Wt((h,m)=>{const E=am(m);E.sequenceNumber<=t&&null===r.get(E.targetId)&&(o++,u.push(this.removeTargetData(e,E)))}).next(()=>ge.waitFor(u)).next(()=>o)}forEachTarget(e,t){return ah(e).Wt((r,o)=>{const u=am(o);t(u)})}yn(e){return fm(e).get("targetGlobalKey").next(t=>(bt(null!==t),t))}pn(e,t){return fm(e).put("targetGlobalKey",t)}In(e,t){return ah(e).put(Lv(this.M,t))}Tn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.yn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Ka(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return ah(e).Wt({range:o,index:"queryTargetsIndex"},(h,m,E)=>{const D=am(m);qd(t,D.target)&&(u=D,E.done())}).next(()=>u)}addMatchingKeys(e,t,r){const o=[],u=Xa(e);return t.forEach(h=>{const m=Ar(h.path);o.push(u.put({targetId:r,path:m})),o.push(this.referenceDelegate.addReference(e,r,h))}),ge.waitFor(o)}removeMatchingKeys(e,t,r){const o=Xa(e);return ge.forEach(t,u=>{const h=Ar(u.path);return ge.waitFor([o.delete([r,h]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=Xa(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=Xa(e);let u=sn();return o.Wt({range:r,jt:!0},(h,m,E)=>{const D=no(h[1]),M=new je(D);u=u.add(M)}).next(()=>u)}containsKey(e,t){const r=Ar(t.path),o=IDBKeyRange.bound([r],[Ln(r)],!1,!0);let u=0;return Xa(e).Wt({index:"documentTargetsIndex",jt:!0,range:o},([h,m],E,D)=>{0!==h&&(u++,D.done())}).next(()=>u>0)}Et(e,t){return ah(e).get(t).next(r=>r?am(r):null)}}function ah(n){return Sr(n,"targets")}function fm(n){return Sr(n,"targetGlobal")}function Xa(n){return Sr(n,"targetDocuments")}function tl(n){return Zv.apply(this,arguments)}function Zv(){return Zv=(0,ye.Z)(function*(n){if(n.code!==fe.FAILED_PRECONDITION||n.message!==YE)throw n;Pe("LocalStore","Unexpectedly lost primary lease")}),Zv.apply(this,arguments)}function Wv([n,e],[t,r]){const o=Ft(n,t);return 0===o?Ft(e,r):o}class cb{constructor(e){this.En=e,this.buffer=new Cn(Wv),this.An=0}Rn(){return++this.An}bn(e){const t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Wv(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class nD{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Pn=!1,this.Vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}stop(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}get started(){return null!==this.Vn}vn(e){var t=this;const r=this.Pn?3e5:6e4;Pe("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,ye.Z)(function*(){t.Vn=null,t.Pn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(o){sh(o)?Pe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield tl(o)}yield t.vn(e)}))}}class rD{constructor(e,t){this.Sn=e,this.params=t}calculateTargetCount(e,t){return this.Sn.Dn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ge.resolve(_s.A);const r=new cb(t);return this.Sn.forEachTarget(e,o=>r.bn(o.sequenceNumber)).next(()=>this.Sn.Cn(e,o=>r.bn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Sn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Sn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),ge.resolve(ab)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ab):this.xn(e,t))}getCacheSize(e){return this.Sn.getCacheSize(e)}xn(e,t){let r,o,u,h,m,E,D;const M=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(O=>(O>this.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),o=this.params.maximumSequenceNumbersToCollect):o=O,h=Date.now(),this.nthSequenceNumber(e,o))).next(O=>(r=O,m=Date.now(),this.removeTargets(e,r,t))).next(O=>(u=O,E=Date.now(),this.removeOrphanedDocuments(e,r))).next(O=>(D=Date.now(),$g()<=na.in.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-M}ms\n\tDetermined least recently used ${o} in `+(m-h)+`ms\n\tRemoved ${u} targets in `+(E-m)+`ms\n\tRemoved ${O} documents in `+(D-E)+`ms\nTotal Duration: ${D-M}ms`),ge.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:O})))}}class Kv{constructor(e,t){this.db=e,this.garbageCollector=new rD(this,t)}Dn(e){const t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}Nn(e){let t=0;return this.Cn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Cn(e,t){return this.kn(e,(r,o)=>t(o))}addReference(e,t,r){return Wi(e,r)}removeReference(e,t,r){return Wi(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Wi(e,t)}Mn(e,t){return function(r,o){let u=!1;return lb(r).zt(h=>hm(r,h,o).next(m=>(m&&(u=!0),ge.resolve(!m)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let u=0;return this.kn(e,(h,m)=>{if(m<=t){const E=this.Mn(e,h).next(D=>{if(!D)return u++,r.getEntry(e,h).next(()=>(r.removeEntry(h,yt.min()),Xa(e).delete([0,Ar(h.path)])))});o.push(E)}}).next(()=>ge.waitFor(o)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Wi(e,t)}kn(e,t){const r=Xa(e);let o,u=_s.A;return r.Wt({index:"documentTargetsIndex"},([h,m],{path:E,sequenceNumber:D})=>{0===h?(u!==_s.A&&t(new je(no(o)),u),u=D,o=E):u=_s.A}).next(()=>{u!==_s.A&&t(new je(no(o)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Wi(n,e){return Xa(n).put((r=n.currentSequenceNumber,{targetId:0,path:Ar(e.path),sequenceNumber:r}));var r}class db{constructor(){this.changes=new hc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,bn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ge.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class OA{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return yc(e).put(r)}removeEntry(e,t,r){return yc(e).delete(function(o,u){const h=o.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],Jf(u),h[h.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.On(e,r)))}getEntry(e,t){let r=bn.newInvalidDocument(t);return yc(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Qf(t))},(o,u)=>{r=this.Fn(t,u)}).next(()=>r)}$n(e,t){let r={size:0,document:bn.newInvalidDocument(t)};return yc(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Qf(t))},(o,u)=>{r={document:this.Fn(t,u),size:qv(u)}}).next(()=>r)}getEntries(e,t){let r=to();return this.Bn(e,t,(o,u)=>{const h=this.Fn(o,u);r=r.insert(o,h)}).next(()=>r)}Ln(e,t){let r=to(),o=new Zn(je.comparator);return this.Bn(e,t,(u,h)=>{const m=this.Fn(u,h);r=r.insert(u,m),o=o.insert(u,qv(h))}).next(()=>({documents:r,Un:o}))}Bn(e,t,r){if(t.isEmpty())return ge.resolve();let o=new Cn(hb);t.forEach(E=>o=o.add(E));const u=IDBKeyRange.bound(Qf(o.first()),Qf(o.last())),h=o.getIterator();let m=h.getNext();return yc(e).Wt({index:"documentKeyIndex",range:u},(E,D,M)=>{const O=je.fromSegments([...D.prefixPath,D.collectionGroup,D.documentId]);for(;m&&hb(m,O)<0;)r(m,null),m=h.getNext();m&&m.isEqual(O)&&(r(m,D),m=h.hasNext()?h.getNext():null),m?M.Ut(Qf(m)):M.done()}).next(()=>{for(;m;)r(m,null),m=h.hasNext()?h.getNext():null})}getAllFromCollection(e,t,r){const o=[t.popLast().toArray(),t.lastSegment(),Jf(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return yc(e).qt(IDBKeyRange.bound(o,u,!0)).next(h=>{let m=to();for(const E of h){const D=this.Fn(je.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);m=m.insert(D.key,D)}return m})}getAllFromCollectionGroup(e,t,r,o){let u=to();const h=Jv(t,r),m=Jv(t,ua.max());return yc(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(h,m,!0)},(E,D,M)=>{const O=this.Fn(je.fromSegments(D.prefixPath.concat(D.collectionGroup,D.documentId)),D);u=u.insert(O.key,O),u.size===o&&M.done()}).next(()=>u)}newChangeBuffer(e){return new iD(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Yv(e).get("remoteDocumentGlobalKey").next(t=>(bt(!!t),t))}On(e,t){return Yv(e).put("remoteDocumentGlobalKey",t)}Fn(e,t){if(t){const r=function XE(n,e){let t;if(e.document)t=nm(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=je.fromSegments(e.noDocument.path),o=mc(e.noDocument.readTime);t=bn.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Xe();{const r=je.fromSegments(e.unknownDocument.path),o=mc(e.unknownDocument.version);t=bn.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime(function(r){const o=new fr(r[0],r[1]);return yt.fromTimestamp(o)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(yt.min()))return r}return bn.newInvalidDocument(e)}}class iD extends db{constructor(e,t){super(),this.qn=e,this.trackRemovals=t,this.Gn=new hc(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new Cn((u,h)=>Ft(u.canonicalString(),h.canonicalString()));return this.changes.forEach((u,h)=>{const m=this.Gn.get(u);if(t.push(this.qn.removeEntry(e,u,m.readTime)),h.isValidDocument()){const E=Fv(this.qn.M,h);o=o.add(u.path.popLast()),r+=qv(E)-m.size,t.push(this.qn.addEntry(e,u,E))}else if(r-=m.size,this.trackRemovals){const E=Fv(this.qn.M,h.convertToNoDocument(yt.min()));t.push(this.qn.addEntry(e,u,E))}}),o.forEach(u=>{t.push(this.qn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.qn.updateMetadata(e,r)),ge.waitFor(t)}getFromCache(e,t){return this.qn.$n(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.qn.Ln(e,t).next(({documents:r,Un:o})=>(o.forEach((u,h)=>{this.Gn.set(u,{size:h,readTime:r.get(u).readTime})}),r))}}function Yv(n){return Sr(n,"remoteDocumentGlobal")}function yc(n){return Sr(n,"remoteDocumentsV14")}function Qf(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Jv(n,e){const t=e.documentKey.path.toArray();return[n,Jf(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function hb(n,e){const t=n.path.length-e.path.length;return 0!==t?t:je.comparator(n,e)}class RA{constructor(e){this.M=e}kt(e,t,r,o){const u=new Yf("createOrUpgrade",t);var m;r<1&&o>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",qE,{unique:!0}),m.createObjectStore("documentMutations"),Qv(e),function(m){m.createObjectStore("remoteDocuments")}(e));let h=ge.resolve();return r<3&&o>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),Qv(e)),h=h.next(()=>function(m){const E=m.store("targetGlobal"),D={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:yt.min().toTimestamp(),targetCount:0};return E.put("targetGlobalKey",D)}(u))),r<4&&o>=4&&(0!==r&&(h=h.next(()=>function(m,E){return E.store("mutations").qt().next(D=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",qE,{unique:!0});const M=E.store("mutations"),O=D.map(H=>M.put(H));return ge.waitFor(O)})}(e,u))),h=h.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&o>=5&&(h=h.next(()=>this.Kn(u))),r<6&&o>=6&&(h=h.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Qn(u)))),r<7&&o>=7&&(h=h.next(()=>this.jn(u))),r<8&&o>=8&&(h=h.next(()=>this.Wn(e,u))),r<9&&o>=9&&(h=h.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&o>=10&&(h=h.next(()=>this.zn(u))),r<11&&o>=11&&(h=h.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(h=h.next(()=>{!function(m){const E=m.createObjectStore("documentOverlays",{keyPath:xv});E.createIndex("collectionPathOverlayIndex",ZE,{unique:!1}),E.createIndex("collectionGroupOverlayIndex",WE,{unique:!1})}(e)})),r<13&&o>=13&&(h=h.next(()=>function(m){const E=m.createObjectStore("remoteDocumentsV14",{keyPath:ih});E.createIndex("documentKeyIndex",GI),E.createIndex("collectionGroupIndex",qI)}(e)).next(()=>this.Hn(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(h=h.next(()=>{!function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:ZI}).createIndex("sequenceNumberIndex",zE,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:WI}).createIndex("documentKeyIndex",KI,{unique:!1})}(e)})),h}Qn(e){let t=0;return e.store("remoteDocuments").Wt((r,o)=>{t+=qv(o)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Kn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(o=>ge.forEach(o,u=>{const h=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",h).next(m=>ge.forEach(m,E=>{bt(E.userId===u.userId);const D=oh(this.M,E);return ub(e,u.userId,D).next(()=>{})}))}))}jn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const u=[];return r.Wt((h,m)=>{const E=new zt(h),D=[0,Ar(E)];u.push(t.get(D).next(M=>M?ge.resolve():t.put({targetId:0,path:Ar(E),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>ge.waitFor(u))})}Wn(e,t){e.createObjectStore("collectionParents",{keyPath:Sv});const r=t.store("collectionParents"),o=new lm,u=h=>{if(o.add(h)){const m=h.lastSegment(),E=h.popLast();return r.put({collectionId:m,parent:Ar(E)})}};return t.store("remoteDocuments").Wt({jt:!0},(h,m)=>{const E=new zt(h);return u(E.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([h,m,E],D)=>{const M=no(m);return u(M.popLast())}))}zn(e){const t=e.store("targets");return t.Wt((r,o)=>{const u=am(o),h=Lv(this.M,u);return t.put(h)})}Hn(e,t){const r=t.store("remoteDocuments"),o=[];return r.Wt((u,h)=>{const m=t.store("remoteDocumentsV14"),E=(D=h,D.document?new je(zt.fromString(D.document.name).popFirst(5)):D.noDocument?je.fromSegments(D.noDocument.path):D.unknownDocument?je.fromSegments(D.unknownDocument.path):Xe()).path.toArray();var D;const M={prefixPath:E.slice(0,E.length-2),collectionGroup:E[E.length-2],documentId:E[E.length-1],readTime:h.readTime||[0,0],unknownDocument:h.unknownDocument,noDocument:h.noDocument,document:h.document,hasCommittedMutations:!!h.hasCommittedMutations};o.push(m.put(M))}).next(()=>ge.waitFor(o))}}function Qv(n){n.createObjectStore("targetDocuments",{keyPath:Wf}).createIndex("documentTargetsIndex",zI,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",AA,{unique:!0}),n.createObjectStore("targetGlobal")}const pm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Xv{constructor(e,t,r,o,u,h,m,E,D,M,O=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Jn=u,this.window=h,this.document=m,this.Yn=D,this.Xn=M,this.Zn=O,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=H=>Promise.resolve(),!Xv.vt())throw new xe(fe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Kv(this,o),this.cs=t+"main",this.M=new QE(E),this.hs=new Ro(this.cs,this.Zn,new RA(this.M)),this.ls=new tD(this.referenceDelegate,this.M),this.fs=new OA(this.M),this.ds=new SA,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===M&&tr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ws().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new xe(fe.FAILED_PRECONDITION,pm);return this.gs(),this.ys(),this.ps(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ls.getHighestSequenceNumber(e))}).then(e=>{this.ts=new _s(e,this.Yn)}).then(()=>{this.es=!0}).catch(e=>(this.hs&&this.hs.close(),Promise.reject(e)))}Is(e){var t=this;return this.us=function(){var r=(0,ye.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.hs.Ot(function(){var t=(0,ye.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Jn.enqueueAndForget((0,ye.Z)(function*(){t.started&&(yield t.ws())})))}ws(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>ep(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ts(e).next(t=>{t||(this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)))})}).next(()=>this.Es(e)).next(t=>this.isPrimary&&!t?this.As(e).next(()=>!1):!!t&&this.Rs(e).next(()=>!0))).catch(e=>{if(sh(e))return Pe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Pe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Jn.enqueueRetryable(()=>this.us(e)),this.isPrimary=e})}Ts(e){return Xf(e).get("owner").next(t=>ge.resolve(this.bs(t)))}Ps(e){return ep(e).delete(this.clientId)}Vs(){var e=this;return(0,ye.Z)(function*(){if(e.isPrimary&&!e.vs(e.os,18e5)){e.os=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=Sr(r,"clientMetadata");return o.qt().next(u=>{const h=e.Ss(u,18e5),m=u.filter(E=>-1===h.indexOf(E));return ge.forEach(m,E=>o.delete(E.clientId)).next(()=>m)})}).catch(()=>[]);if(e._s)for(const r of t)e._s.removeItem(e.Ds(r.clientId))}})()}ps(){this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ws().then(()=>this.Vs()).then(()=>this.ps()))}bs(e){return!!e&&e.ownerId===this.clientId}Es(e){return this.Xn?ge.resolve(!0):Xf(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new xe(fe.FAILED_PRECONDITION,pm);return!1}}return!(!this.networkEnabled||!this.inForeground)||ep(e).qt().next(r=>void 0===this.Ss(r,5e3).find(o=>{if(this.clientId!==o.clientId){const h=!this.inForeground&&o.inForeground,m=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||h&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Pe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ye.Z)(function*(){e.es=!1,e.xs(),e.rs&&(e.rs.cancel(),e.rs=null),e.Ns(),e.ks(),yield e.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new JE(t,_s.A);return e.As(r).next(()=>e.Ps(r))}),e.hs.close(),e.Ms()})()}Ss(e,t){return e.filter(r=>this.vs(r.updateTimeMs,t)&&!this.Cs(r.clientId))}Os(){return this.runTransaction("getActiveClients","readonly",e=>ep(e).qt().next(t=>this.Ss(t,18e5).map(r=>r.clientId)))}get started(){return this.es}getMutationQueue(e,t){return zv.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getIndexManager(e){return new Hv(e)}getDocumentOverlayCache(e){return nb.Yt(this.M,e)}getBundleCache(){return this.ds}runTransaction(e,t,r){Pe("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",u=14===(h=this.Zn)?KE:13===h?YI:12===h?Mv:11===h?Kf:void Xe();var h;let m;return this.hs.runTransaction(e,o,u,E=>(m=new JE(E,this.ts?this.ts.next():_s.A),"readwrite-primary"===t?this.Ts(m).next(D=>!!D||this.Es(m)).next(D=>{if(!D)throw tr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)),new xe(fe.FAILED_PRECONDITION,YE);return r(m)}).next(D=>this.Rs(m).next(()=>D)):this.Fs(m).next(()=>r(m)))).then(E=>(m.raiseOnCommittedEvent(),E))}Fs(e){return Xf(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)&&!this.bs(t)&&!(this.Xn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new xe(fe.FAILED_PRECONDITION,pm)})}Rs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Xf(e).put("owner",t)}static vt(){return Ro.vt()}As(e){const t=Xf(e);return t.get("owner").next(r=>this.bs(r)?(Pe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ge.resolve())}vs(e,t){const r=Date.now();return!(e<r-t||e>r&&(tr(`Detected an update time that is in the future: ${e} > ${r}`),1))}gs(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=()=>{this.Jn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ws()))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}Ns(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}ys(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ns=()=>{this.xs(),(0,It.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Jn.enterRestrictedMode(!0),this.Jn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ns))}ks(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}Cs(e){var t;try{const r=null!==(null===(t=this._s)||void 0===t?void 0:t.getItem(this.Ds(e)));return Pe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return tr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xs(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(e){tr("Failed to set zombie client id.",e)}}Ms(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(e){}}Ds(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Xf(n){return Sr(n,"owner")}function ep(n){return Sr(n,"clientMetadata")}function tp(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class e0{constructor(e,t,r){this.fs=e,this.$s=t,this.indexManager=r}Bs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Ls(e,t,r))}Ls(e,t,r){return this.fs.getEntry(e,t).next(o=>{for(const u of r)u.applyToLocalView(o);return o})}Us(e,t){e.forEach((r,o)=>{for(const u of t)u.applyToLocalView(o)})}qs(e,t){return this.fs.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.Us(t,r))}Ks(e,t,r){return je.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.Qs(e,t.path):kf(t)?this.js(e,t,r):this.Ws(e,t,r);var o}Qs(e,t){return this.Bs(e,new je(t)).next(r=>{let o=pv();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}js(e,t,r){const o=t.collectionGroup;let u=pv();return this.indexManager.getCollectionParents(e,o).next(h=>ge.forEach(h,m=>{const E=(D=t,M=m.child(o),new la(M,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt));var D,M;return this.Ws(e,E,r).next(D=>{D.forEach((M,O)=>{u=u.insert(M,O)})})}).next(()=>u))}Ws(e,t,r){let o;return this.fs.getAllFromCollection(e,t.path,r).next(u=>(o=u,this.$s.getAllMutationBatchesAffectingQuery(e,t))).next(u=>{for(const h of u)for(const m of h.mutations){const E=m.key;let D=o.get(E);null==D&&(D=bn.newInvalidDocument(E),o=o.insert(E,D)),em(m,D,h.localWriteTime),D.isFoundDocument()||(o=o.remove(E))}}).next(()=>(o.forEach((u,h)=>{lv(t,h)||(o=o.remove(u))}),o))}}class gm{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.zs=r,this.Hs=o}static Js(e,t){let r=sn(),o=sn();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new gm(e,t.fromCache,r,o)}}class fb{Ys(e){this.Xs=e}Ks(e,t,r,o){return 0===(u=t).filters.length&&null===u.limit&&null==u.startAt&&null==u.endAt&&(0===u.explicitOrderBy.length||1===u.explicitOrderBy.length&&u.explicitOrderBy[0].field.isKeyField())||r.isEqual(yt.min())?this.Zs(e,t):this.Xs.qs(e,o).next(u=>{const h=this.ti(t,u);return(Pf(t)||Kg(t))&&this.ei(t.limitType,h,o,r)?this.Zs(e,t):($g()<=na.in.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Lf(t)),this.Xs.Ks(e,t,rv(r,-1)).next(m=>(h.forEach(E=>{m=m.insert(E.key,E)}),m)))});var u}ti(e,t){let r=new Cn(EE(e));return t.forEach((o,u)=>{lv(e,u)&&(r=r.add(u))}),r}ei(e,t,r,o){if(r.size!==t.size)return!0;const u="F"===e?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Zs(e,t){return $g()<=na.in.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",Lf(t)),this.Xs.Ks(e,t,ua.min())}}class pb{constructor(e,t,r,o){this.persistence=e,this.ni=t,this.M=o,this.si=new Zn(Ft),this.ii=new hc(u=>Ka(u),qd),this.ri=new Map,this.oi=e.getRemoteDocumentCache(),this.ls=e.getTargetCache(),this.ds=e.getBundleCache(),this.ui(r)}ui(e){this.indexManager=this.persistence.getIndexManager(e),this.$s=this.persistence.getMutationQueue(e,this.indexManager),this.ai=new e0(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.si))}}function t0(n,e,t,r){return new pb(n,e,t,r)}function gb(n,e){return n0.apply(this,arguments)}function n0(){return n0=(0,ye.Z)(function*(n,e){const t=Be(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.$s.getAllMutationBatches(r).next(u=>(o=u,t.ui(e),t.$s.getAllMutationBatches(r))).next(u=>{const h=[],m=[];let E=sn();for(const D of o){h.push(D.batchId);for(const M of D.mutations)E=E.add(M.key)}for(const D of u){m.push(D.batchId);for(const M of D.mutations)E=E.add(M.key)}return t.ai.qs(r,E).next(D=>({ci:D,removedBatchIds:h,addedBatchIds:m}))})})}),n0.apply(this,arguments)}function NA(n,e){const t=Be(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),u=t.oi.newChangeBuffer({trackRemovals:!0});return function(h,m,E,D){const M=E.batch,O=M.keys();let H=ge.resolve();return O.forEach(G=>{H=H.next(()=>D.getEntry(m,G)).next(se=>{const Fe=E.docVersions.get(G);bt(null!==Fe),se.version.compareTo(Fe)<0&&(M.applyToRemoteDocument(se,E),se.isValidDocument()&&(se.setReadTime(E.commitVersion),D.addEntry(se)))})}),H.next(()=>h.$s.removeMutationBatch(m,M))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.$s.performConsistencyCheck(r)).next(()=>t.ai.qs(r,o))})}function sD(n){const e=Be(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ls.getLastRemoteSnapshotVersion(t))}function mb(n,e){const t=Be(n),r=e.snapshotVersion;let o=t.si;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.oi.newChangeBuffer({trackRemovals:!0});o=t.si;const m=[];e.targetChanges.forEach((D,M)=>{const O=o.get(M);if(!O)return;m.push(t.ls.removeMatchingKeys(u,D.removedDocuments,M).next(()=>t.ls.addMatchingKeys(u,D.addedDocuments,M)));let H=O.withSequenceNumber(u.currentSequenceNumber);var G,se,Fe;e.targetMismatches.has(M)?H=H.withResumeToken(Vn.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):D.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(D.resumeToken,r)),o=o.insert(M,H),se=H,Fe=D,(0===(G=O).resumeToken.approximateByteSize()||se.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=3e8||Fe.addedDocuments.size+Fe.modifiedDocuments.size+Fe.removedDocuments.size>0)&&m.push(t.ls.updateTargetData(u,H))});let E=to();if(e.documentUpdates.forEach(D=>{e.resolvedLimboDocuments.has(D)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,D))}),m.push(yb(u,h,e.documentUpdates).next(D=>{E=D})),!r.isEqual(yt.min())){const D=t.ls.getLastRemoteSnapshotVersion(u).next(M=>t.ls.setTargetsMetadata(u,u.currentSequenceNumber,r));m.push(D)}return ge.waitFor(m).next(()=>h.apply(u)).next(()=>t.ai.Gs(u,E)).next(()=>E)}).then(u=>(t.si=o,u))}function yb(n,e,t){let r=sn();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let u=to();return t.forEach((h,m)=>{const E=o.get(h);m.isNoDocument()&&m.version.isEqual(yt.min())?(e.removeEntry(h,m.readTime),u=u.insert(h,m)):!E.isValidDocument()||m.version.compareTo(E.version)>0||0===m.version.compareTo(E.version)&&E.hasPendingWrites?(e.addEntry(m),u=u.insert(h,m)):Pe("LocalStore","Ignoring outdated watch update for ",h,". Current version:",E.version," Watch version:",m.version)}),u})}function oD(n,e){const t=Be(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.$s.getNextMutationBatchAfterBatchId(r,e)))}function uh(n,e){const t=Be(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.ls.getTargetData(r,e).next(u=>u?(o=u,ge.resolve(o)):t.ls.allocateTargetId(r).next(h=>(o=new Ya(e,h,0,r.currentSequenceNumber),t.ls.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.si.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.si=t.si.insert(r.targetId,r),t.ii.set(e,r.targetId)),r})}function np(n,e,t){return _b.apply(this,arguments)}function _b(){return _b=(0,ye.Z)(function*(n,e,t){const r=Be(n),o=r.si.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,h=>r.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!sh(h))throw h;Pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}r.si=r.si.remove(e),r.ii.delete(o.target)}),_b.apply(this,arguments)}function r0(n,e,t){const r=Be(n);let o=yt.min(),u=sn();return r.persistence.runTransaction("Execute query","readonly",h=>function(m,E,D){const M=Be(m),O=M.ii.get(D);return void 0!==O?ge.resolve(M.si.get(O)):M.ls.getTargetData(E,D)}(r,h,ws(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.ls.getMatchingKeysForTargetId(h,m.targetId).next(E=>{u=E})}).next(()=>r.ni.Ks(h,e,t?o:yt.min(),t?u:sn())).next(m=>(vb(r,cv(e),m),{documents:m,hi:u})))}function aD(n,e){const t=Be(n),r=Be(t.ls),o=t.si.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",u=>r.Et(u,e).next(h=>h?h.target:null))}function uD(n,e){const t=Be(n),r=t.ri.get(e)||yt.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.oi.getAllFromCollectionGroup(o,e,rv(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(vb(t,e,o),o))}function vb(n,e,t){let r=yt.min();t.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.ri.set(e,r)}function s0(){return s0=(0,ye.Z)(function*(n,e,t,r){const o=Be(n);let u=sn(),h=to();for(const D of t){const M=e.li(D.metadata.name);D.document&&(u=u.add(M));const O=e.fi(D);O.setReadTime(e.di(D.metadata.readTime)),h=h.insert(M,O)}const m=o.oi.newChangeBuffer({trackRemovals:!0}),E=yield uh(o,(D=r,ws(Zd(zt.fromString(`__bundle__/docs/${D}`)))));var D;return o.persistence.runTransaction("Apply bundle documents","readwrite",D=>yb(D,m,h).next(M=>(m.apply(D),M)).next(M=>o.ls.removeMatchingKeysForTargetId(D,E.targetId).next(()=>o.ls.addMatchingKeys(D,u,E.targetId)).next(()=>o.ai.Gs(D,M)).next(()=>M)))}),s0.apply(this,arguments)}function lD(n,e){return ym.apply(this,arguments)}function ym(){return ym=(0,ye.Z)(function*(n,e,t=sn()){const r=yield uh(n,ws(eb(e.bundledQuery))),o=Be(n);return o.persistence.runTransaction("Save named query","readwrite",u=>{const h=Wn(e.readTime);if(r.snapshotVersion.compareTo(h)>=0)return o.ds.saveNamedQuery(u,e);const m=r.withResumeToken(Vn.EMPTY_BYTE_STRING,h);return o.si=o.si.insert(m.targetId,m),o.ls.updateTargetData(u,m).next(()=>o.ls.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>o.ls.addMatchingKeys(u,t,r.targetId)).next(()=>o.ds.saveNamedQuery(u,e))})}),ym.apply(this,arguments)}class _c{constructor(e){this.M=e,this._i=new Map,this.wi=new Map}getBundleMetadata(e,t){return ge.resolve(this._i.get(t))}saveBundleMetadata(e,t){var r;return this._i.set(t.id,{id:(r=t).id,version:r.version,createTime:Wn(r.createTime)}),ge.resolve()}getNamedQuery(e,t){return ge.resolve(this.wi.get(t))}saveNamedQuery(e,t){return this.wi.set(t.name,{name:(r=t).name,query:eb(r.bundledQuery),readTime:Wn(r.readTime)}),ge.resolve();var r}}class wb{constructor(){this.overlays=new Zn(je.comparator),this.mi=new Map}getOverlay(e,t){return ge.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((o,u)=>{this.Xt(e,t,u)}),ge.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.mi.get(r);return void 0!==o&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.mi.delete(r)),ge.resolve()}getOverlaysForCollection(e,t,r){const o=Uf(),u=t.length+1,h=new je(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const E=m.getNext().value,D=E.getKey();if(!t.isPrefixOf(D.path))break;D.path.length===u&&E.largestBatchId>r&&o.set(E.getKey(),E)}return ge.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let u=new Zn((D,M)=>D-M);const h=this.overlays.getIterator();for(;h.hasNext();){const D=h.getNext().value;if(D.getKey().getCollectionGroup()===t&&D.largestBatchId>r){let M=u.get(D.largestBatchId);null===M&&(M=Uf(),u=u.insert(D.largestBatchId,M)),M.set(D.getKey(),D)}}const m=Uf(),E=u.getIterator();for(;E.hasNext()&&(E.getNext().value.forEach((D,M)=>m.set(D,M)),!(m.size()>=o)););return ge.resolve(m)}Xt(e,t,r){if(null===r)return;const o=this.overlays.get(r.key);if(null!==o){const h=this.mi.get(o.largestBatchId).delete(r.key);this.mi.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new kv(t,r));let u=this.mi.get(t);void 0===u&&(u=sn(),this.mi.set(t,u)),this.mi.set(t,u.add(r.key))}}class rp{constructor(){this.gi=new Cn(pr.yi),this.pi=new Cn(pr.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(e,t){const r=new pr(e,t);this.gi=this.gi.add(r),this.pi=this.pi.add(r)}Ti(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ei(new pr(e,t))}Ai(e,t){e.forEach(r=>this.removeReference(r,t))}Ri(e){const t=new je(new zt([])),r=new pr(t,e),o=new pr(t,e+1),u=[];return this.pi.forEachInRange([r,o],h=>{this.Ei(h),u.push(h.key)}),u}bi(){this.gi.forEach(e=>this.Ei(e))}Ei(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}Pi(e){const t=new je(new zt([])),r=new pr(t,e),o=new pr(t,e+1);let u=sn();return this.pi.forEachInRange([r,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new pr(e,0),r=this.gi.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class pr{constructor(e,t){this.key=e,this.Vi=t}static yi(e,t){return je.comparator(e.key,t.key)||Ft(e.Vi,t.Vi)}static Ii(e,t){return Ft(e.Vi,t.Vi)||je.comparator(e.key,t.key)}}class cD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.$s=[],this.vi=1,this.Si=new Cn(pr.yi)}checkEmpty(e){return ge.resolve(0===this.$s.length)}addMutationBatch(e,t,r,o){const u=this.vi;this.vi++;const h=new om(u,t,r,o);this.$s.push(h);for(const m of o)this.Si=this.Si.add(new pr(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ge.resolve(h)}lookupMutationBatch(e,t){return ge.resolve(this.Di(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.Ci(t+1),u=o<0?0:o;return ge.resolve(this.$s.length>u?this.$s[u]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(0===this.$s.length?-1:this.vi-1)}getAllMutationBatches(e){return ge.resolve(this.$s.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new pr(t,0),o=new pr(t,Number.POSITIVE_INFINITY),u=[];return this.Si.forEachInRange([r,o],h=>{const m=this.Di(h.Vi);u.push(m)}),ge.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Cn(Ft);return t.forEach(o=>{const u=new pr(o,0),h=new pr(o,Number.POSITIVE_INFINITY);this.Si.forEachInRange([u,h],m=>{r=r.add(m.Vi)})}),ge.resolve(this.xi(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let u=r;je.isDocumentKey(u)||(u=u.child(""));const h=new pr(new je(u),0);let m=new Cn(Ft);return this.Si.forEachWhile(E=>{const D=E.key.path;return!!r.isPrefixOf(D)&&(D.length===o&&(m=m.add(E.Vi)),!0)},h),ge.resolve(this.xi(m))}xi(e){const t=[];return e.forEach(r=>{const o=this.Di(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){bt(0===this.Ni(t.batchId,"removed")),this.$s.shift();let r=this.Si;return ge.forEach(t.mutations,o=>{const u=new pr(o.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Si=r})}dn(e){}containsKey(e,t){const r=new pr(t,0),o=this.Si.firstAfterOrEqual(r);return ge.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return ge.resolve()}Ni(e,t){return this.Ci(e)}Ci(e){return 0===this.$s.length?0:e-this.$s[0].batchId}Di(e){const t=this.Ci(e);return t<0||t>=this.$s.length?null:this.$s[t]}}class o0{constructor(e){this.ki=e,this.docs=new Zn(je.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),u=o?o.size:0,h=this.ki(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ge.resolve(r?r.document.mutableCopy():bn.newInvalidDocument(t))}getEntries(e,t){let r=to();return t.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():bn.newInvalidDocument(o))}),ge.resolve(r)}getAllFromCollection(e,t,r){let o=to();const u=new je(t.child("")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:m,value:{document:E}}=h.getNext();if(!t.isPrefixOf(m.path))break;m.path.length>t.length+1||wI(vI(E),r)<=0||(o=o.insert(E.key,E.mutableCopy()))}return ge.resolve(o)}getAllFromCollectionGroup(e,t,r,o){Xe()}Mi(e,t){return ge.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new a0(this)}getSize(e){return ge.resolve(this.size)}}class a0 extends db{constructor(e){super(),this.qn=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.qn.addEntry(e,o)):this.qn.removeEntry(r)}),ge.waitFor(t)}getFromCache(e,t){return this.qn.getEntry(e,t)}getAllFromCache(e,t){return this.qn.getEntries(e,t)}}class _m{constructor(e){this.persistence=e,this.Oi=new hc(t=>Ka(t),qd),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.Fi=0,this.$i=new rp,this.targetCount=0,this.Bi=Qa.mn()}forEachTarget(e,t){return this.Oi.forEach((r,o)=>t(o)),ge.resolve()}getLastRemoteSnapshotVersion(e){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ge.resolve(this.Fi)}allocateTargetId(e){return this.highestTargetId=this.Bi.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Fi&&(this.Fi=t),ge.resolve()}In(e){this.Oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Bi=new Qa(t),this.highestTargetId=t),e.sequenceNumber>this.Fi&&(this.Fi=e.sequenceNumber)}addTargetData(e,t){return this.In(t),this.targetCount+=1,ge.resolve()}updateTargetData(e,t){return this.In(t),ge.resolve()}removeTargetData(e,t){return this.Oi.delete(t.target),this.$i.Ri(t.targetId),this.targetCount-=1,ge.resolve()}removeTargets(e,t,r){let o=0;const u=[];return this.Oi.forEach((h,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Oi.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ge.waitFor(u).next(()=>o)}getTargetCount(e){return ge.resolve(this.targetCount)}getTargetData(e,t){const r=this.Oi.get(t)||null;return ge.resolve(r)}addMatchingKeys(e,t,r){return this.$i.Ti(t,r),ge.resolve()}removeMatchingKeys(e,t,r){this.$i.Ai(t,r);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),ge.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.$i.Ri(t),ge.resolve()}getMatchingKeysForTargetId(e,t){const r=this.$i.Pi(t);return ge.resolve(r)}containsKey(e,t){return ge.resolve(this.$i.containsKey(t))}}class PA{constructor(e,t){this.Li={},this.overlays={},this.ts=new _s(0),this.es=!1,this.es=!0,this.referenceDelegate=e(this),this.ls=new _m(this),this.indexManager=new MA,this.fs=new o0(r=>this.referenceDelegate.Ui(r)),this.M=new QE(t),this.ds=new _c(this.M)}start(){return Promise.resolve()}shutdown(){return this.es=!1,Promise.resolve()}get started(){return this.es}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new wb,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Li[e.toKey()];return r||(r=new cD(t,this.referenceDelegate),this.Li[e.toKey()]=r),r}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getBundleCache(){return this.ds}runTransaction(e,t,r){Pe("MemoryPersistence","Starting transaction:",e);const o=new kA(this.ts.next());return this.referenceDelegate.qi(),r(o).next(u=>this.referenceDelegate.Gi(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ki(e,t){return ge.or(Object.values(this.Li).map(r=>()=>r.containsKey(e,t)))}}class kA extends Ov{constructor(e){super(),this.currentSequenceNumber=e}}class Eb{constructor(e){this.persistence=e,this.Qi=new rp,this.ji=null}static Wi(e){return new Eb(e)}get zi(){if(this.ji)return this.ji;throw Xe()}addReference(e,t,r){return this.Qi.addReference(r,t),this.zi.delete(r.toString()),ge.resolve()}removeReference(e,t,r){return this.Qi.removeReference(r,t),this.zi.add(r.toString()),ge.resolve()}markPotentiallyOrphaned(e,t){return this.zi.add(t.toString()),ge.resolve()}removeTarget(e,t){this.Qi.Ri(t.targetId).forEach(o=>this.zi.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.zi.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}qi(){this.ji=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.zi,r=>{const o=je.fromPath(r);return this.Hi(e,o).next(u=>{u||t.removeEntry(o,yt.min())})}).next(()=>(this.ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hi(e,t).next(r=>{r?this.zi.delete(t.toString()):this.zi.add(t.toString())})}Ui(e){return 0}Hi(e,t){return ge.or([()=>ge.resolve(this.Qi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ki(e,t)])}}function dD(n,e){return`firestore_clients_${n}_${e}`}function u0(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function l0(n,e){return`firestore_targets_${n}_${e}`}class vm{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static Ji(e,t,r){const o=JSON.parse(r);let u,h="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return h&&o.error&&(h="string"==typeof o.error.message&&"string"==typeof o.error.code,h&&(u=new xe(o.error.code,o.error.message))),h?new vm(e,t,o.state,u):(tr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ip{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ji(e,t){const r=JSON.parse(t);let o,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new xe(r.error.code,r.error.message))),u?new ip(e,r.state,o):(tr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class wm{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,u=jf();for(let h=0;o&&h<r.activeTargetIds.length;++h)o=uE(r.activeTargetIds[h]),u=u.add(r.activeTargetIds[h]);return o?new wm(e,u):(tr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Em{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Em(t.clientId,t.onlineState):(tr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class bm{constructor(){this.activeTargetIds=jf()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Cm{constructor(e,t,r,o,u){this.window=e,this.Jn=t,this.persistenceKey=r,this.tr=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Zn(Ft),this.started=!1,this.ir=[];const h=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.rr=dD(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new bm),this.ar=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.cr=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ye.Z)(function*(){const t=yield e.syncEngine.Os();for(const o of t){if(o===e.tr)continue;const u=e.getItem(dD(e.persistenceKey,o));if(u){const h=wm.Ji(o,u);h&&(e.sr=e.sr.insert(h.clientId,h))}}e._r();const r=e.storage.getItem(e.lr);if(r){const o=e.wr(r);o&&e.mr(o)}for(const o of e.ir)e.nr(o);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,r){this.yr(e,t,r),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(l0(this.persistenceKey,e));if(r){const o=ip.Ji(e,r);o&&(t=o.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(l0(this.persistenceKey,e))}updateQueryState(e,t,r){this.Tr(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.pr(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Pe("SharedClientState","READ",e,t),t}setItem(e,t){Pe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Pe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Pe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.rr)return void tr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable((0,ye.Z)(function*(){if(t.started){if(null!==r.key)if(t.ar.test(r.key)){if(null==r.newValue){const o=t.Rr(r.key);return t.br(o,null)}{const o=t.Pr(r.key,r.newValue);if(o)return t.br(o.clientId,o)}}else if(t.cr.test(r.key)){if(null!==r.newValue){const o=t.Vr(r.key,r.newValue);if(o)return t.vr(o)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const o=t.Sr(r.key,r.newValue);if(o)return t.Dr(o)}}else if(r.key===t.lr){if(null!==r.newValue){const o=t.wr(r.newValue);if(o)return t.mr(o)}}else if(r.key===t.ur){const o=function(u){let h=_s.A;if(null!=u)try{const m=JSON.parse(u);bt("number"==typeof m),h=m}catch(m){tr("SharedClientState","Failed to read sequence number from WebStorage",m)}return h}(r.newValue);o!==_s.A&&t.sequenceNumberHandler(o)}else if(r.key===t.dr){const o=t.Cr(r.newValue);yield Promise.all(o.map(u=>t.syncEngine.Nr(u)))}}else t.ir.push(r)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,r){const o=new vm(this.currentUser,e,t,r),u=u0(this.persistenceKey,this.currentUser,e);this.setItem(u,o.Yi())}pr(e){const t=u0(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,r){const o=l0(this.persistenceKey,e),u=new ip(e,t,r);this.setItem(o,u.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.ar.exec(e);return t?t[1]:null}Pr(e,t){const r=this.Rr(e);return wm.Ji(r,t)}Vr(e,t){const r=this.cr.exec(e),o=Number(r[1]);return vm.Ji(new Jr(void 0!==r[2]?r[2]:null),o,t)}Sr(e,t){const r=this.hr.exec(e),o=Number(r[1]);return ip.Ji(o,t)}wr(e){return Em.Ji(e)}Cr(e){return JSON.parse(e)}vr(e){var t=this;return(0,ye.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);Pe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}br(e,t){const r=t?this.sr.insert(e,t):this.sr.remove(e),o=this.gr(this.sr),u=this.gr(r),h=[],m=[];return u.forEach(E=>{o.has(E)||h.push(E)}),o.forEach(E=>{u.has(E)||m.push(E)}),this.syncEngine.Or(h,m).then(()=>{this.sr=r})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=jf();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class bb{constructor(){this.Fr=new bm,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,r){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new bm,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class hD{Br(e){}shutdown(){}}class c0{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Gr(),this.Kr=[],this.Qr()}Br(e){this.Kr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Kr)e(0)}Gr(){Pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Kr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const d0={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class FA{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class Cb extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,r,o,u){const h=this.oo(e,t);Pe("RestConnection","Sending: ",h,r);const m={};return this.uo(m,o,u),this.ao(e,h,m,r).then(E=>(Pe("RestConnection","Received: ",E),E),E=>{throw Fd("RestConnection",`${e} failed with error: `,E,"url: ",h,"request:",r),E})}co(e,t,r,o,u){return this.ro(e,t,r,o,u)}uo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ac,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),r&&r.headers.forEach((o,u)=>e[u]=o)}oo(e,t){return`${this.so}/v1/${t}:${d0[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}ao(e,t,r,o){return new Promise((u,h)=>{const m=new fI;m.listenOnce(cI.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Y_.NO_ERROR:const D=m.getResponseJson();Pe("Connection","XHR received:",JSON.stringify(D)),u(D);break;case Y_.TIMEOUT:Pe("Connection",'RPC "'+e+'" timed out'),h(new xe(fe.DEADLINE_EXCEEDED,"Request time out"));break;case Y_.HTTP_ERROR:const M=m.getStatus();if(Pe("Connection",'RPC "'+e+'" failed with status:',M,"response text:",m.getResponseText()),M>0){const O=m.getResponseJson().error;if(O&&O.status&&O.message){const H=function(G){const se=G.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(se)>=0?se:fe.UNKNOWN}(O.status);h(new xe(H,O.message))}else h(new xe(fe.UNKNOWN,"Server responded with status "+m.getStatus()))}else h(new xe(fe.UNAVAILABLE,"Connection failed."));break;default:Xe()}}finally{Pe("Connection",'RPC "'+e+'" completed.')}});const E=JSON.stringify(o);m.send(t,"POST",E,r,15)})}ho(e,t,r){const o=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=uI(),h=lI(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new hI({})),this.uo(m.initMessageHeaders,t,r),(0,It.uI)()||(0,It.b$)()||(0,It.d)()||(0,It.w1)()||(0,It.Mn)()||(0,It.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");const E=o.join("");Pe("Connection","Creating WebChannel: "+E,m);const D=u.createWebChannel(E,m);let M=!1,O=!1;const H=new FA({jr:se=>{O?Pe("Connection","Not sending because WebChannel is closed:",se):(M||(Pe("Connection","Opening WebChannel transport."),D.open(),M=!0),Pe("Connection","WebChannel sending:",se),D.send(se))},Wr:()=>D.close()}),G=(se,Fe,et)=>{se.listen(Fe,vt=>{try{et(vt)}catch(st){setTimeout(()=>{throw st},0)}})};return G(D,Hg.EventType.OPEN,()=>{O||Pe("Connection","WebChannel transport opened.")}),G(D,Hg.EventType.CLOSE,()=>{O||(O=!0,Pe("Connection","WebChannel transport closed"),H.eo())}),G(D,Hg.EventType.ERROR,se=>{O||(O=!0,Fd("Connection","WebChannel transport errored:",se),H.eo(new xe(fe.UNAVAILABLE,"The operation could not be completed")))}),G(D,Hg.EventType.MESSAGE,se=>{var Fe;if(!O){const et=se.data[0];bt(!!et);const vt=et,st=vt.error||(null===(Fe=vt[0])||void 0===Fe?void 0:Fe.error);if(st){Pe("Connection","WebChannel received error:",st);const hn=st.status;let Ct=function(Gt){const ol=nr[Gt];if(void 0!==ol)return fv(ol)}(hn),$t=st.message;void 0===Ct&&(Ct=fe.INTERNAL,$t="Unknown error status: "+hn+" with message "+st.message),O=!0,H.eo(new xe(Ct,$t)),D.close()}else Pe("Connection","WebChannel received:",et),H.no(et)}}),G(h,dI.STAT_EVENT,se=>{se.stat===Xw.PROXY?Pe("Connection","Detected buffering proxy"):se.stat===Xw.NOPROXY&&Pe("Connection","Detected no buffering proxy")}),setTimeout(()=>{H.Zr()},0),H}}function Im(){return"undefined"!=typeof window?window:null}function Dm(){return"undefined"!=typeof document?document:null}function sp(n){return new mv(n,!0)}class Ib{constructor(e,t,r=1e3,o=1.5,u=6e4){this.Jn=e,this.timerId=t,this.lo=r,this.fo=o,this._o=u,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),o=Math.max(0,t-r);o>0&&Pe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.mo=this.Jn.enqueueAfterDelay(this.timerId,o,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class fD{constructor(e,t,r,o,u,h,m,E){this.Jn=e,this.Ao=r,this.Ro=o,this.bo=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=E,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new Ib(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,ye.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return(0,ye.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}close(e,t){var r=this;return(0,ye.Z)(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==e?r.So.reset():t&&t.code===fe.RESOURCE_EXHAUSTED?(tr(t.toString()),tr("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):t&&t.code===fe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Po===t&&this.Uo(r,o)},r=>{e(()=>{const o=new xe(fe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(o)})})}Uo(e,t){const r=this.Lo(this.Po);this.stream=this.Go(e,t),this.stream.zr(()=>{r(()=>(this.state=2,this.vo=this.Jn.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(o=>{r(()=>this.qo(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}xo(){var e=this;this.state=5,this.So.Io((0,ye.Z)(function*(){e.state=0,e.start()}))}qo(e){return Pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.Jn.enqueueAndForget(()=>this.Po===e?t():(Pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class LA extends fD{constructor(e,t,r,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,h),this.M=u}Go(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function UI(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(E=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===E?1:"REMOVE"===E?2:"CURRENT"===E?3:"RESET"===E?4:Xe(),o=e.targetChange.targetIds||[],u=function(E,D){return E.N?(bt(void 0===D||"string"==typeof D),Vn.fromBase64String(D||"")):(bt(void 0===D||D instanceof Uint8Array),Vn.fromUint8Array(D||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(E){const D=void 0===E.code?fe.UNKNOWN:fv(E.code);return new xe(D,E.message||"")}(h);t=new gv(r,o,u,m||null)}else if("documentChange"in e){const r=e.documentChange,o=Es(n,r.document.name),u=Wn(r.document.updateTime),h=new mi({mapValue:{fields:r.document.fields}}),m=bn.newFoundDocument(o,u,h);t=new Hf(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,o=Es(n,r.document),u=r.readTime?Wn(r.readTime):yt.min(),h=bn.newNoDocument(o,u);t=new Hf([],r.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const r=e.documentRemove,o=Es(n,r.document);t=new Hf([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return Xe();{const r=e.filter,u=new TA(r.count||0);t=new PE(r.targetId,u)}}var E;return t}(this.M,e),r=function(o){if(!("targetChange"in o))return yt.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?yt.min():u.readTime?Wn(u.readTime):yt.min()}(e);return this.listener.Ko(t,r)}Qo(e){const t={};t.database=qf(this.M),t.addTarget=function(o,u){let h;const m=u.target;return h=Nf(m)?{documents:rm(o,m)}:{query:bv(o,m)},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?h.resumeToken=VE(o,u.resumeToken):u.snapshotVersion.compareTo(yt.min())>0&&(h.readTime=zi(o,u.snapshotVersion.toTimestamp())),h}(this.M,e);const r=function Cv(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Xe()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Oo(t)}jo(e){const t={};t.database=qf(this.M),t.removeTarget=e,this.Oo(t)}}class pD extends fD{constructor(e,t,r,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,h),this.M=u,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Go(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(bt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function Ev(n,e){return n&&n.length>0?(bt(void 0!==e),n.map(t=>function(r,o){let u=Wn(r.updateTime?r.updateTime:o);return u.isEqual(yt.min())&&(u=Wn(o)),new hv(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Wn(e.commitTime);return this.listener.Jo(r,t)}return bt(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=qf(this.M),this.Oo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>zf(this.M,r))};this.Oo(t)}}class gD extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.M=o,this.Zo=!1}tu(){if(this.Zo)throw new xe(fe.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.bo.ro(e,t,r,o,u)).catch(o=>{throw"FirebaseError"===o.name?(o.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new xe(fe.UNKNOWN,o.toString())})}co(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.bo.co(e,t,r,o,u)).catch(o=>{throw"FirebaseError"===o.name?(o.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new xe(fe.UNKNOWN,o.toString())})}terminate(){this.Zo=!0}}class VA{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.au(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(tr(t),this.su=!1):Pe("OnlineStateTracker",t)}au(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class UA{constructor(e,t,r,o,u){var h=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=u,this.du.Br(m=>{r.enqueueAndForget((0,ye.Z)(function*(){var E;a(h)&&(Pe("RemoteStore","Restarting streams for network reachability change."),yield(E=(0,ye.Z)(function*(D){const M=Be(D);M.lu.add(4),yield op(M),M._u.set("Unknown"),M.lu.delete(4),yield Tm(M)}),function(D){return E.apply(this,arguments)})(h))}))}),this._u=new VA(r,o)}}function Tm(n){return Db.apply(this,arguments)}function Db(){return Db=(0,ye.Z)(function*(n){if(a(n))for(const e of n.fu)yield e(!0)}),Db.apply(this,arguments)}function op(n){return h0.apply(this,arguments)}function h0(){return h0=(0,ye.Z)(function*(n){for(const e of n.fu)yield e(!1)}),h0.apply(this,arguments)}function f0(n,e){const t=Be(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),s(t)?i(t):nl(t).Co()&&Tb(t,e))}function Am(n,e){const t=Be(n),r=nl(t);t.hu.delete(e),r.Co()&&mD(t,e),0===t.hu.size&&(r.Co()?r.ko():a(t)&&t._u.set("Unknown"))}function Tb(n,e){n.wu.Z(e.targetId),nl(n).Qo(e)}function mD(n,e){n.wu.Z(e),nl(n).jo(e)}function i(n){n.wu=new LI({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.hu.get(e)||null}),nl(n).start(),n._u.iu()}function s(n){return a(n)&&!nl(n).Do()&&n.hu.size>0}function a(n){return 0===Be(n).lu.size}function l(n){n.wu=void 0}function d(n){return p.apply(this,arguments)}function p(){return p=(0,ye.Z)(function*(n){n.hu.forEach((e,t)=>{Tb(n,e)})}),p.apply(this,arguments)}function _(n,e){return w.apply(this,arguments)}function w(){return w=(0,ye.Z)(function*(n,e){l(n),s(n)?(n._u.uu(e),i(n)):n._u.set("Unknown")}),w.apply(this,arguments)}function b(n,e,t){return T.apply(this,arguments)}function T(){return T=(0,ye.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof gv&&2===e.state&&e.cause)try{yield(r=(0,ye.Z)(function*(o,u){const h=u.cause;for(const m of u.targetIds)o.hu.has(m)&&(yield o.remoteSyncer.rejectListen(m,h),o.hu.delete(m),o.wu.removeTarget(m))}),function(o,u){return r.apply(this,arguments)})(n,e)}catch(r){Pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield S(n,r)}else if(e instanceof Hf?n.wu.ut(e):e instanceof PE?n.wu._t(e):n.wu.ht(e),!t.isEqual(yt.min()))try{const r=yield sD(n.localStore);t.compareTo(r)>=0&&(yield function(o,u){const h=o.wu.yt(u);return h.targetChanges.forEach((m,E)=>{if(m.resumeToken.approximateByteSize()>0){const D=o.hu.get(E);D&&o.hu.set(E,D.withResumeToken(m.resumeToken,u))}}),h.targetMismatches.forEach(m=>{const E=o.hu.get(m);if(!E)return;o.hu.set(m,E.withResumeToken(Vn.EMPTY_BYTE_STRING,E.snapshotVersion)),mD(o,m);const D=new Ya(E.target,m,1,E.sequenceNumber);Tb(o,D)}),o.remoteSyncer.applyRemoteEvent(h)}(n,t))}catch(r){Pe("RemoteStore","Failed to raise snapshot:",r),yield S(n,r)}var r}),T.apply(this,arguments)}function S(n,e,t){return k.apply(this,arguments)}function k(){return k=(0,ye.Z)(function*(n,e,t){if(!sh(e))throw e;n.lu.add(1),yield op(n),n._u.set("Offline"),t||(t=()=>sD(n.localStore)),n.asyncQueue.enqueueRetryable((0,ye.Z)(function*(){Pe("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield Tm(n)}))}),k.apply(this,arguments)}function B(n,e){return e().catch(t=>S(n,t,e))}function Z(n){return _e.apply(this,arguments)}function _e(){return _e=(0,ye.Z)(function*(n){const e=Be(n),t=ha(e);let r=e.cu.length>0?e.cu[e.cu.length-1].batchId:-1;for(;ke(e);)try{const o=yield oD(e.localStore,r);if(null===o){0===e.cu.length&&t.ko();break}r=o.batchId,$e(e,o)}catch(o){yield S(e,o)}Je(e)&&Ce(e)}),_e.apply(this,arguments)}function ke(n){return a(n)&&n.cu.length<10}function $e(n,e){n.cu.push(e);const t=ha(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function Je(n){return a(n)&&!ha(n).Do()&&n.cu.length>0}function Ce(n){ha(n).start()}function ct(n){return Ut.apply(this,arguments)}function Ut(){return Ut=(0,ye.Z)(function*(n){ha(n).Xo()}),Ut.apply(this,arguments)}function cn(n){return Ni.apply(this,arguments)}function Ni(){return Ni=(0,ye.Z)(function*(n){const e=ha(n);for(const t of n.cu)e.Ho(t.mutations)}),Ni.apply(this,arguments)}function vc(n,e,t){return ap.apply(this,arguments)}function ap(){return ap=(0,ye.Z)(function*(n,e,t){const r=n.cu.shift(),o=Pv.from(r,e,t);yield B(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield Z(n)}),ap.apply(this,arguments)}function p0(n,e){return up.apply(this,arguments)}function up(){return up=(0,ye.Z)(function*(n,e){var t;e&&ha(n).zo&&(yield(t=(0,ye.Z)(function*(r,o){if(NI(u=o.code)&&u!==fe.ABORTED){const h=r.cu.shift();ha(r).No(),yield B(r,()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o)),yield Z(r)}var u}),function(r,o){return t.apply(this,arguments)})(n,e)),Je(n)&&Ce(n)}),up.apply(this,arguments)}function Sm(n,e){return lp.apply(this,arguments)}function lp(){return lp=(0,ye.Z)(function*(n,e){const t=Be(n);t.asyncQueue.verifyOperationInProgress(),Pe("RemoteStore","RemoteStore received new credentials");const r=a(t);t.lu.add(3),yield op(t),r&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield Tm(t)}),lp.apply(this,arguments)}function cp(n,e){return dp.apply(this,arguments)}function dp(){return dp=(0,ye.Z)(function*(n,e){const t=Be(n);e?(t.lu.delete(2),yield Tm(t)):e||(t.lu.add(2),yield op(t),t._u.set("Unknown"))}),dp.apply(this,arguments)}function nl(n){return n.mu||(n.mu=function(e,t,r){const o=Be(e);return o.tu(),new LA(t,o.bo,o.authCredentials,o.appCheckCredentials,o.M,r)}(n.datastore,n.asyncQueue,{zr:d.bind(null,n),Jr:_.bind(null,n),Ko:b.bind(null,n)}),n.fu.push(function(){var e=(0,ye.Z)(function*(t){t?(n.mu.No(),s(n)?i(n):n._u.set("Unknown")):(yield n.mu.stop(),l(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function ha(n){return n.gu||(n.gu=function(e,t,r){const o=Be(e);return o.tu(),new pD(t,o.bo,o.authCredentials,o.appCheckCredentials,o.M,r)}(n.datastore,n.asyncQueue,{zr:ct.bind(null,n),Jr:p0.bind(null,n),Yo:cn.bind(null,n),Jo:vc.bind(null,n)}),n.fu.push(function(){var e=(0,ye.Z)(function*(t){t?(n.gu.No(),yield Z(n)):(yield n.gu.stop(),n.cu.length>0&&(Pe("RemoteStore",`Stopping write stream with ${n.cu.length} pending writes`),n.cu=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class yD{constructor(e,t,r,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Fn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(e,t,r,o,u){const h=Date.now()+r,m=new yD(e,t,h,o,u);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new xe(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xm(n,e){if(tr("AsyncQueue",`${e}: ${n}`),sh(n))return new xe(fe.UNAVAILABLE,`${e}: ${n}`);throw n}class Mm{constructor(e){this.comparator=e?(t,r)=>e(t,r)||je.comparator(t.key,r.key):(t,r)=>je.comparator(t.key,r.key),this.keyedMap=pv(),this.sortedSet=new Zn(this.comparator)}static emptySet(e){return new Mm(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Mm)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Mm;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class BA{constructor(){this.yu=new Zn(je.comparator)}track(e){const t=e.doc.key,r=this.yu.get(t);r?0!==e.type&&3===r.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==r.type?this.yu=this.yu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.yu=this.yu.remove(t):1===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):Xe():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Om{constructor(e,t,r,o,u,h,m,E){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=E}static fromInitialDocuments(e,t,r,o){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new Om(e,t,Mm.emptySet(t),u,r,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ff(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class IM{constructor(){this.Iu=void 0,this.listeners=[]}}class DM{constructor(){this.queries=new hc(e=>wE(e),Ff),this.onlineState="Unknown",this.Tu=new Set}}function _D(n,e){return vD.apply(this,arguments)}function vD(){return vD=(0,ye.Z)(function*(n,e){const t=Be(n),r=e.query;let o=!1,u=t.queries.get(r);if(u||(o=!0,u=new IM),o)try{u.Iu=yield t.onListen(r)}catch(h){const m=xm(h,`Initialization of query '${Lf(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,u),u.listeners.push(e),e.Eu(t.onlineState),u.Iu&&e.Au(u.Iu)&&bD(t)}),vD.apply(this,arguments)}function wD(n,e){return ED.apply(this,arguments)}function ED(){return ED=(0,ye.Z)(function*(n,e){const t=Be(n),r=e.query;let o=!1;const u=t.queries.get(r);if(u){const h=u.listeners.indexOf(e);h>=0&&(u.listeners.splice(h,1),o=0===u.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),ED.apply(this,arguments)}function TM(n,e){const t=Be(n);let r=!1;for(const o of e){const h=t.queries.get(o.query);if(h){for(const m of h.listeners)m.Au(o)&&(r=!0);h.Iu=o}}r&&bD(t)}function AM(n,e,t){const r=Be(n),o=r.queries.get(e);if(o)for(const u of o.listeners)u.onError(t);r.queries.delete(e)}function bD(n){n.Tu.forEach(e=>{e.next()})}class CD{constructor(e,t,r){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new Om(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.Vu(e)&&(this.Ru.next(e),t=!0):this.vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=Om.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class SM{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class jA{constructor(e){this.M=e}li(e){return Es(this.M,e)}fi(e){return e.metadata.exists?nm(this.M,e.document,!1):bn.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}di(e){return Wn(e)}}class xM{constructor(e,t,r){this.xu=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=HA(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=zt.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,r=new jA(this.M);for(const o of e)if(o.metadata.queries){const u=r.li(o.metadata.name);for(const h of o.metadata.queries){const m=(t.get(h)||sn()).add(u);t.set(h,m)}}return t}complete(){var e=this;return(0,ye.Z)(function*(){const t=yield function mm(n,e,t,r){return s0.apply(this,arguments)}(e.localStore,new jA(e.M),e.documents,e.xu.id),r=e.ku(e.documents);for(const o of e.queries)yield lD(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",{progress:e.progress,Mu:e.collectionGroups,Ou:t}})()}}function HA(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class $A{constructor(e){this.key=e}}class GA{constructor(e){this.key=e}}class qA{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=sn(),this.mutatedKeys=sn(),this.Lu=EE(e),this.Uu=new Mm(this.Lu)}get qu(){return this.Fu}Gu(e,t){const r=t?t.Ku:new BA,o=t?t.Uu:this.Uu;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,m=!1;const E=Pf(this.query)&&o.size===this.query.limit?o.last():null,D=Kg(this.query)&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((M,O)=>{const H=o.get(M),G=lv(this.query,O)?O:null,se=!!H&&this.mutatedKeys.has(H.key),Fe=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let et=!1;H&&G?H.data.isEqual(G.data)?se!==Fe&&(r.track({type:3,doc:G}),et=!0):this.Qu(H,G)||(r.track({type:2,doc:G}),et=!0,(E&&this.Lu(G,E)>0||D&&this.Lu(G,D)<0)&&(m=!0)):!H&&G?(r.track({type:0,doc:G}),et=!0):H&&!G&&(r.track({type:1,doc:H}),et=!0,(E||D)&&(m=!0)),et&&(G?(h=h.add(G),u=Fe?u.add(M):u.delete(M)):(h=h.delete(M),u=u.delete(M)))}),Pf(this.query)||Kg(this.query))for(;h.size>this.query.limit;){const M=Pf(this.query)?h.last():h.first();h=h.delete(M.key),u=u.delete(M.key),r.track({type:1,doc:M})}return{Uu:h,Ku:r,ei:m,mutatedKeys:u}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const u=e.Ku.pu();u.sort((D,M)=>function(O,H){const G=se=>{switch(se){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xe()}};return G(O)-G(H)}(D.type,M.type)||this.Lu(D.doc,M.doc)),this.ju(r);const h=t?this.Wu():[],m=0===this.Bu.size&&this.current?1:0,E=m!==this.$u;return this.$u=m,0!==u.length||E?{snapshot:new Om(this.query,e.Uu,o,u,e.mutatedKeys,0===m,E,!1),zu:h}:{zu:h}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new BA,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=sn(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const t=[];return e.forEach(r=>{this.Bu.has(r)||t.push(new GA(r))}),this.Bu.forEach(r=>{e.has(r)||t.push(new $A(r))}),t}Ju(e){this.Fu=e.hi,this.Bu=sn();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Yu(){return Om.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class MM{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class OM{constructor(e){this.key=e,this.Xu=!1}}class RM{constructor(e,t,r,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Zu={},this.ta=new hc(m=>wE(m),Ff),this.ea=new Map,this.na=new Set,this.sa=new Zn(je.comparator),this.ia=new Map,this.ra=new rp,this.oa={},this.ua=new Map,this.aa=Qa.gn(),this.onlineState="Unknown",this.ca=void 0}get isPrimaryClient(){return!0===this.ca}}function NM(n,e){return ID.apply(this,arguments)}function ID(){return ID=(0,ye.Z)(function*(n,e){const t=ZD(n);let r,o;const u=t.ta.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),o=u.view.Yu();else{const h=yield uh(t.localStore,ws(e));t.isPrimaryClient&&f0(t.remoteStore,h);const m=t.sharedClientState.addLocalQueryTarget(h.targetId);r=h.targetId,o=yield DD(t,e,r,"current"===m)}return o}),ID.apply(this,arguments)}function DD(n,e,t,r){return TD.apply(this,arguments)}function TD(){return TD=(0,ye.Z)(function*(n,e,t,r){n.ha=(M,O,H)=>{return(G=(0,ye.Z)(function*(se,Fe,et,vt){let st=Fe.view.Gu(et);st.ei&&(st=yield r0(se.localStore,Fe.query,!1).then(({documents:$t})=>Fe.view.Gu($t,st)));const hn=vt&&vt.targetChanges.get(Fe.targetId),Ct=Fe.view.applyChanges(st,se.isPrimaryClient,hn);return FD(se,Fe.targetId,Ct.zu),Ct.snapshot}),function(se,Fe,et,vt){return G.apply(this,arguments)})(n,M,O,H);var G};const o=yield r0(n.localStore,e,!0),u=new qA(e,o.hi),h=u.Gu(o.documents),m=th.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),E=u.applyChanges(h,n.isPrimaryClient,m);FD(n,t,E.zu);const D=new MM(e,t,u);return n.ta.set(e,D),n.ea.has(t)?n.ea.get(t).push(e):n.ea.set(t,[e]),E.snapshot}),TD.apply(this,arguments)}function PM(n,e){return AD.apply(this,arguments)}function AD(){return AD=(0,ye.Z)(function*(n,e){const t=Be(n),r=t.ta.get(e),o=t.ea.get(r.targetId);if(o.length>1)return t.ea.set(r.targetId,o.filter(u=>!Ff(u,e))),void t.ta.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield np(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Am(t.remoteStore,r.targetId),Rm(t,r.targetId)}).catch(tl))):(Rm(t,r.targetId),yield np(t.localStore,r.targetId,!0))}),AD.apply(this,arguments)}function SD(){return SD=(0,ye.Z)(function*(n,e,t){const r=WD(n);try{const o=yield function(u,h){const m=Be(u),E=fr.now(),D=h.reduce((O,H)=>O.add(H.key),sn());let M;return m.persistence.runTransaction("Locally write mutations","readwrite",O=>m.ai.qs(O,D).next(H=>{M=H;const G=[];for(const se of h){const Fe=RI(se,M.get(se.key));null!=Fe&&G.push(new Yd(se.key,Fe,gE(Fe.value.mapValue),Un.exists(!0)))}return m.$s.addMutationBatch(O,E,G,h)})).then(O=>(O.applyToLocalDocumentSet(M),{batchId:O.batchId,changes:M}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,h,m){let E=u.oa[u.currentUser.toKey()];E||(E=new Zn(Ft)),E=E.insert(h,m),u.oa[u.currentUser.toKey()]=E}(r,o.batchId,t),yield wc(r,o.changes),yield Z(r.remoteStore)}catch(o){const u=xm(o,"Failed to persist write");t.reject(u)}}),SD.apply(this,arguments)}function zA(n,e){return xD.apply(this,arguments)}function xD(){return xD=(0,ye.Z)(function*(n,e){const t=Be(n);try{const r=yield mb(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.ia.get(u);h&&(bt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Xu=!0:o.modifiedDocuments.size>0?bt(h.Xu):o.removedDocuments.size>0&&(bt(h.Xu),h.Xu=!1))}),yield wc(t,r,e)}catch(r){yield tl(r)}}),xD.apply(this,arguments)}function ZA(n,e,t){const r=Be(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.ta.forEach((u,h)=>{const m=h.view.Eu(e);m.snapshot&&o.push(m.snapshot)}),function(u,h){const m=Be(u);m.onlineState=h;let E=!1;m.queries.forEach((D,M)=>{for(const O of M.listeners)O.Eu(h)&&(E=!0)}),E&&bD(m)}(r.eventManager,e),o.length&&r.Zu.Ko(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function FM(n,e,t){return MD.apply(this,arguments)}function MD(){return MD=(0,ye.Z)(function*(n,e,t){const r=Be(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.ia.get(e),u=o&&o.key;if(u){let h=new Zn(je.comparator);h=h.insert(u,bn.newNoDocument(u,yt.min()));const m=sn().add(u),E=new eh(yt.min(),new Map,new Cn(Ft),h,m);yield zA(r,E),r.sa=r.sa.remove(u),r.ia.delete(e),LD(r)}else yield np(r.localStore,e,!1).then(()=>Rm(r,e,t)).catch(tl)}),MD.apply(this,arguments)}function LM(n,e){return OD.apply(this,arguments)}function OD(){return OD=(0,ye.Z)(function*(n,e){const t=Be(n),r=e.batch.batchId;try{const o=yield NA(t.localStore,e);kD(t,r,null),PD(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield wc(t,o)}catch(o){yield tl(o)}}),OD.apply(this,arguments)}function VM(n,e,t){return RD.apply(this,arguments)}function RD(){return RD=(0,ye.Z)(function*(n,e,t){const r=Be(n);try{const o=yield function(u,h){const m=Be(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",E=>{let D;return m.$s.lookupMutationBatch(E,h).next(M=>(bt(null!==M),D=M.keys(),m.$s.removeMutationBatch(E,M))).next(()=>m.$s.performConsistencyCheck(E)).next(()=>m.ai.qs(E,D))})}(r.localStore,e);kD(r,e,t),PD(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield wc(r,o)}catch(o){yield tl(o)}}),RD.apply(this,arguments)}function ND(){return ND=(0,ye.Z)(function*(n,e){const t=Be(n);a(t.remoteStore)||Pe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const h=Be(u);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>h.$s.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const o=t.ua.get(r)||[];o.push(e),t.ua.set(r,o)}catch(r){const o=xm(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),ND.apply(this,arguments)}function PD(n,e){(n.ua.get(e)||[]).forEach(t=>{t.resolve()}),n.ua.delete(e)}function kD(n,e,t){const r=Be(n);let o=r.oa[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),r.oa[r.currentUser.toKey()]=o}}function Rm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ea.get(e))n.ta.delete(r),t&&n.Zu.la(r,t);n.ea.delete(e),n.isPrimaryClient&&n.ra.Ri(e).forEach(r=>{n.ra.containsKey(r)||WA(n,r)})}function WA(n,e){n.na.delete(e.path.canonicalString());const t=n.sa.get(e);null!==t&&(Am(n.remoteStore,t),n.sa=n.sa.remove(e),n.ia.delete(t),LD(n))}function FD(n,e,t){for(const r of t)r instanceof $A?(n.ra.addReference(r.key,e),BM(n,r)):r instanceof GA?(Pe("SyncEngine","Document no longer in limbo: "+r.key),n.ra.removeReference(r.key,e),n.ra.containsKey(r.key)||WA(n,r.key)):Xe()}function BM(n,e){const t=e.key,r=t.path.canonicalString();n.sa.get(t)||n.na.has(r)||(Pe("SyncEngine","New document in limbo: "+t),n.na.add(r),LD(n))}function LD(n){for(;n.na.size>0&&n.sa.size<n.maxConcurrentLimboResolutions;){const e=n.na.values().next().value;n.na.delete(e);const t=new je(zt.fromString(e)),r=n.aa.next();n.ia.set(r,new OM(t)),n.sa=n.sa.insert(t,r),f0(n.remoteStore,new Ya(ws(Zd(t.path)),r,2,_s.A))}}function wc(n,e,t){return VD.apply(this,arguments)}function VD(){return VD=(0,ye.Z)(function*(n,e,t){const r=Be(n),o=[],u=[],h=[];var m;r.ta.isEmpty()||(r.ta.forEach((m,E)=>{h.push(r.ha(E,e,t).then(D=>{if(D){r.isPrimaryClient&&r.sharedClientState.updateQueryState(E.targetId,D.fromCache?"not-current":"current"),o.push(D);const M=gm.Js(E.targetId,D);u.push(M)}}))}),yield Promise.all(h),r.Zu.Ko(o),yield(m=(0,ye.Z)(function*(E,D){const M=Be(E);try{yield M.persistence.runTransaction("notifyLocalViewChanges","readwrite",O=>ge.forEach(D,H=>ge.forEach(H.zs,G=>M.persistence.referenceDelegate.addReference(O,H.targetId,G)).next(()=>ge.forEach(H.Hs,G=>M.persistence.referenceDelegate.removeReference(O,H.targetId,G)))))}catch(O){if(!sh(O))throw O;Pe("LocalStore","Failed to update sequence numbers: "+O)}for(const O of D){const H=O.targetId;if(!O.fromCache){const G=M.si.get(H),Fe=G.withLastLimboFreeSnapshotVersion(G.snapshotVersion);M.si=M.si.insert(H,Fe)}}}),function(E,D){return m.apply(this,arguments)})(r.localStore,u))}),VD.apply(this,arguments)}function jM(n,e){return UD.apply(this,arguments)}function UD(){return UD=(0,ye.Z)(function*(n,e){const t=Be(n);if(!t.currentUser.isEqual(e)){Pe("SyncEngine","User change. New user:",e.toKey());const r=yield gb(t.localStore,e);t.currentUser=e,(o=t).ua.forEach(h=>{h.forEach(m=>{m.reject(new xe(fe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ua.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield wc(t,r.ci)}var o}),UD.apply(this,arguments)}function HM(n,e){const t=Be(n),r=t.ia.get(e);if(r&&r.Xu)return sn().add(r.key);{let o=sn();const u=t.ea.get(e);if(!u)return o;for(const h of u){const m=t.ta.get(h);o=o.unionWith(m.view.qu)}return o}}function $M(n,e){return BD.apply(this,arguments)}function BD(){return BD=(0,ye.Z)(function*(n,e){const t=Be(n),r=yield r0(t.localStore,e.query,!0),o=e.view.Ju(r);return t.isPrimaryClient&&FD(t,e.targetId,o.zu),o}),BD.apply(this,arguments)}function GM(n,e){return jD.apply(this,arguments)}function jD(){return jD=(0,ye.Z)(function*(n,e){const t=Be(n);return uD(t.localStore,e).then(r=>wc(t,r))}),jD.apply(this,arguments)}function qM(n,e,t,r){return HD.apply(this,arguments)}function HD(){return HD=(0,ye.Z)(function*(n,e,t,r){const o=Be(n),u=yield function(h,m){const E=Be(h),D=Be(E.$s);return E.persistence.runTransaction("Lookup mutation documents","readonly",M=>D.ln(M,m).next(O=>O?E.ai.qs(M,O):ge.resolve(null)))}(o.localStore,e);var m;null!==u?("pending"===t?yield Z(o.remoteStore):"acknowledged"===t||"rejected"===t?(kD(o,e,r||null),PD(o,e),m=e,Be(Be(o.localStore).$s).dn(m)):Xe(),yield wc(o,u)):Pe("SyncEngine","Cannot apply mutation batch with id: "+e)}),HD.apply(this,arguments)}function $D(){return $D=(0,ye.Z)(function*(n,e){const t=Be(n);if(ZD(t),WD(t),!0===e&&!0!==t.ca){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield KA(t,r.toArray());t.ca=!0,yield cp(t.remoteStore,!0);for(const u of o)f0(t.remoteStore,u)}else if(!1===e&&!1!==t.ca){const r=[];let o=Promise.resolve();t.ea.forEach((u,h)=>{t.sharedClientState.isLocalQueryTarget(h)?r.push(h):o=o.then(()=>(Rm(t,h),np(t.localStore,h,!0))),Am(t.remoteStore,h)}),yield o,yield KA(t,r),function(u){const h=Be(u);h.ia.forEach((m,E)=>{Am(h.remoteStore,E)}),h.ra.bi(),h.ia=new Map,h.sa=new Zn(je.comparator)}(t),t.ca=!1,yield cp(t.remoteStore,!1)}}),$D.apply(this,arguments)}function KA(n,e,t){return GD.apply(this,arguments)}function GD(){return GD=(0,ye.Z)(function*(n,e,t){const r=Be(n),o=[],u=[];for(const h of e){let m;const E=r.ea.get(h);if(E&&0!==E.length){m=yield uh(r.localStore,ws(E[0]));for(const D of E){const M=r.ta.get(D),O=yield $M(r,M);O.snapshot&&u.push(O.snapshot)}}else{const D=yield aD(r.localStore,h);m=yield uh(r.localStore,D),yield DD(r,YA(D),h,!1)}o.push(m)}return r.Zu.Ko(u),o}),GD.apply(this,arguments)}function YA(n){return vE(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function ZM(n){const e=Be(n);return Be(Be(e.localStore).persistence).Os()}function WM(n,e,t,r){return qD.apply(this,arguments)}function qD(){return qD=(0,ye.Z)(function*(n,e,t,r){const o=Be(n);if(o.ca)return void Pe("SyncEngine","Ignoring unexpected query state notification.");const u=o.ea.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const h=yield uD(o.localStore,cv(u[0])),m=eh.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield wc(o,h,m);break}case"rejected":yield np(o.localStore,e,!0),Rm(o,e,r);break;default:Xe()}}),qD.apply(this,arguments)}function KM(n,e,t){return zD.apply(this,arguments)}function zD(){return zD=(0,ye.Z)(function*(n,e,t){const r=ZD(n);if(r.ca){for(const o of e){if(r.ea.has(o)){Pe("SyncEngine","Adding an already active target "+o);continue}const u=yield aD(r.localStore,o),h=yield uh(r.localStore,u);yield DD(r,YA(u),h.targetId,!1),f0(r.remoteStore,h)}for(const o of t)r.ea.has(o)&&(yield np(r.localStore,o,!1).then(()=>{Am(r.remoteStore,o),Rm(r,o)}).catch(tl))}}),zD.apply(this,arguments)}function ZD(n){const e=Be(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=zA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=FM.bind(null,e),e.Zu.Ko=TM.bind(null,e.eventManager),e.Zu.la=AM.bind(null,e.eventManager),e}function WD(n){const e=Be(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=VM.bind(null,e),e}class JA{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ye.Z)(function*(){t.M=sp(e.databaseInfo.databaseId),t.sharedClientState=t.da(e),t.persistence=t._a(e),yield t.persistence.start(),t.gcScheduler=t.wa(e),t.localStore=t.ma(e)})()}wa(e){return null}ma(e){return t0(this.persistence,new fb,e.initialUser,this.M)}_a(e){return new PA(Eb.Wi,this.M)}da(e){return new bb}terminate(){var e=this;return(0,ye.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class QA extends JA{constructor(e,t,r){super(),this.ga=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ye.Z)(function*(){yield t().call(r,e),yield r.ga.initialize(r,e),yield WD(r.ga.syncEngine),yield Z(r.ga.remoteStore),yield r.persistence.Is(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}ma(e){return t0(this.persistence,new fb,e.initialUser,this.M)}wa(e){return new nD(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}_a(e){const t=tp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Zi.withCacheSize(this.cacheSizeBytes):Zi.DEFAULT;return new Xv(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Im(),Dm(),this.M,this.sharedClientState,!!this.forceOwnership)}da(e){return new bb}}class JM extends QA{constructor(e,t){super(e,t,!1),this.ga=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ye.Z)(function*(){yield t().call(r,e);const o=r.ga.syncEngine;r.sharedClientState instanceof Cm&&(r.sharedClientState.syncEngine={kr:qM.bind(null,o),Mr:WM.bind(null,o),Or:KM.bind(null,o),Os:ZM.bind(null,o),Nr:GM.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.Is(function(){var u=(0,ye.Z)(function*(h){yield function zM(n,e){return $D.apply(this,arguments)}(r.ga.syncEngine,h),r.gcScheduler&&(h&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):h||r.gcScheduler.stop())});return function(h){return u.apply(this,arguments)}}())})()}da(e){const t=Im();if(!Cm.vt(t))throw new xe(fe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=tp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Cm(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class KD{initialize(e,t){var r=this;return(0,ye.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>ZA(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=jM.bind(null,r.syncEngine),yield cp(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new DM}createDatastore(e){const t=sp(e.databaseInfo.databaseId),r=new Cb(e.databaseInfo);return new gD(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,u=m=>ZA(this.syncEngine,m,0),h=c0.vt()?new c0:new hD,new UA(t,r,o,u,h);var t,r,o,u,h}createSyncEngine(e,t){return function(r,o,u,h,m,E,D){const M=new RM(r,o,u,h,m,E);return D&&(M.ca=!0),M}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ye.Z)(function*(t){const r=Be(t);Pe("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield op(r),r.du.shutdown(),r._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function XA(n,e=10240){let t=0;return{read:()=>(0,ye.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ye.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Ab{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ya(this.observer.next,e)}error(e){this.observer.error?this.ya(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}pa(){this.muted=!0}ya(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class QM{constructor(e,t){this.Ia=e,this.M=t,this.metadata=new Fn,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then(r=>{r&&r.Cu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ia.cancel()}getMetadata(){var e=this;return(0,ye.Z)(function*(){return e.metadata.promise})()}fa(){var e=this;return(0,ye.Z)(function*(){return yield e.getMetadata(),e.Ea()})()}Ea(){var e=this;return(0,ye.Z)(function*(){const t=yield e.Aa();if(null===t)return null;const r=e.Ta.decode(t),o=Number(r);isNaN(o)&&e.Ra(`length string (${r}) is not valid number`);const u=yield e.ba(o);return new SM(JSON.parse(u),t.length+o)})()}Pa(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Aa(){var e=this;return(0,ye.Z)(function*(){for(;e.Pa()<0&&!(yield e.Va()););if(0===e.buffer.length)return null;const t=e.Pa();t<0&&e.Ra("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ba(e){var t=this;return(0,ye.Z)(function*(){for(;t.buffer.length<e;)(yield t.Va())&&t.Ra("Reached the end of bundle when more is expected.");const r=t.Ta.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Ra(e){throw this.Ia.cancel(),new Error(`Invalid bundle format: ${e}`)}Va(){var e=this;return(0,ye.Z)(function*(){const t=yield e.Ia.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class XM{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ye.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new xe(fe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,ye.Z)(function*(u,h){const m=Be(u),E=qf(m.M)+"/documents",D={documents:h.map(G=>Gf(m.M,G))},M=yield m.co("BatchGetDocuments",E,D),O=new Map;M.forEach(G=>{const se=function jE(n,e){return"found"in e?function(t,r){bt(!!r.found);const o=Es(t,r.found.name),u=Wn(r.found.updateTime),h=new mi({mapValue:{fields:r.found.fields}});return bn.newFoundDocument(o,u,h)}(n,e):"missing"in e?function(t,r){bt(!!r.missing),bt(!!r.readTime);const o=Es(t,r.missing),u=Wn(r.readTime);return bn.newNoDocument(o,u)}(n,e):Xe()}(m.M,G);O.set(se.key.toString(),se)});const H=[];return h.forEach(G=>{const se=O.get(G.toString());bt(!!se),H.push(se)}),H}),function(u,h){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Jd(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ye.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const u=je.fromPath(o);e.mutations.push(new Ju(u,e.precondition(u)))}),yield(r=(0,ye.Z)(function*(o,u){const h=Be(o),m=qf(h.M)+"/documents",E={writes:u.map(D=>zf(h.M,D))};yield h.ro("Commit",m,E)}),function(o,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Xe();t=yt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new xe(fe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Un.updateTime(t):Un.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(yt.min()))throw new xe(fe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Un.updateTime(t)}return Un.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class e1{constructor(e,t,r,o){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=o,this.va=5,this.So=new Ib(this.asyncQueue,"transaction_retry")}run(){this.va-=1,this.Sa()}Sa(){var e=this;this.So.Io((0,ye.Z)(function*(){const t=new XM(e.datastore),r=e.Da(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(u=>{e.Ca(u)}))}).catch(o=>{e.Ca(o)})}))}Da(e){try{const t=this.updateFunction(e);return!Oo(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ca(e){this.va>0&&this.xa(e)?(this.va-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sa(),Promise.resolve()))):this.deferred.reject(e)}xa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!NI(t)}return!1}}class t1{constructor(e,t,r,o){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Jr.UNAUTHENTICATED,this.clientId=sE.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var h=(0,ye.Z)(function*(m){Pe("FirestoreClient","Received user=",m.uid),yield u.authCredentialListener(m),u.user=m});return function(m){return h.apply(this,arguments)}}()),this.appCheckCredentials.start(r,h=>(Pe("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}getConfiguration(){var e=this;return(0,ye.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new xe(fe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Fn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=xm(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function eS(n,e){return YD.apply(this,arguments)}function YD(){return YD=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Pe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,ye.Z)(function*(u){r.isEqual(u)||(yield gb(e.localStore,u),r=u)});return function(u){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),YD.apply(this,arguments)}function tS(n,e){return JD.apply(this,arguments)}function JD(){return JD=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield QD(n);Pe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>Sm(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,u)=>Sm(e.remoteStore,u)),n.onlineComponents=e}),JD.apply(this,arguments)}function QD(n){return XD.apply(this,arguments)}function XD(){return XD=(0,ye.Z)(function*(n){return n.offlineComponents||(Pe("FirestoreClient","Using default OfflineComponentProvider"),yield eS(n,new JA)),n.offlineComponents}),XD.apply(this,arguments)}function Sb(n){return eT.apply(this,arguments)}function eT(){return eT=(0,ye.Z)(function*(n){return n.onlineComponents||(Pe("FirestoreClient","Using default OnlineComponentProvider"),yield tS(n,new KD)),n.onlineComponents}),eT.apply(this,arguments)}function nS(n){return QD(n).then(e=>e.persistence)}function tT(n){return QD(n).then(e=>e.localStore)}function rS(n){return Sb(n).then(e=>e.remoteStore)}function nT(n){return Sb(n).then(e=>e.syncEngine)}function Nm(n){return rT.apply(this,arguments)}function rT(){return rT=(0,ye.Z)(function*(n){const e=yield Sb(n),t=e.eventManager;return t.onListen=NM.bind(null,e.syncEngine),t.onUnlisten=PM.bind(null,e.syncEngine),t}),rT.apply(this,arguments)}function iS(n,e,t={}){const r=new Fn;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(o,u,h,m,E){const D=new Ab({next:O=>{u.enqueueAndForget(()=>wD(o,M));const H=O.docs.has(h);!H&&O.fromCache?E.reject(new xe(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&O.fromCache&&m&&"server"===m.source?E.reject(new xe(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):E.resolve(O)},error:O=>E.reject(O)}),M=new CD(Zd(h.path),D,{includeMetadataChanges:!0,Du:!0});return _D(o,M)}(yield Nm(n),n.asyncQueue,e,t,r)})),r.promise}function sS(n,e,t={}){const r=new Fn;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(o,u,h,m,E){const D=new Ab({next:O=>{u.enqueueAndForget(()=>wD(o,M)),O.fromCache&&"server"===m.source?E.reject(new xe(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(O)},error:O=>E.reject(O)}),M=new CD(h,D,{includeMetadataChanges:!0,Du:!0});return _D(o,M)}(yield Nm(n),n.asyncQueue,e,t,r)})),r.promise}const oS=new Map;function iT(n,e,t){if(!t)throw new xe(fe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function aS(n,e,t,r){if(!0===e&&!0===r)throw new xe(fe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function uS(n){if(!je.isDocumentKey(n))throw new xe(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function lS(n){if(je.isDocumentKey(n))throw new xe(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function xb(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Xe()}function Jt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new xe(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=xb(n);throw new xe(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function cS(n,e){if(e<=0)throw new xe(fe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class dS{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new xe(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new xe(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,aS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class g0{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dS({}),this._settingsFrozen=!1,e instanceof vs?this._databaseId=e:(this._app=e,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new xe(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vs(o.options.projectId)}(e))}get app(){if(!this._app)throw new xe(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new xe(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dS(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new J_;switch(t.type){case"gapi":const r=t.client;return bt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new IA(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new xe(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=oS.get(e);t&&(Pe("ComponentProvider","Removing Datastore"),oS.delete(e),t.terminate())}(this),Promise.resolve()}}class Bn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bn(this.firestore,e,this._key)}}class Ki{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ki(this.firestore,e,this._query)}}class rl extends Ki{constructor(e,t,r){super(e,t,Zd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bn(this.firestore,null,new je(e))}withConverter(e){return new rl(this.firestore,e,this._path)}}function hS(n,e,...t){if(n=(0,It.m9)(n),iT("collection","path",e),n instanceof g0){const r=zt.fromString(e,...t);return lS(r),new rl(n,null,r)}{if(!(n instanceof Bn||n instanceof rl))throw new xe(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(zt.fromString(e,...t));return lS(r),new rl(n.firestore,null,r)}}function Mb(n,e,...t){if(n=(0,It.m9)(n),1===arguments.length&&(e=sE.R()),iT("doc","path",e),n instanceof g0){const r=zt.fromString(e,...t);return uS(r),new Bn(n,null,new je(r))}{if(!(n instanceof Bn||n instanceof rl))throw new xe(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(zt.fromString(e,...t));return uS(r),new Bn(n.firestore,n instanceof rl?n.converter:null,new je(r))}}function fS(n,e){return n=(0,It.m9)(n),e=(0,It.m9)(e),(n instanceof Bn||n instanceof rl)&&(e instanceof Bn||e instanceof rl)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function pS(n,e){return n=(0,It.m9)(n),e=(0,It.m9)(e),n instanceof Ki&&e instanceof Ki&&n.firestore===e.firestore&&Ff(n._query,e._query)&&n.converter===e.converter}class h1{constructor(){this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new Ib(this,"async_queue_retry"),this.Ua=()=>{const t=Dm();t&&Pe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=Dm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ua)}get isShuttingDown(){return this.Ma}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.qa(),this.Ga(e)}enterRestrictedMode(e){if(!this.Ma){this.Ma=!0,this.Ba=e||!1;const t=Dm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ua)}}enqueue(e){if(this.qa(),this.Ma)return new Promise(()=>{});const t=new Fn;return this.Ga(()=>this.Ma&&this.Ba?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ka.push(e),this.Ka()))}Ka(){var e=this;return(0,ye.Z)(function*(){if(0!==e.ka.length){try{yield e.ka[0](),e.ka.shift(),e.So.reset()}catch(t){if(!sh(t))throw t;Pe("AsyncQueue","Operation failed with retryable error: "+t)}e.ka.length>0&&e.So.Io(()=>e.Ka())}})()}Ga(e){const t=this.Na.then(()=>(this.$a=!0,e().catch(r=>{throw this.Fa=r,this.$a=!1,tr("INTERNAL UNHANDLED ERROR: ",function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),h}(r)),r}).then(r=>(this.$a=!1,r))));return this.Na=t,t}enqueueAfterDelay(e,t,r){this.qa(),this.La.indexOf(e)>-1&&(t=0);const o=yD.createAndSchedule(this,e,t,r,u=>this.Qa(u));return this.Oa.push(o),o}qa(){this.Fa&&Xe()}verifyOperationInProgress(){}ja(){var e=this;return(0,ye.Z)(function*(){let t;do{t=e.Na,yield t}while(t!==e.Na)})()}Wa(e){for(const t of this.Oa)if(t.timerId===e)return!0;return!1}za(e){return this.ja().then(()=>{this.Oa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Oa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ja()})}Ha(e){this.La.push(e)}Qa(e){const t=this.Oa.indexOf(e);this.Oa.splice(t,1)}}function sT(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class f1{constructor(){this._progressObserver={},this._taskCompletionResolver=new Fn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Kn extends g0{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new h1,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||gS(this),this._firestoreClient.terminate()}}function Br(n){return n._firestoreClient||gS(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function gS(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new _I(n._databaseId,u,n._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var u,m;n._firestoreClient=new t1(n._authCredentials,n._appCheckCredentials,n._queue,r)}function mS(n,e,t){const r=new Fn;return n.asyncQueue.enqueue((0,ye.Z)(function*(){try{yield eS(n,t),yield tS(n,e),r.resolve()}catch(o){if(!("FirebaseError"===(u=o).name?u.code===fe.FAILED_PRECONDITION||u.code===fe.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw o;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),r.reject(o)}var u})).then(()=>r.promise)}function yS(n){if(n._initialized||n._terminated)throw new xe(fe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ec{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new xe(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class il{constructor(e){this._byteString=e}static fromBase64String(e){try{return new il(Vn.fromBase64String(e))}catch(t){throw new xe(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new il(Vn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class hp{constructor(e){this._methodName=e}}class Ob{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xe(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xe(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ft(this._lat,e._lat)||Ft(this._long,e._long)}}const C1=/^__.*__$/;class I1{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Yd(e,this.data,this.fieldMask,t,this.fieldTransforms):new Vf(e,this.data,t,this.fieldTransforms)}}class _S{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Yd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function vS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xe()}}class Rb{constructor(e,t,r,o,u,h){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=o,void 0===u&&this.Ja(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ya(){return this.settings.Ya}Xa(e){return new Rb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Za(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Xa({path:r,tc:!1});return o.ec(e),o}nc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Xa({path:r,tc:!1});return o.Ja(),o}sc(e){return this.Xa({path:void 0,tc:!0})}ic(e){return kb(e,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ja(){if(this.path)for(let e=0;e<this.path.length;e++)this.ec(this.path.get(e))}ec(e){if(0===e.length)throw this.ic("Document fields must not be empty");if(vS(this.Ya)&&C1.test(e))throw this.ic('Document fields cannot begin and end with "__"')}}class D1{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||sp(e)}uc(e,t,r,o=!1){return new Rb({Ya:e,methodName:t,oc:r,path:Vr.emptyPath(),tc:!1,rc:o},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function fp(n){const e=n._freezeSettings(),t=sp(n._databaseId);return new D1(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Nb(n,e,t,r,o,u={}){const h=n.uc(u.merge||u.mergeFields?2:0,e,t,o);lT("Data must be an object, but it was:",h,r);const m=bS(r,h);let E,D;if(u.merge)E=new Vd(h.fieldMask),D=h.fieldTransforms;else if(u.mergeFields){const M=[];for(const O of u.mergeFields){const H=cT(e,O,t);if(!h.contains(H))throw new xe(fe.INVALID_ARGUMENT,`Field '${H}' is specified in your field mask but missing from your input data.`);IS(M,H)||M.push(H)}E=new Vd(M),D=h.fieldTransforms.filter(O=>E.covers(O.field))}else E=null,D=h.fieldTransforms;return new I1(new mi(m),E,D)}class m0 extends hp{_toFieldTransform(e){if(2!==e.Ya)throw e.ic(1===e.Ya?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof m0}}function wS(n,e,t){return new Rb({Ya:3,oc:e.settings.oc,methodName:n._methodName,tc:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class oT extends hp{_toFieldTransform(e){return new Kd(e.path,new ca)}isEqual(e){return e instanceof oT}}class T1 extends hp{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=wS(this,e,!0),r=this.ac.map(u=>pp(u,t)),o=new cc(r);return new Kd(e.path,o)}isEqual(e){return this===e}}class A1 extends hp{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=wS(this,e,!0),r=this.ac.map(u=>pp(u,t)),o=new Ku(r);return new Kd(e.path,o)}isEqual(e){return this===e}}class S1 extends hp{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=new Wd(e.M,xI(e.M,this.cc));return new Kd(e.path,t)}isEqual(e){return this===e}}function aT(n,e,t,r){const o=n.uc(1,e,t);lT("Data must be an object, but it was:",o,r);const u=[],h=mi.empty();uc(r,(E,D)=>{const M=Pb(e,E,t);D=(0,It.m9)(D);const O=o.nc(M);if(D instanceof m0)u.push(M);else{const H=pp(D,O);null!=H&&(u.push(M),h.set(M,H))}});const m=new Vd(u);return new _S(h,m,o.fieldTransforms)}function uT(n,e,t,r,o,u){const h=n.uc(1,e,t),m=[cT(e,r,t)],E=[o];if(u.length%2!=0)throw new xe(fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let H=0;H<u.length;H+=2)m.push(cT(e,u[H])),E.push(u[H+1]);const D=[],M=mi.empty();for(let H=m.length-1;H>=0;--H)if(!IS(D,m[H])){const G=m[H];let se=E[H];se=(0,It.m9)(se);const Fe=h.nc(G);if(se instanceof m0)D.push(G);else{const et=pp(se,Fe);null!=et&&(D.push(G),M.set(G,et))}}const O=new Vd(D);return new _S(M,O,h.fieldTransforms)}function ES(n,e,t,r=!1){return pp(t,n.uc(r?4:3,e))}function pp(n,e){if(CS(n=(0,It.m9)(n)))return lT("Unsupported field value:",e,n),bS(n,e);if(n instanceof hp)return function(t,r){if(!vS(r.Ya))throw r.ic(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ic(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.tc&&4!==e.Ya)throw e.ic("Nested arrays are not supported");return function(t,r){const o=[];let u=0;for(const h of t){let m=pp(h,r.sc(u));null==m&&(m={nullValue:"NULL_VALUE"}),o.push(m),u++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,It.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return xI(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=fr.fromDate(t);return{timestampValue:zi(r.M,o)}}if(t instanceof fr){const o=new fr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:zi(r.M,o)}}if(t instanceof Ob)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof il)return{bytesValue:VE(r.M,t._byteString)};if(t instanceof Bn){const o=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(o))throw r.ic(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:_v(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ic(`Unsupported field value: ${xb(t)}`)}(n,e)}function bS(n,e){const t={};return Q_(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):uc(n,(r,o)=>{const u=pp(o,e.Za(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function CS(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof fr||n instanceof Ob||n instanceof il||n instanceof Bn||n instanceof hp)}function lT(n,e,t){if(!CS(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=xb(t);throw e.ic("an object"===r?n+" a custom object":n+" "+r)}var r}function cT(n,e,t){if((e=(0,It.m9)(e))instanceof Ec)return e._internalPath;if("string"==typeof e)return Pb(n,e);throw kb("Field path arguments must be of type string or ",n,!1,void 0,t)}const x1=new RegExp("[~\\*/\\[\\]]");function Pb(n,e,t){if(e.search(x1)>=0)throw kb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ec(...e.split("."))._internalPath}catch(r){throw kb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function kb(n,e,t,r,o){const u=r&&!r.isEmpty(),h=void 0!==o;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let E="";return(u||h)&&(E+=" (found",u&&(E+=` in field ${r}`),h&&(E+=` in document ${o}`),E+=")"),new xe(fe.INVALID_ARGUMENT,m+n+E)}function IS(n,e){return n.some(t=>t.isEqual(e))}class y0{constructor(e,t,r,o,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Bn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new M1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Fb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class M1 extends y0{data(){return super.data()}}function Fb(n,e){return"string"==typeof e?Pb(n,e):e instanceof Ec?e._internalPath:e._delegate._internalPath}class gp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bc extends y0{constructor(e,t,r,o,u,h){super(e,t,r,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new _0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Fb("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class _0 extends bc{data(e={}){return super.data(e)}}class lh{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new gp(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new _0(this._firestore,this._userDataWriter,r.key,r,new gp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xe(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(h=>({type:"added",doc:new _0(r._firestore,r._userDataWriter,h.doc.key,h.doc,new gp(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>o||3!==h.type).map(h=>{const m=new _0(r._firestore,r._userDataWriter,h.doc.key,h.doc,new gp(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let E=-1,D=-1;return 0!==h.type&&(E=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),1!==h.type&&(u=u.add(h.doc),D=u.indexOf(h.doc.key)),{type:O1(h.type),doc:m,oldIndex:E,newIndex:D}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function O1(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xe()}}function DS(n,e){return n instanceof bc&&e instanceof bc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof lh&&e instanceof lh&&n._firestore===e._firestore&&pS(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function TS(n){if(Kg(n)&&0===n.explicitOrderBy.length)throw new xe(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class v0{}function ch(n,...e){for(const t of e)n=t._apply(n);return n}class R1 extends v0{constructor(e,t,r){super(),this.hc=e,this.lc=t,this.fc=r,this.type="where"}_apply(e){const t=fp(e.firestore),r=function(o,u,h,m,E,D,M){let O;if(E.isKeyField()){if("array-contains"===D||"array-contains-any"===D)throw new xe(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${D}' queries on documentId().`);if("in"===D||"not-in"===D){RS(M,D);const G=[];for(const se of M)G.push(OS(m,o,se));O={arrayValue:{values:G}}}else O=OS(m,o,M)}else"in"!==D&&"not-in"!==D&&"array-contains-any"!==D||RS(M,D),O=ES(h,"where",M,"in"===D||"not-in"===D);const H=Qr.create(E,D,O);return function(G,se){if(se.S()){const et=uv(G);if(null!==et&&!et.isEqual(se.field))throw new xe(fe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${et.toString()}' and '${se.field.toString()}'`);const vt=av(G);null!==vt&&NS(0,se.field,vt)}const Fe=function(et,vt){for(const st of et.filters)if(vt.indexOf(st.op)>=0)return st.op;return null}(G,function(et){switch(et){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(se.op));if(null!==Fe)throw new xe(fe.INVALID_ARGUMENT,Fe===se.op?`Invalid query. You cannot use more than one '${se.op.toString()}' filter.`:`Invalid query. You cannot use '${se.op.toString()}' filters with '${Fe.toString()}' filters.`)}(o,H),H}(e._query,0,t,e.firestore._databaseId,this.hc,this.lc,this.fc);return new Ki(e.firestore,e.converter,function(o,u){const h=o.filters.concat([u]);return new la(o.path,o.collectionGroup,o.explicitOrderBy.slice(),h,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class P1 extends v0{constructor(e,t){super(),this.hc=e,this.dc=t,this.type="orderBy"}_apply(e){const t=function(r,o,u){if(null!==r.startAt)throw new xe(fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new xe(fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new zd(o,u);return function(m,E){if(null===av(m)){const D=uv(m);null!==D&&NS(0,D,E.field)}}(r,h),h}(e._query,this.hc,this.dc);return new Ki(e.firestore,e.converter,function(r,o){const u=r.explicitOrderBy.concat([o]);return new la(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class AS extends v0{constructor(e,t,r){super(),this.type=e,this._c=t,this.wc=r}_apply(e){return new Ki(e.firestore,e.converter,Yg(e._query,this._c,this.wc))}}class SS extends v0{constructor(e,t,r){super(),this.type=e,this.mc=t,this.gc=r}_apply(e){const t=MS(e,this.type,this.mc,this.gc);return new Ki(e.firestore,e.converter,(o=t,new la((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class xS extends v0{constructor(e,t,r){super(),this.type=e,this.mc=t,this.gc=r}_apply(e){const t=MS(e,this.type,this.mc,this.gc);return new Ki(e.firestore,e.converter,(o=t,new la((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function MS(n,e,t,r){if(t[0]=(0,It.m9)(t[0]),t[0]instanceof y0)return function(o,u,h,m,E){if(!m)throw new xe(fe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const D=[];for(const M of Wu(o))if(M.field.isKeyField())D.push(xf(u,m.key));else{const O=m.data.field(M.field);if(zg(O))throw new xe(fe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+M.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===O){const H=M.field.canonicalString();throw new xe(fe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${H}' (used as the orderBy) does not exist.`)}D.push(O)}return new Zu(D,E)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=fp(n.firestore);return function(u,h,m,E,D,M){const O=u.explicitOrderBy;if(D.length>O.length)throw new xe(fe.INVALID_ARGUMENT,`Too many arguments provided to ${E}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const H=[];for(let G=0;G<D.length;G++){const se=D[G];if(O[G].field.isKeyField()){if("string"!=typeof se)throw new xe(fe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${E}(), but got a ${typeof se}`);if(!kf(u)&&-1!==se.indexOf("/"))throw new xe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${E}() must be a plain document ID, but '${se}' contains a slash.`);const Fe=u.path.child(zt.fromString(se));if(!je.isDocumentKey(Fe))throw new xe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${E}() must result in a valid document path, but '${Fe}' is not because it contains an odd number of segments.`);const et=new je(Fe);H.push(xf(h,et))}else{const Fe=ES(m,E,se);H.push(Fe)}}return new Zu(H,M)}(n._query,n.firestore._databaseId,o,e,t,r)}}function OS(n,e,t){if("string"==typeof(t=(0,It.m9)(t))){if(""===t)throw new xe(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kf(e)&&-1!==t.indexOf("/"))throw new xe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(zt.fromString(t));if(!je.isDocumentKey(r))throw new xe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return xf(n,new je(r))}if(t instanceof Bn)return xf(n,t._key);throw new xe(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xb(t)}.`)}function RS(n,e){if(!Array.isArray(n)||0===n.length)throw new xe(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new xe(fe.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function NS(n,e,t){if(!t.isEqual(e))throw new xe(fe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class dT{convertValue(e,t="none"){switch(qu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(oa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Xe()}}convertObject(e,t){const r={};return uc(e.fields,(o,u)=>{r[o]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new Ob(zn(e.latitude),zn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=X_(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ud(e));default:return null}}convertTimestamp(e){const t=Gu(e);return new fr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=zt.fromString(e);bt(Dv(r));const o=new vs(r.get(1),r.get(3)),u=new je(r.popFirst(5));return o.isEqual(t)||tr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function Lb(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class H1 extends dT{constructor(e){super(),this.firestore=e}convertBytes(e){return new il(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bn(this.firestore,null,t)}}class PS{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=fp(e)}set(e,t,r){this._verifyNotCommitted();const o=dh(e,this._firestore),u=Lb(o.converter,t,r),h=Nb(this._dataReader,"WriteBatch.set",o._key,u,null!==o.converter,r);return this._mutations.push(h.toMutation(o._key,Un.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const u=dh(e,this._firestore);let h;return h="string"==typeof(t=(0,It.m9)(t))||t instanceof Ec?uT(this._dataReader,"WriteBatch.update",u._key,t,r,o):aT(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(h.toMutation(u._key,Un.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=dh(e,this._firestore);return this._mutations=this._mutations.concat(new Jd(t._key,Un.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new xe(fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function dh(n,e){if((n=(0,It.m9)(n)).firestore!==e)throw new xe(fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class mp extends dT{constructor(e){super(),this.firestore=e}convertBytes(e){return new il(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bn(this.firestore,null,t)}}function kS(n,e,t){n=Jt(n,Bn);const r=Jt(n.firestore,Kn),o=Lb(n.converter,e,t);return Pm(r,[Nb(fp(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,Un.none())])}function FS(n,e,t,...r){n=Jt(n,Bn);const o=Jt(n.firestore,Kn),u=fp(o);let h;return h="string"==typeof(e=(0,It.m9)(e))||e instanceof Ec?uT(u,"updateDoc",n._key,e,t,r):aT(u,"updateDoc",n._key,e),Pm(o,[h.toMutation(n._key,Un.exists(!0))])}function LS(n,...e){var t,r,o;n=(0,It.m9)(n);let u={includeMetadataChanges:!1},h=0;"object"!=typeof e[h]||sT(e[h])||(u=e[h],h++);const m={includeMetadataChanges:u.includeMetadataChanges};if(sT(e[h])){const O=e[h];e[h]=null===(t=O.next)||void 0===t?void 0:t.bind(O),e[h+1]=null===(r=O.error)||void 0===r?void 0:r.bind(O),e[h+2]=null===(o=O.complete)||void 0===o?void 0:o.bind(O)}let E,D,M;if(n instanceof Bn)D=Jt(n.firestore,Kn),M=Zd(n._key.path),E={next:O=>{e[h]&&e[h](hT(D,n,O))},error:e[h+1],complete:e[h+2]};else{const O=Jt(n,Ki);D=Jt(O.firestore,Kn),M=O._query;const H=new mp(D);E={next:G=>{e[h]&&e[h](new lh(D,H,O,G))},error:e[h+1],complete:e[h+2]},TS(n._query)}return function(O,H,G,se){const Fe=new Ab(se),et=new CD(H,Fe,G);return O.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return _D(yield Nm(O),et)})),()=>{Fe.pa(),O.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return wD(yield Nm(O),et)}))}}(Br(D),M,m,E)}function Pm(n,e){return function(t,r){const o=new Fn;return t.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function kM(n,e,t){return SD.apply(this,arguments)}(yield nT(t),r,o)})),o.promise}(Br(n),e)}function hT(n,e,t){const r=t.docs.get(e._key),o=new mp(n);return new bc(n,o,e._key,r,new gp(t.hasPendingWrites,t.fromCache),e.converter)}class Q1 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=fp(e)}get(e){const t=dh(e,this._firestore),r=new H1(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return Xe();const u=o[0];if(u.isFoundDocument())return new y0(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new y0(this._firestore,r,t._key,null,t.converter);throw Xe()})}set(e,t,r){const o=dh(e,this._firestore),u=Lb(o.converter,t,r),h=Nb(this._dataReader,"Transaction.set",o._key,u,null!==o.converter,r);return this._transaction.set(o._key,h),this}update(e,t,r,...o){const u=dh(e,this._firestore);let h;return h="string"==typeof(t=(0,It.m9)(t))||t instanceof Ec?uT(this._dataReader,"Transaction.update",u._key,t,r,o):aT(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,h),this}delete(e){const t=dh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=dh(e,this._firestore),r=new mp(this._firestore);return super.get(e).then(o=>new bc(this._firestore,r,t._key,o._document,new gp(!1,!1),t.converter))}}function fT(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new xe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function US(){if("undefined"==typeof Uint8Array)throw new xe("unimplemented","Uint8Arrays are not available in this environment.")}function BS(){if(!function mI(){return"undefined"!=typeof atob}())throw new xe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){ac=Yl.SDK_VERSION,(0,Yl._registerComponent)(new fd.wA("firestore",(t,{options:r})=>{const o=t.getProvider("app").getImmediate(),u=new Kn(o,new rE(t.getProvider("auth-internal")),new gI(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC")),(0,Yl.registerVersion)(eE,"3.4.7",n),(0,Yl.registerVersion)(eE,"3.4.7","esm2017")}();class w0{constructor(e){this._delegate=e}static fromBase64String(e){return BS(),new w0(il.fromBase64String(e))}static fromUint8Array(e){return US(),new w0(il.fromUint8Array(e))}toBase64(){return BS(),this._delegate.toBase64()}toUint8Array(){return US(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function pT(n){return function aO(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class uO{enableIndexedDbPersistence(e,t){return function g1(n,e){yS(n=Jt(n,Kn));const t=Br(n),r=n._freezeSettings(),o=new KD;return mS(t,o,new QA(o,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function m1(n){yS(n=Jt(n,Kn));const e=Br(n),t=n._freezeSettings(),r=new KD;return mS(e,r,new JM(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function y1(n){if(n._initialized&&!n._terminated)throw new xe(fe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Fn;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{yield(t=(0,ye.Z)(function*(r){if(!Ro.vt())return Promise.resolve();const o=r+"main";yield Ro.delete(o)}),function(r){return t.apply(this,arguments)})(tp(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class jS{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof vs||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Fd("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function c1(n,e,t,r={}){var o;const u=(n=Jt(n,g0))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&Fd("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let h,m;if("string"==typeof r.mockUserToken)h=r.mockUserToken,m=Jr.MOCK_USER;else{h=(0,It.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new xe(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Jr(E)}n._authCredentials=new CA(new pI(h,m))}}(this._delegate,e,t,r)}enableNetwork(){return function v1(n){return function n1(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield nS(n),t=yield rS(n);return e.setNetworkEnabled(!0),function(r){const o=Be(r);return o.lu.delete(0),Tm(o)}(t)}))}(Br(n=Jt(n,Kn)))}(this._delegate)}disableNetwork(){return function w1(n){return function r1(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield nS(n),t=yield rS(n);return e.setNetworkEnabled(!1),(r=(0,ye.Z)(function*(o){const u=Be(o);u.lu.add(0),yield op(u),u._u.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(Br(n=Jt(n,Kn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,aS("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function _1(n){return function(e){const t=new Fn;return e.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function UM(n,e){return ND.apply(this,arguments)}(yield nT(e),t)})),t.promise}(Br(n=Jt(n,Kn)))}(this._delegate)}onSnapshotsInSync(e){return function J1(n,e){return function o1(n,e){const t=new Ab(e);return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return r=yield Nm(n),o=t,Be(r).Tu.add(o),void o.next();var r,o})),()=>{t.pa(),n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return r=yield Nm(n),o=t,void Be(r).Tu.delete(o);var r,o}))}}(Br(n=Jt(n,Kn)),sT(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new xe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new km(this,hS(this._delegate,e))}catch(t){throw bs(t,"collection()","Firestore.collection()")}}doc(e){try{return new fa(this,Mb(this._delegate,e))}catch(t){throw bs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Cs(this,function d1(n,e){if(n=Jt(n,g0),iT("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new xe(fe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ki(n,null,(t=e,new la(zt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw bs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function X1(n,e){return function a1(n,e){const t=new Fn;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){const r=yield(o=n,Sb(o).then(u=>u.datastore));var o;new e1(n.asyncQueue,r,e,t).run()})),t.promise}(Br(n=Jt(n,Kn)),t=>e(new Q1(n,t)))}(this._delegate,t=>e(new HS(this,t)))}batch(){return Br(this._delegate),new $S(new PS(this._delegate,e=>Pm(this._delegate,e)))}loadBundle(e){return function E1(n,e){const t=Br(n=Jt(n,Kn)),r=new f1;return function u1(n,e,t,r){const o=function(u,h){let m;return m="string"==typeof u?(new TextEncoder).encode(u):u,E=function(E,D){if(E instanceof Uint8Array)return XA(E,D);if(E instanceof ArrayBuffer)return XA(new Uint8Array(E),D);if(E instanceof ReadableStream)return E.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new QM(E,h);var E}(t,sp(e));n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){!function YM(n,e,t){const r=Be(n);var o;(o=(0,ye.Z)(function*(u,h,m){try{const E=yield h.getMetadata();if(yield function(H,G){const se=Be(H),Fe=Wn(G.createTime);return se.persistence.runTransaction("hasNewerBundle","readonly",et=>se.ds.getBundleMetadata(et,G.id)).then(et=>!!et&&et.createTime.compareTo(Fe)>=0)}(u.localStore,E))return yield h.close(),m._completeWith({taskState:"Success",documentsLoaded:(H=E).totalDocuments,bytesLoaded:H.totalBytes,totalDocuments:H.totalDocuments,totalBytes:H.totalBytes}),Promise.resolve(new Set);m._updateProgress(HA(E));const D=new xM(E,u.localStore,h.M);let M=yield h.fa();for(;M;){const H=yield D.Nu(M);H&&m._updateProgress(H),M=yield h.fa()}const O=yield D.complete();return yield wc(u,O.Ou,void 0),yield function(H,G){const se=Be(H);return se.persistence.runTransaction("Save bundle","readwrite",Fe=>se.ds.saveBundleMetadata(Fe,G))}(u.localStore,E),m._completeWith(O.progress),Promise.resolve(O.Mu)}catch(E){return Fd("SyncEngine",`Loading bundle failed with ${E}`),m._failWith(E),Promise.resolve(new Set)}var H}),function(u,h,m){return o.apply(this,arguments)})(r,e,t).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield nT(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function b1(n,e){return function l1(n,e){return n.asyncQueue.enqueue((0,ye.Z)(function*(){return function(t,r){const o=Be(t);return o.persistence.runTransaction("Get named query","readonly",u=>o.ds.getNamedQuery(u,r))}(yield tT(n),e)}))}(Br(n=Jt(n,Kn)),e).then(t=>t?new Ki(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Cs(this,t):null)}}class Vb extends dT{constructor(e){super(),this.firestore=e}convertBytes(e){return new w0(new il(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return fa.forKey(t,this.firestore,null)}}class HS{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Vb(e)}get(e){const t=_p(e);return this._delegate.get(t).then(r=>new E0(this._firestore,new bc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=_p(e);return r?(fT("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=_p(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=_p(e);return this._delegate.delete(t),this}}class $S{constructor(e){this._delegate=e}set(e,t,r){const o=_p(e);return r?(fT("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=_p(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=_p(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class yp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new _0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new b0(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=yp.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let u=o.get(t);return u||(u=new yp(e,new Vb(e),t),o.set(t,u)),u}}yp.INSTANCES=new WeakMap;class fa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Vb(e)}static forPath(e,t,r){if(e.length%2!=0)throw new xe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new fa(t,new Bn(t._delegate,r,new je(e)))}static forKey(e,t,r){return new fa(t,new Bn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new km(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new km(this.firestore,hS(this._delegate,e))}catch(t){throw bs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,It.m9)(e))instanceof Bn&&fS(this._delegate,e)}set(e,t){t=fT("DocumentReference.set",t);try{return t?kS(this._delegate,e,t):kS(this._delegate,e)}catch(r){throw bs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?FS(this._delegate,e):FS(this._delegate,e,t,...r)}catch(o){throw bs(o,"updateDoc()","DocumentReference.update()")}}delete(){return function K1(n){return Pm(Jt(n.firestore,Kn),[new Jd(n._key,Un.none())])}(this._delegate)}onSnapshot(...e){const t=GS(e),r=qS(e,o=>new E0(this.firestore,new bc(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return LS(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function G1(n){n=Jt(n,Bn);const e=Jt(n.firestore,Kn),t=Br(e),r=new mp(e);return function i1(n,e){const t=new Fn;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(r=(0,ye.Z)(function*(o,u,h){try{const m=yield function(E,D){const M=Be(E);return M.persistence.runTransaction("read document","readonly",O=>M.ai.Bs(O,D))}(o,u);m.isFoundDocument()?h.resolve(m):m.isNoDocument()?h.resolve(null):h.reject(new xe(fe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const E=xm(m,`Failed to get document '${u} from cache`);h.reject(E)}}),function(o,u,h){return r.apply(this,arguments)})(yield tT(n),e,t);var r})),t.promise}(t,n._key).then(o=>new bc(e,r,n._key,o,new gp(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function q1(n){n=Jt(n,Bn);const e=Jt(n.firestore,Kn);return iS(Br(e),n._key,{source:"server"}).then(t=>hT(e,n,t))}(this._delegate):function $1(n){n=Jt(n,Bn);const e=Jt(n.firestore,Kn);return iS(Br(e),n._key).then(t=>hT(e,n,t))}(this._delegate),t.then(r=>new E0(this.firestore,new bc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new fa(this.firestore,this._delegate.withConverter(e?yp.getInstance(this.firestore,e):null))}}function bs(n,e,t){return n.message=n.message.replace(e,t),n}function GS(n){for(const e of n)if("object"==typeof e&&!pT(e))return e;return{}}function qS(n,e){var t,r;let o;return o=pT(n[0])?n[0]:pT(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{o.next&&o.next(e(u))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class E0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new fa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return DS(this._delegate,e._delegate)}}class b0 extends E0{data(e){const t=this._delegate.data(e);return function nE(n,e){n||Xe()}(void 0!==t),t}}class Cs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Vb(e)}where(e,t,r){try{return new Cs(this.firestore,ch(this._delegate,function N1(n,e,t){const r=e,o=Fb("where",n);return new R1(o,r,t)}(e,t,r)))}catch(o){throw bs(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Cs(this.firestore,ch(this._delegate,function k1(n,e="asc"){const t=e,r=Fb("orderBy",n);return new P1(r,t)}(e,t)))}catch(r){throw bs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Cs(this.firestore,ch(this._delegate,function F1(n){return cS("limit",n),new AS("limit",n,"F")}(e)))}catch(t){throw bs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Cs(this.firestore,ch(this._delegate,function L1(n){return cS("limitToLast",n),new AS("limitToLast",n,"L")}(e)))}catch(t){throw bs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Cs(this.firestore,ch(this._delegate,function V1(...n){return new SS("startAt",n,!0)}(...e)))}catch(t){throw bs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Cs(this.firestore,ch(this._delegate,function U1(...n){return new SS("startAfter",n,!1)}(...e)))}catch(t){throw bs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Cs(this.firestore,ch(this._delegate,function B1(...n){return new xS("endBefore",n,!1)}(...e)))}catch(t){throw bs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Cs(this.firestore,ch(this._delegate,function j1(...n){return new xS("endAt",n,!0)}(...e)))}catch(t){throw bs(t,"endAt()","Query.endAt()")}}isEqual(e){return pS(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function Z1(n){n=Jt(n,Ki);const e=Jt(n.firestore,Kn),t=Br(e),r=new mp(e);return function s1(n,e){const t=new Fn;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(r=(0,ye.Z)(function*(o,u,h){try{const m=yield r0(o,u,!0),E=new qA(u,m.hi),D=E.Gu(m.documents),M=E.applyChanges(D,!1);h.resolve(M.snapshot)}catch(m){const E=xm(m,`Failed to execute query '${u} against cache`);h.reject(E)}}),function(o,u,h){return r.apply(this,arguments)})(yield tT(n),e,t);var r})),t.promise}(t,n._query).then(o=>new lh(e,r,n,o))}(this._delegate):"server"===(null==e?void 0:e.source)?function W1(n){n=Jt(n,Ki);const e=Jt(n.firestore,Kn),t=Br(e),r=new mp(e);return sS(t,n._query,{source:"server"}).then(o=>new lh(e,r,n,o))}(this._delegate):function z1(n){n=Jt(n,Ki);const e=Jt(n.firestore,Kn),t=Br(e),r=new mp(e);return TS(n._query),sS(t,n._query).then(o=>new lh(e,r,n,o))}(this._delegate),t.then(r=>new gT(this.firestore,new lh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=GS(e),r=qS(e,o=>new gT(this.firestore,new lh(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return LS(this._delegate,t,r)}withConverter(e){return new Cs(this.firestore,this._delegate.withConverter(e?yp.getInstance(this.firestore,e):null))}}class cO{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new b0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class gT{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Cs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new b0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new cO(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new b0(this._firestore,r))})}isEqual(e){return DS(this._delegate,e._delegate)}}class km extends Cs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new fa(this.firestore,e):null}doc(e){try{return new fa(this.firestore,void 0===e?Mb(this._delegate):Mb(this._delegate,e))}catch(t){throw bs(t,"doc()","CollectionReference.doc()")}}add(e){return function Y1(n,e){const t=Jt(n.firestore,Kn),r=Mb(n),o=Lb(n.converter,e);return Pm(t,[Nb(fp(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,Un.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new fa(this.firestore,t))}isEqual(e){return fS(this._delegate,e._delegate)}withConverter(e){return new km(this.firestore,this._delegate.withConverter(e?yp.getInstance(this.firestore,e):null))}}function _p(n){return Jt(n,Bn)}class mT{constructor(...e){this._delegate=new Ec(...e)}static documentId(){return new mT(Vr.keyField().canonicalString())}isEqual(e){return(e=(0,It.m9)(e))instanceof Ec&&this._delegate._internalPath.isEqual(e._internalPath)}}class vp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function tO(){return new oT("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new vp(e)}static delete(){const e=function eO(){return new m0("deleteField")}();return e._methodName="FieldValue.delete",new vp(e)}static arrayUnion(...e){const t=function nO(...n){return new T1("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new vp(t)}static arrayRemove(...e){const t=function rO(...n){return new A1("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new vp(t)}static increment(e){const t=function iO(n){return new S1("increment",n)}(e);return t._methodName="FieldValue.increment",new vp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const dO={Firestore:jS,GeoPoint:Ob,Timestamp:fr,Blob:w0,Transaction:HS,WriteBatch:$S,DocumentReference:fa,DocumentSnapshot:E0,Query:Cs,QueryDocumentSnapshot:b0,QuerySnapshot:gT,CollectionReference:km,FieldPath:mT,FieldValue:vp,setLogLevel:function lO(n){!function tE(n){za.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function zS(n,e){return function pO(n,e=hg.z){return new Rr.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function yT(n,e){return zS(n,e).pipe((0,At.U)(t=>({payload:t,type:"query"})))}function Ub(n,e){return yT(n,e).pipe(Di(void 0),Xy(),(0,At.U)(([t,r])=>{const o=r.payload.docChanges(),u=o.map(h=>({type:h.type,payload:h}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((h,m)=>{const E=o.find(M=>M.doc.ref.isEqual(h.ref)),D=null==t?void 0:t.payload.docs.find(M=>M.ref.isEqual(h.ref));E&&JSON.stringify(E.doc.metadata)===JSON.stringify(h.metadata)||!E&&D&&JSON.stringify(D.metadata)===JSON.stringify(h.metadata)||u.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:h}})}),u}))}function ZS(n,e,t){return Ub(n,t).pipe(Er((r,o)=>function mO(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function yO(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return _T(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return _T(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return _T(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(u=>u.payload),e),[]),function FC(n,e=oi.y){return n=null!=n?n:mA,(0,Nr.e)((t,r)=>{let o,u=!0;t.subscribe((0,Nn.x)(r,h=>{const m=e(h);(u||!n(o,m))&&(u=!1,o=m,r.next(h))}))})}(),(0,At.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function _T(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function WS(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function fO(n){(function hO(n,e){n.INTERNAL.registerComponent(new fd.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},dO)))})(n,(e,t)=>new jS(e,t,new uO)),n.registerVersion("@firebase/firestore-compat","0.1.16")}(pw.Z);class KS{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=Ub(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,At.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(Di(void 0),Xy(),Ui(([r,o])=>o.length>0||!r),(0,At.U)(([r,o])=>o),hi.iC)}auditTrail(e){return this.stateChanges(e).pipe(Er((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=WS(e);return ZS(this.query,t,this.afs.schedulers.outsideAngular).pipe(hi.iC)}valueChanges(e={}){return yT(this.query,this.afs.schedulers.outsideAngular).pipe((0,At.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),hi.iC)}get(e){return(0,An.D)(this.query.get(e)).pipe(hi.iC)}add(e){return this.ref.add(e)}doc(e){return new YS(this.ref.doc(e),this.afs)}}class YS{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:u}=JS(r,t);return new KS(o,u,this.afs)}snapshotChanges(){return function gO(n,e){return zS(n,e).pipe(Di(void 0),Xy(),(0,At.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(hi.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,At.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,An.D)(this.ref.get(e)).pipe(hi.iC)}}class _O{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Ub(this.query,this.afs.schedulers.outsideAngular).pipe((0,At.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Ui(t=>t.length>0),hi.iC):Ub(this.query,this.afs.schedulers.outsideAngular).pipe(hi.iC)}auditTrail(e){return this.stateChanges(e).pipe(Er((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=WS(e);return ZS(this.query,t,this.afs.schedulers.outsideAngular).pipe(hi.iC)}valueChanges(e={}){return yT(this.query,this.afs.schedulers.outsideAngular).pipe((0,At.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),hi.iC)}get(e){return(0,An.D)(this.query.get(e)).pipe(hi.iC)}}const vO=new c.OlP("angularfire2.enableFirestorePersistence"),wO=new c.OlP("angularfire2.firestore.persistenceSettings"),EO=new c.OlP("angularfire2.firestore.settings"),bO=new c.OlP("angularfire2.firestore.use-emulator");function JS(n,e=(t=>t)){return{query:e(n),ref:n}}let CO=(()=>{class n{constructor(t,r,o,u,h,m,E,D,M,O,H,G,se,Fe,et,vt,st){this.schedulers=E;const hn=(0,To.on)(t,m,r),Ct=M;O&&Qy(hn,m,H,se,Fe,et,G,vt),[this.firestore,this.persistenceEnabled$]=(0,To.cc)(`${hn.name}.firestore`,"AngularFirestore",hn.name,()=>{const $t=m.runOutsideAngular(()=>hn.firestore());if(u&&$t.settings(u),Ct&&$t.useEmulator(...Ct),o&&!ur(h)){const Gt=()=>{try{return(0,An.D)($t.enablePersistence(D||void 0).then(()=>!0,()=>!1))}catch(ol){return"undefined"!=typeof console&&console.warn(ol),dt(!1)}};return[$t,m.runOutsideAngular(Gt)]}return[$t,dt(!1)]},[u,Ct,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:h}=JS(o,r),m=this.schedulers.ngZone.run(()=>u);return new KS(m,h,this)}collectionGroup(t,r){const o=r||(h=>h),u=this.firestore.collectionGroup(t);return new _O(o(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new YS(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(To.Dh),c.LFG(To.xv,8),c.LFG(vO,8),c.LFG(EO,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(hi.HU),c.LFG(wO,8),c.LFG(bO,8),c.LFG(of,8),c.LFG(dw,8),c.LFG(dg,8),c.LFG(PC,8),c.LFG(hw,8),c.LFG(Yy,8),c.LFG(Jy,8),c.LFG(Wy,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Bb=(()=>{class n{constructor(t,r,o){this.aFStore=t,this.aFAuth=r,this.AFAuthService=o}setMessege(t){return this.aFStore.collection("ChatStorage").add({ID:Date.now(),hora:t.hora,mensaje:t.message,usuario:this.AFAuthService.username.value})}getMessage(){return this.aFStore.collection("ChatStorage",t=>t.orderBy("ID","asc")).valueChanges()}setUser(t){return this.aFStore.collection("UsersFromEmail").add({FechaRegistro:t.FechaCreacion,email:t.email,usuario:this.AFAuthService.username.value})}getUsers(){return this.aFStore.collection("UsersFromEmail").valueChanges()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(CO),c.LFG(of),c.LFG(ps))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),IO=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-footer"]],decls:11,vars:0,consts:[[1,"footer-container","text-center","text-white"],[1,"main"],[1,"container"],[1,"col"],[1,"mb-12"],["href","https://www.linkedin.com/in/brunogoffredo","role","button",1,"btn","btn-primary","btn-floating","m-1",2,"background-color","#0082ca"],[1,"bi","bi-linkedin"],["href","https://github.com/BrunoGoffre/TPSalaDeJuegos","role","button",1,"btn","btn-primary","btn-floating","m-1",2,"background-color","#333333"],[1,"bi","bi-github"],[1,"text-center","p-3",2,"background-color","#333333"]],template:function(t,r){1&t&&(c.TgZ(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"section",4)(5,"a",5),c._UZ(6,"i",6),c.qZA(),c.TgZ(7,"a",7),c._UZ(8,"i",8),c.qZA()()()(),c.TgZ(9,"div",9),c._uU(10," Lavoratorio IV - Bruno Goffredo - Sala de juegos "),c.qZA()()())},styles:[".footer-container[_ngcontent-%COMP%]{position:sticky;width:100vw;bottom:0;min-width:100vh;min-height:100%;margin-top:90px}.main[_ngcontent-%COMP%]{background-color:#c4c4c4}"]}),n})();function DO(n,e){if(1&n&&(c.TgZ(0,"h3",16),c._uU(1),c.ALo(2,"async"),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.hij("",c.lcZ(2,1,t.userLogged)," ")}}function TO(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",17),c.NdJ("click",function(){return c.CHM(t),c.oxw().SingOut()}),c._UZ(1,"span",18),c._uU(2," Log out "),c.qZA()}}function AO(n,e){1&n&&(c.TgZ(0,"button",19),c._uU(1," Sing in "),c.qZA())}function SO(n,e){1&n&&(c.TgZ(0,"button",20),c._uU(1," Sing up "),c.qZA())}let xO=(()=>{class n{constructor(t,r,o){this.aFAuth=t,this.router=r,this.aFStore=o,this.userLogged=this.aFAuth.username}ngOnInit(){}SingOut(){this.aFAuth.logout(),this.router.navigateByUrl("")}GoTo(t){this.router.navigateByUrl(!0===this.aFAuth.isLogged.value?t:"/login")}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ps),c.Y36(er),c.Y36(Bb))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-header"]],decls:27,vars:12,consts:[[1,"navbar","navbar-expand-xl"],[1,"navbar_container","container-md"],["type","button","data-toggle","collapse","data-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["href","/home",1,"navbar-brand"],["src","../../../assets/controller-Icon.png",1,"logo_navbar"],["data-toggle","modal","id","navbarNav",1,"collapse","navbar-collapse","justify-content-start","order-5","order-lg-2"],[1,"navbar-nav"],[1,"nav-item","active"],["routerLink","/",1,"nav-link"],[1,"nav-link",3,"click"],["class","display_UserName order-4 ml-3",4,"ngIf"],["class","navbar_btn order-4 ml-2",3,"click",4,"ngIf"],["class","navbar_btn btn btn-icon order-4  ml-3","routerLink","/login",4,"ngIf"],["class","navbar_btn btn btn-icon order-4 ml-2","routerLink","/register",4,"ngIf"],[1,"footer"],[1,"display_UserName","order-4","ml-3"],[1,"navbar_btn","order-4","ml-2",3,"click"],[1,"fa","fa-sign-out"],["routerLink","/login",1,"navbar_btn","btn","btn-icon","order-4","ml-3"],["routerLink","/register",1,"navbar_btn","btn","btn-icon","order-4","ml-2"]],template:function(t,r){1&t&&(c.TgZ(0,"header",0)(1,"div",1)(2,"button",2),c._UZ(3,"span",3),c.qZA(),c.TgZ(4,"a",4),c._UZ(5,"img",5),c.qZA(),c.TgZ(6,"div",6)(7,"ul",7)(8,"li",8)(9,"a",9),c._uU(10,"Inicio "),c.qZA()(),c.TgZ(11,"li",8)(12,"a",10),c.NdJ("click",function(){return r.GoTo("/home/games")}),c._uU(13,"Juegos"),c.qZA()(),c.TgZ(14,"li",8)(15,"a",10),c.NdJ("click",function(){return r.GoTo("/home/chat")}),c._uU(16,"Chat"),c.qZA()()()(),c.YNc(17,DO,3,3,"h3",11),c.ALo(18,"async"),c.YNc(19,TO,3,0,"button",12),c.ALo(20,"async"),c.YNc(21,AO,2,0,"button",13),c.ALo(22,"async"),c.YNc(23,SO,2,0,"button",14),c.ALo(24,"async"),c.qZA()(),c._UZ(25,"router-outlet")(26,"app-footer",15)),2&t&&(c.xp6(17),c.Q6J("ngIf",""!=c.lcZ(18,4,r.userLogged)),c.xp6(2),c.Q6J("ngIf",""!=c.lcZ(20,6,r.userLogged)),c.xp6(2),c.Q6J("ngIf",""==c.lcZ(22,8,r.userLogged)),c.xp6(2),c.Q6J("ngIf",""==c.lcZ(24,10,r.userLogged)))},directives:[cd,Or,Yh,Mu,IO],pipes:[al],styles:[".logo_navbar[_ngcontent-%COMP%]{width:60px;height:60}.nav-item[_ngcontent-%COMP%]{cursor:pointer}.navbar[_ngcontent-%COMP%]{background-color:#2b2b2b;width:100vw}.navbar_btn[_ngcontent-%COMP%]{background-color:#ae39a4;font-size:large;color:#000}.display_UserName[_ngcontent-%COMP%]{color:#000}.btn_logOut[_ngcontent-%COMP%]{border-radius:100%}.bd-placeholder-img[_ngcontent-%COMP%]{font-size:1.125rem;text-anchor:middle;-webkit-user-select:none;user-select:none}@media (min-width: 768px){.bd-placeholder-img-lg[_ngcontent-%COMP%]{font-size:3.5rem}}.container[_ngcontent-%COMP%]{max-width:960px}"]}),n})(),MO=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-about-me"]],decls:2,vars:0,template:function(t,r){1&t&&(c.TgZ(0,"p"),c._uU(1,"about-me works!"),c.qZA())},styles:[""]}),n})();class QS{constructor(e,t,r){this.hora=e,this.mensaje=t,this.usuario=r}}let XS=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),wp=(()=>{class n extends XS{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const sl=new c.OlP("NgValueAccessor"),NO={provide:sl,useExisting:(0,c.Gpc)(()=>Fm),multi:!0},kO=new c.OlP("CompositionEventMode");let Fm=(()=>{class n extends XS{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function PO(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(kO,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&c.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[c._Bn([NO]),c.qOj]}),n})();const Yi=new c.OlP("NgValidators"),fh=new c.OlP("NgAsyncValidators");function ix(n){return function hh(n){return null==n||0===n.length}(n.value)?{required:!0}:null}function jb(n){return null}function cx(n){return null!=n}function dx(n){const e=(0,c.QGY)(n)?(0,An.D)(n):n;return(0,c.CqO)(e),e}function hx(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function fx(n,e){return e.map(t=>t(n))}function px(n){return n.map(e=>function LO(n){return!n.validate}(e)?e:t=>e.validate(t))}function vT(n){return null!=n?function gx(n){if(!n)return null;const e=n.filter(cx);return 0==e.length?null:function(t){return hx(fx(t,e))}}(px(n)):null}function wT(n){return null!=n?function mx(n){if(!n)return null;const e=n.filter(cx);return 0==e.length?null:function(t){return function OO(...n){const e=(0,Sn.jO)(n),{args:t,keys:r}=bi(n),o=new Rr.y(u=>{const{length:h}=t;if(!h)return void u.complete();const m=new Array(h);let E=h,D=h;for(let M=0;M<h;M++){let O=!1;(0,$o.Xf)(t[M]).subscribe((0,Nn.x)(u,H=>{O||(O=!0,D--),m[M]=H},()=>E--,void 0,()=>{(!E||!O)&&(D||u.next(r?yo(r,m):m),u.complete())}))}});return e?o.pipe($c(e)):o}(fx(t,e).map(dx)).pipe((0,At.U)(hx))}}(px(n)):null}function yx(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function ET(n){return n?Array.isArray(n)?n:[n]:[]}function Hb(n,e){return Array.isArray(n)?n.includes(e):n===e}function wx(n,e){const t=ET(e);return ET(n).forEach(o=>{Hb(t,o)||t.push(o)}),t}function Ex(n,e){return ET(e).filter(t=>!Hb(n,t))}class bx{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=vT(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=wT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class ph extends bx{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Is extends bx{get formDirective(){return null}get path(){return null}}class Cx{constructor(e){this._cd=e}is(e){var t,r,o;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(o=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===o?void 0:o[e])}}let $b=(()=>{class n extends Cx{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ph,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[c.qOj]}),n})(),Ix=(()=>{class n extends Cx{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Is,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[c.qOj]}),n})();function C0(n,e){IT(n,e),e.valueAccessor.writeValue(n.value),function qO(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Tx(n,e)})}(n,e),function ZO(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function zO(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Tx(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function GO(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Zb(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function IT(n,e){const t=function _x(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(yx(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function vx(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(yx(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();Zb(e._rawValidators,o),Zb(e._rawAsyncValidators,o)}function Tx(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function AT(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const I0="VALID",Kb="INVALID",Lm="PENDING",D0="DISABLED";function xT(n){return(Yb(n)?n.validators:n)||null}function Mx(n){return Array.isArray(n)?vT(n):n||null}function MT(n,e){return(Yb(e)?e.asyncValidators:n)||null}function Ox(n){return Array.isArray(n)?wT(n):n||null}function Yb(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const OT=n=>n instanceof NT;function Nx(n){return(n=>n instanceof Fx)(n)?n.value:n.getRawValue()}function Px(n,e){const t=OT(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new c.vHH(1e3,"");if(!r[e])throw new c.vHH(1001,"")}function kx(n,e){OT(n),n._forEachChild((r,o)=>{if(void 0===e[o])throw new c.vHH(1002,"")})}class RT{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Mx(this._rawValidators),this._composedAsyncValidatorFn=Ox(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===I0}get invalid(){return this.status===Kb}get pending(){return this.status==Lm}get disabled(){return this.status===D0}get enabled(){return this.status!==D0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Mx(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Ox(e)}addValidators(e){this.setValidators(wx(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(wx(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Ex(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Ex(e,this._rawAsyncValidators))}hasValidator(e){return Hb(this._rawValidators,e)}hasAsyncValidator(e){return Hb(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Lm,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=D0,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=I0,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===I0||this.status===Lm)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?D0:I0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Lm,this._hasOwnPendingAsyncValidator=!0;const t=dx(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function JO(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(o=>{r=OT(r)?r.controls.hasOwnProperty(o)?r.controls[o]:null:(n=>n instanceof XO)(r)&&r.at(o)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?D0:this.errors?Kb:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Lm)?Lm:this._anyControlsHaveStatus(Kb)?Kb:I0}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Yb(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Fx extends RT{constructor(e=null,t,r){super(xT(t),MT(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Yb(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){AT(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){AT(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class NT extends RT{constructor(e,t,r){super(xT(t),MT(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){kx(this,e),Object.keys(e).forEach(r=>{Px(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=Nx(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,u)=>{r=t(r,o,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class XO extends RT{constructor(e,t,r){super(xT(t),MT(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){kx(this,e),e.forEach((r,o)=>{Px(this,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>Nx(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const eR={provide:Is,useExisting:(0,c.Gpc)(()=>Jb)},T0=(()=>Promise.resolve(null))();let Jb=(()=>{class n extends Is{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new NT({},vT(t),wT(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){T0.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),C0(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){T0.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){T0.then(()=>{const r=this._findContainer(t.path),o=new NT({});(function Ax(n,e){IT(n,e)})(o,t),r.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){T0.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){T0.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function xx(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Yi,10),c.Y36(fh,10))},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&c.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([eR]),c.qOj]}),n})();const nR={provide:ph,useExisting:(0,c.Gpc)(()=>A0)},Ux=(()=>Promise.resolve(null))();let A0=(()=>{class n extends ph{constructor(t,r,o,u,h){super(),this._changeDetectorRef=h,this.control=new Fx,this._registered=!1,this.update=new c.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function TT(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(u=>{u.constructor===Fm?t=u:function YO(n){return Object.getPrototypeOf(n.constructor)===wp}(u)?r=u:o=u}),o||r||t||null}(0,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function DT(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){C0(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Ux.then(()=>{var r;this.control.setValue(t,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,o=""===r||r&&"false"!==r;Ux.then(()=>{var u;o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),null===(u=this._changeDetectorRef)||void 0===u||u.markForCheck()})}_getPath(t){return this._parent?function qb(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Is,9),c.Y36(Yi,10),c.Y36(fh,10),c.Y36(sl,10),c.Y36(c.sBO,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([nR]),c.qOj,c.TTD]}),n})(),Bx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Hx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),Ep=(()=>{class n{constructor(){this._validator=jb}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):jb,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,features:[c.TTD]}),n})();const ER={provide:Yi,useExisting:(0,c.Gpc)(()=>Qb),multi:!0};let Qb=(()=>{class n extends Ep{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=t=>function _R(n){return null!=n&&!1!==n&&"false"!=`${n}`}(t),this.createValidator=t=>ix}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&c.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[c._Bn([ER]),c.qOj]}),n})(),AR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Hx]]}),n})(),SR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[AR]}),n})();function xR(n,e){if(1&n&&(c.TgZ(0,"div",12)(1,"h3",13),c._uU(2),c.TgZ(3,"small",14),c._uU(4),c.qZA()(),c.TgZ(5,"div",15),c._uU(6),c.qZA()()),2&n){const t=e.$implicit;c.xp6(2),c.hij("",t.usuario," "),c.xp6(2),c.Oqu(t.hora),c.xp6(2),c.hij(" ",t.mensaje," ")}}const MR=function(){return{standalone:!0}};let OR=(()=>{class n{constructor(t,r,o){this.aFAuth=t,this.router=r,this.aFStore=o,this.messages=[],this.horaMensajeViejo="",this.Date=new Date,this.firsTime=!0,this.username=t.username,this.message=new QS("","","")}ngOnInit(){this.getMessages()}submit(){""!=this.message.mensaje&&null!=this.message&&(this.message.hora=this.Date.getHours()+":"+this.Date.getMinutes(),this.message.usuario=this.aFAuth.username.value,this.messages.push(this.message),this.aFStore.setMessege({hora:this.message.hora,message:this.message.mensaje}),this.message=this.clearMesagge())}getMessages(){this.aFStore.getMessage().subscribe(t=>{1==this.firsTime&&(this.messages=t,this.firsTime=!1,console.log(t))})}clearMesagge(){return new QS("","","")}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ps),c.Y36(er),c.Y36(Bb))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-chat"]],decls:17,vars:4,consts:[[1,"page-header"],[1,"container"],[1,"main"],[1,"chat-log"],["class","chat-log__item",4,"ngFor","ngForOf"],[1,"chat-form"],[1,"form-horizontal",3,"ngSubmit"],[1,"row"],[1,"col-sm-10","col-xs-8"],["type","input","id","message","placeholder","Message","required","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],[1,"col-sm-2","col-xs-4"],["type","submit",1,"btn","btn-success","btn-block"],[1,"chat-log__item"],[1,"chat-log__author"],[1,"chat-log__date"],[1,"chat-log__message"]],template:function(t,r){1&t&&(c.TgZ(0,"header",0)(1,"div",1)(2,"h2"),c._uU(3,"Global Chat"),c.qZA()()(),c.TgZ(4,"div",2)(5,"div",1)(6,"div",3),c.YNc(7,xR,7,3,"div",4),c.qZA()(),c.TgZ(8,"div",5)(9,"div",1)(10,"form",6),c.NdJ("ngSubmit",function(){return r.submit()}),c.TgZ(11,"div",7)(12,"div",8)(13,"input",9),c.NdJ("ngModelChange",function(u){return r.message.mensaje=u}),c.qZA()(),c.TgZ(14,"div",10)(15,"button",11),c._uU(16,"Send"),c.qZA()()()()()()()),2&t&&(c.xp6(7),c.Q6J("ngForOf",r.messages),c.xp6(6),c.Q6J("ngModel",r.message.mensaje)("ngModelOptions",c.DdM(3,MR)))},directives:[Xn,Bx,Ix,Jb,Fm,Qb,$b,A0],styles:[".page-header[_ngcontent-%COMP%]{background:#006A4E;margin:0;padding:20px 0 10px;color:#fff;position:absolute;width:100%;z-index:1}.main[_ngcontent-%COMP%]{height:80%;width:100%;background-image:url(Background.chat.87282786be786490.jpg);background-repeat:repeat}.chat-log[_ngcontent-%COMP%]{padding:40px 0 114px;height:auto;overflow:auto;margin-top:70px;height:75vh}.chat-log__item[_ngcontent-%COMP%]{background:#9b9b9b;padding:10px;margin:0 auto 20px;max-width:80%;float:left;border-radius:4px;box-shadow:0 1px 2px #0000001a;clear:both}.chat-log__item.chat-log__item--own[_ngcontent-%COMP%]{float:right;background:#DCF8C6;text-align:right}.chat-form[_ngcontent-%COMP%]{background:#DDDDDD;padding:40px 0;position:absolute;bottom:0;width:100%}.chat-log__author[_ngcontent-%COMP%]{margin:0 auto .5em;font-size:15px;font-weight:700}.chat-log__date[_ngcontent-%COMP%]{align-items:right;font-size:12px}.chat-log__message[_ngcontent-%COMP%]{font-size:20px;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}"]}),n})(),RR=(()=>{class n{constructor(t){this.ruteo=t}goBackHome(){this.ruteo.navigateByUrl("home")}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(er))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-error"]],decls:22,vars:0,consts:[["id","background"],[1,"top"],[1,"container"],[1,"ghost-copy"],[1,"one"],[1,"two"],[1,"three"],[1,"four"],[1,"ghost"],[1,"face"],[1,"eye"],[1,"eye-right"],[1,"mouth"],[1,"shadow"],[1,"bottom"],[1,"buttons"],[1,"btn",3,"click"]],template:function(t,r){1&t&&(c._UZ(0,"div",0),c.TgZ(1,"div",1)(2,"h1"),c._uU(3,"404"),c.qZA(),c.TgZ(4,"h3"),c._uU(5,"page not found"),c.qZA()(),c.TgZ(6,"div",2)(7,"div",3),c._UZ(8,"div",4)(9,"div",5)(10,"div",6)(11,"div",7),c.qZA(),c.TgZ(12,"div",8)(13,"div",9),c._UZ(14,"div",10)(15,"div",11)(16,"div",12),c.qZA()(),c._UZ(17,"div",13),c.qZA(),c.TgZ(18,"div",14)(19,"div",15)(20,"button",16),c.NdJ("click",function(){return r.goBackHome()}),c._uU(21,"Home"),c.qZA()()())},styles:['@import"https://fonts.googleapis.com/css?family=Abril+Fatface|Lato";body[_ngcontent-%COMP%]{background:#D3DEEA}.top[_ngcontent-%COMP%]{margin-top:30px}.container[_ngcontent-%COMP%]{margin:-10px auto 0;position:relative;width:250px;height:250px}.ghost[_ngcontent-%COMP%]{width:50%;height:53%;left:25%;top:10%;position:absolute;border-radius:50% 50% 0 0;background:#EDEDED;border:1px solid #BFC0C0;border-bottom:none;animation:float 2s ease-out infinite}.ghost-copy[_ngcontent-%COMP%]{width:50%;height:53%;left:25%;top:10%;position:absolute;border-radius:50% 50% 0 0;background:#EDEDED;border:1px solid #BFC0C0;border-bottom:none;animation:float 2s ease-out infinite;z-index:0}.face[_ngcontent-%COMP%]{position:absolute;width:100%;height:60%;top:20%}.eye[_ngcontent-%COMP%], .eye-right[_ngcontent-%COMP%]{position:absolute;background:#585959;width:13px;height:13px;border-radius:50%;top:40%}.eye[_ngcontent-%COMP%]{left:25%}.eye-right[_ngcontent-%COMP%]{right:25%}.mouth[_ngcontent-%COMP%]{position:absolute;top:50%;left:45%;width:10px;height:10px;border:3px solid;border-radius:50%;border-color:transparent #585959 #585959 transparent;transform:rotate(45deg)}.one[_ngcontent-%COMP%], .two[_ngcontent-%COMP%], .three[_ngcontent-%COMP%], .four[_ngcontent-%COMP%]{position:absolute;background:#EDEDED;top:85%;width:25%;height:23%;border:1px solid #BFC0C0;z-index:0}.one[_ngcontent-%COMP%]{border-radius:0 0 100% 30%;left:-1px}.two[_ngcontent-%COMP%]{left:23%;border-radius:0 0 50% 50%}.three[_ngcontent-%COMP%]{left:50%;border-radius:0 0 50% 50%}.four[_ngcontent-%COMP%]{left:74.5%;border-radius:0 0 30% 100%}.shadow[_ngcontent-%COMP%]{position:absolute;width:30%;height:7%;background:#BFC0C0;left:35%;top:80%;border-radius:50%;animation:scale 2s infinite}@keyframes scale{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}@keyframes float{50%{transform:translateY(15px)}}.bottom[_ngcontent-%COMP%]{margin-top:10px}h1[_ngcontent-%COMP%]{font-family:Abril Fatface,serif;color:#ededed;text-align:center;font-size:9em;margin:0;text-shadow:-1px 0 #5e5d5d,0 1px #5e5d5d,1px 0 #BFC0C0,0 -1px #BFC0C0}h3[_ngcontent-%COMP%]{font-family:Lato,sans-serif;font-size:2em;text-transform:uppercase;text-align:center;color:#5e5d5d;margin-top:-20px;font-weight:900}p[_ngcontent-%COMP%]{text-align:center;font-family:Lato,sans-serif;color:#585959;font-size:.6em;margin-top:-20px;text-transform:uppercase}.buttons[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-top:10px}.btn[_ngcontent-%COMP%]{background:#c5c5c5;padding:15px 20px;margin:5px;color:#000;font-family:Lato,sans-serif;text-transform:uppercase;font-size:.6em;letter-spacing:1px;border:1;border-radius:10%}.btn[_ngcontent-%COMP%]:hover{background:#BFC0C0;transition:all .4s ease-out}']}),n})(),NR=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-ahorcado"]],decls:2,vars:0,template:function(t,r){1&t&&(c.TgZ(0,"p"),c._uU(1,"ahorcado works!"),c.qZA())},styles:[""]}),n})();class oM{constructor(e,t,r,o,u,h){this.category=e,this.type=t,this.difficulty=r,this.question=o,this.correct_answer=u,this.incorrect_answers=h}}class aM{}class uM{}class Cc{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const o=t.slice(0,r),u=o.toLowerCase(),h=t.slice(r+1).trim();this.maybeSetNormalizedName(o,u),this.headers.has(u)?this.headers.get(u).push(h):this.headers.set(u,[h])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const o=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(o,r),this.maybeSetNormalizedName(t,o))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Cc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Cc;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Cc?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const o=("a"===e.op?this.headers.get(t):void 0)||[];o.push(...r),this.headers.set(t,o);break;case"d":const u=e.value;if(u){let h=this.headers.get(t);if(!h)return;h=h.filter(m=>-1===u.indexOf(m)),0===h.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,h)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class PR{encodeKey(e){return lM(e)}encodeValue(e){return lM(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const FR=/%(\d[a-f0-9])/gi,LR={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function lM(n){return encodeURIComponent(n).replace(FR,(e,t)=>{var r;return null!==(r=LR[t])&&void 0!==r?r:e})}function cM(n){return`${n}`}class gh{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new PR,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function kR(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const u=o.indexOf("="),[h,m]=-1==u?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,u)),e.decodeValue(o.slice(u+1))],E=t.get(h)||[];E.push(m),t.set(h,E)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const o=e[r];Array.isArray(o)?o.forEach(u=>{t.push({param:r,value:u,op:"a"})}):t.push({param:r,value:o,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new gh({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(cM(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const o=r.indexOf(cM(e.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class VR{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function dM(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function hM(n){return"undefined"!=typeof Blob&&n instanceof Blob}function fM(n){return"undefined"!=typeof FormData&&n instanceof FormData}class S0{constructor(e,t,r,o){let u;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function UR(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,u=o):u=r,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new Cc),this.context||(this.context=new VR),this.params){const h=this.params.toString();if(0===h.length)this.urlWithParams=t;else{const m=t.indexOf("?");this.urlWithParams=t+(-1===m?"?":m<t.length-1?"&":"")+h}}else this.params=new gh,this.urlWithParams=t}serializeBody(){return null===this.body?null:dM(this.body)||hM(this.body)||fM(this.body)||function BR(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof gh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||fM(this.body)?null:hM(this.body)?this.body.type||null:dM(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof gh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,o=e.url||this.url,u=e.responseType||this.responseType,h=void 0!==e.body?e.body:this.body,m=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,E=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let D=e.headers||this.headers,M=e.params||this.params;const O=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(D=Object.keys(e.setHeaders).reduce((H,G)=>H.set(G,e.setHeaders[G]),D)),e.setParams&&(M=Object.keys(e.setParams).reduce((H,G)=>H.set(G,e.setParams[G]),M)),new S0(r,o,h,{params:M,headers:D,context:O,reportProgress:E,responseType:u,withCredentials:m})}}var jr=(()=>((jr=jr||{})[jr.Sent=0]="Sent",jr[jr.UploadProgress=1]="UploadProgress",jr[jr.ResponseHeader=2]="ResponseHeader",jr[jr.DownloadProgress=3]="DownloadProgress",jr[jr.Response=4]="Response",jr[jr.User=5]="User",jr))();class UT{constructor(e,t=200,r="OK"){this.headers=e.headers||new Cc,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class BT extends UT{constructor(e={}){super(e),this.type=jr.ResponseHeader}clone(e={}){return new BT({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Xb extends UT{constructor(e={}){super(e),this.type=jr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Xb({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class pM extends UT{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function jT(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let gM=(()=>{class n{constructor(t){this.handler=t}request(t,r,o={}){let u;if(t instanceof S0)u=t;else{let E,D;E=o.headers instanceof Cc?o.headers:new Cc(o.headers),o.params&&(D=o.params instanceof gh?o.params:new gh({fromObject:o.params})),u=new S0(t,r,void 0!==o.body?o.body:null,{headers:E,context:o.context,params:D,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const h=dt(u).pipe(ls(E=>this.handler.handle(E)));if(t instanceof S0||"events"===o.observe)return h;const m=h.pipe(Ui(E=>E instanceof Xb));switch(o.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return m.pipe((0,At.U)(E=>{if(null!==E.body&&!(E.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return E.body}));case"blob":return m.pipe((0,At.U)(E=>{if(null!==E.body&&!(E.body instanceof Blob))throw new Error("Response is not a Blob.");return E.body}));case"text":return m.pipe((0,At.U)(E=>{if(null!==E.body&&"string"!=typeof E.body)throw new Error("Response is not a string.");return E.body}));default:return m.pipe((0,At.U)(E=>E.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new gh).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,o={}){return this.request("PATCH",t,jT(o,r))}post(t,r,o={}){return this.request("POST",t,jT(o,r))}put(t,r,o={}){return this.request("PUT",t,jT(o,r))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(aM))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class mM{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const yM=new c.OlP("HTTP_INTERCEPTORS");let jR=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const HR=/^\)\]\}',?\n/;let _M=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Rr.y(r=>{const o=this.xhrFactory.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((G,se)=>o.setRequestHeader(G,se.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const G=t.detectContentTypeHeader();null!==G&&o.setRequestHeader("Content-Type",G)}if(t.responseType){const G=t.responseType.toLowerCase();o.responseType="json"!==G?G:"text"}const u=t.serializeBody();let h=null;const m=()=>{if(null!==h)return h;const G=o.statusText||"OK",se=new Cc(o.getAllResponseHeaders()),Fe=function $R(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||t.url;return h=new BT({headers:se,status:o.status,statusText:G,url:Fe}),h},E=()=>{let{headers:G,status:se,statusText:Fe,url:et}=m(),vt=null;204!==se&&(vt=void 0===o.response?o.responseText:o.response),0===se&&(se=vt?200:0);let st=se>=200&&se<300;if("json"===t.responseType&&"string"==typeof vt){const hn=vt;vt=vt.replace(HR,"");try{vt=""!==vt?JSON.parse(vt):null}catch(Ct){vt=hn,st&&(st=!1,vt={error:Ct,text:vt})}}st?(r.next(new Xb({body:vt,headers:G,status:se,statusText:Fe,url:et||void 0})),r.complete()):r.error(new pM({error:vt,headers:G,status:se,statusText:Fe,url:et||void 0}))},D=G=>{const{url:se}=m(),Fe=new pM({error:G,status:o.status||0,statusText:o.statusText||"Unknown Error",url:se||void 0});r.error(Fe)};let M=!1;const O=G=>{M||(r.next(m()),M=!0);let se={type:jr.DownloadProgress,loaded:G.loaded};G.lengthComputable&&(se.total=G.total),"text"===t.responseType&&!!o.responseText&&(se.partialText=o.responseText),r.next(se)},H=G=>{let se={type:jr.UploadProgress,loaded:G.loaded};G.lengthComputable&&(se.total=G.total),r.next(se)};return o.addEventListener("load",E),o.addEventListener("error",D),o.addEventListener("timeout",D),o.addEventListener("abort",D),t.reportProgress&&(o.addEventListener("progress",O),null!==u&&o.upload&&o.upload.addEventListener("progress",H)),o.send(u),r.next({type:jr.Sent}),()=>{o.removeEventListener("error",D),o.removeEventListener("abort",D),o.removeEventListener("load",E),o.removeEventListener("timeout",D),t.reportProgress&&(o.removeEventListener("progress",O),null!==u&&o.upload&&o.upload.removeEventListener("progress",H)),o.readyState!==o.DONE&&o.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(un))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const HT=new c.OlP("XSRF_COOKIE_NAME"),$T=new c.OlP("XSRF_HEADER_NAME");class vM{}let GR=(()=>{class n{constructor(t,r,o){this.doc=t,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=oo(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(J),c.LFG(c.Lbi),c.LFG(HT))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),GT=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const o=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||o.startsWith("http://")||o.startsWith("https://"))return r.handle(t);const u=this.tokenService.getToken();return null!==u&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,u)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(vM),c.LFG($T))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),qR=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(yM,[]);this.chain=r.reduceRight((o,u)=>new mM(o,u),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(uM),c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),zR=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:GT,useClass:jR}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:HT,useValue:t.cookieName}:[],t.headerName?{provide:$T,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[GT,{provide:yM,useExisting:GT,multi:!0},{provide:vM,useClass:GR},{provide:HT,useValue:"XSRF-TOKEN"},{provide:$T,useValue:"X-XSRF-TOKEN"}]}),n})(),ZR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[gM,{provide:aM,useClass:qR},_M,{provide:uM,useExisting:_M}],imports:[[zR.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})(),WR=(()=>{class n{constructor(t){this.http=t,this.URLPreguntas="https://opentdb.com/api.php?amount=1&category="}GetPreguntas(t){return this.http.get(this.URLPreguntas+t+"&difficulty=easy&type=multiple")}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(gM))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function KR(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",5)(1,"h3"),c._uU(2,"Elije una categoria para jugar"),c.qZA(),c.TgZ(3,"button",6),c.NdJ("click",function(o){return c.CHM(t),c.oxw().getCategoria(o)}),c._uU(4,"Deportes"),c.qZA(),c.TgZ(5,"button",7),c.NdJ("click",function(o){return c.CHM(t),c.oxw().getCategoria(o)}),c._uU(6,"Geografia"),c.qZA(),c.TgZ(7,"button",8),c.NdJ("click",function(o){return c.CHM(t),c.oxw().getCategoria(o)}),c._uU(8,"Historia"),c.qZA(),c.TgZ(9,"button",9),c.NdJ("click",function(o){return c.CHM(t),c.oxw().getCategoria(o)}),c._uU(10,"Arte"),c.qZA(),c.TgZ(11,"button",10),c.NdJ("click",function(o){return c.CHM(t),c.oxw().getCategoria(o)}),c._uU(12,"Ciencias Naturales"),c.qZA(),c.TgZ(13,"button",11),c.NdJ("click",function(o){return c.CHM(t),c.oxw().getCategoria(o)}),c._uU(14,"Conocimiento general"),c.qZA()()}}function YR(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",22)(1,"button",23),c.NdJ("click",function(o){return c.CHM(t),c.oxw(3).isCorrect(o)}),c._uU(2),c.qZA()()}if(2&n){const t=e.$implicit;c.xp6(1),c.s9C("value",t),c.xp6(1),c.Oqu(t)}}function JR(n,e){if(1&n&&(c.TgZ(0,"div",15)(1,"div",16)(2,"div",17)(3,"h3",18),c._uU(4),c.qZA(),c.TgZ(5,"h1",19),c._uU(6),c.qZA()(),c.TgZ(7,"div",20),c.YNc(8,YR,3,2,"div",21),c.qZA()()()),2&n){const t=c.oxw(2);c.xp6(4),c.Oqu(t.pregunta.question),c.xp6(2),c.Oqu(t.Puntaje),c.xp6(2),c.Q6J("ngForOf",t.pregunta.incorrect_answers)}}function QR(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"h1"),c._uU(1,"Perdiste!!"),c.qZA(),c.TgZ(2,"h3"),c._uU(3),c.qZA(),c.TgZ(4,"button",24),c.NdJ("click",function(){return c.CHM(t),c.oxw(2).IntentarOtraVez()}),c._uU(5,"Intentar otra vez"),c.qZA(),c.TgZ(6,"button",24),c.NdJ("click",function(){return c.CHM(t),c.oxw(2).ElejirOtraCategoria()}),c._uU(7,"Elejir otra categoria"),c.qZA()}if(2&n){const t=c.oxw(2);c.xp6(3),c.hij("Puntaje: ",t.Puntaje,"")}}function XR(n,e){if(1&n&&(c.YNc(0,JR,9,3,"div",12),c.YNc(1,QR,8,1,"ng-template",13,14,c.W1O)),2&n){const t=c.MAs(2),r=c.oxw();c.Q6J("ngIf",0==r.perdio)("ngIfElse",t)}}let eN=(()=>{class n{constructor(t){this.preguntadoService=t,this.numero=2,this.esperando=!0,this.Puntaje=0,this.perdio=!1,this.categoria=null,this.pregunta=new oM("","","","","",[]),this.categoria=null}ngOnInit(){}GetPregunta(t){var r=this;return(0,ye.Z)(function*(){r.preguntadoService.GetPreguntas(t).subscribe(o=>{r.pregunta=o.results[0],r.pregunta.incorrect_answers.splice(4*Math.random()+1,0,r.pregunta.correct_answer)})})()}isCorrect(t){t.target.value==this.pregunta.correct_answer?(this.Puntaje++,this.GetPregunta(this.categoria)):this.perdio=!0}IntentarOtraVez(){this.GetPregunta(this.categoria),this.Puntaje=0,this.perdio=!1}getCategoria(t){this.categoria=t.target.value,this.GetPregunta(this.categoria).then(()=>{this.esperando=!1})}ElejirOtraCategoria(){this.pregunta=new oM("","","","","",[]),this.categoria=null,this.Puntaje=0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(WR))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-preguntados"]],decls:6,vars:2,consts:[[1,"container"],[1,"row","text-center"],[1,"pregunta_container"],["class","Category-selector row",4,"ngIf","ngIfElse"],["Juego",""],[1,"Category-selector","row"],["value","21",1,"btn","btn-secondary","col-5","m-1",3,"click"],["value","22",1,"btn","btn-secondary","col-5","m-1",3,"click"],["value","23",1,"btn","btn-secondary","col-5","m-1",3,"click"],["value","25",1,"btn","btn-secondary","col-5","m-1",3,"click"],["value","17",1,"btn","btn-secondary","col-5","m-1",3,"click"],["value","9",1,"btn","btn-secondary","col-5","m-1",3,"click"],["class","game_playing",4,"ngIf","ngIfElse"],["class","CartelPerdio"],["CartelPerdio",""],[1,"game_playing"],[1,"pregunta"],[1,"pregunta","row","mb-3"],[1,"pregunta","col-10"],[1,"col-2"],[1,"row"],["class","respuestas col-3 ",4,"ngFor","ngForOf"],[1,"respuestas","col-3"],[1,"btn","btn-primary",3,"value","click"],[1,"btn","btn-secondary","col-12","m-1",3,"click"]],template:function(t,r){if(1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2),c.YNc(3,KR,15,0,"div",3),c.YNc(4,XR,3,2,"ng-template",null,4,c.W1O),c.qZA()()()),2&t){const o=c.MAs(5);c.xp6(3),c.Q6J("ngIf",null==r.categoria)("ngIfElse",o)}},directives:[Or,Xn],styles:[".respuestas[_ngcontent-%COMP%]{height:40px;width:200px;align-items:center}.Category-selector[_ngcontent-%COMP%]{align-items:center}"]}),n})();class qT{constructor(e,t){this.scale=e,this.position=t}draw(e){e.fillRect(this.position.x*this.scale,this.position.y*this.scale,this.scale,this.scale)}}var pa=(()=>(function(n){n[n.LEFT=0]="LEFT",n[n.UP=1]="UP",n[n.RIGHT=2]="RIGHT",n[n.DOWN=3]="DOWN"}(pa||(pa={})),pa))();class tN extends qT{constructor(e,t){super(e,t),this.direction=pa.RIGHT,this.tail=[]}draw(e){e.fillStyle="#0fd24f",super.draw(e),e.fillStyle="#29a050",this.tail.forEach(t=>t.draw(e))}move(e,t){let r=this.position.x,o=this.position.y;switch(this.direction){case pa.LEFT:this.position.x--;break;case pa.UP:this.position.y--;break;case pa.RIGHT:this.position.x++;break;case pa.DOWN:this.position.y++}this.position.x<0&&(this.position.x=e),this.position.y<0&&(this.position.y=t),this.position.x>e&&(this.position.x=0),this.position.y>t&&(this.position.y=0);for(let u of this.tail){if(this.position.equals(u.position))return!0;const h=u.position.x,m=u.position.y;u.position.set(r,o),r=h,o=m}return!1}eat(e){this.tail.push(new qT(this.scale,e.position))}}class zT{constructor(e,t){this.x=e,this.y=t}set(e,t){this.x=e,this.y=t}equals(e){return this.x==e.x&&this.y==e.y}}class wM extends qT{constructor(e,t){super(e,t)}draw(e){e.fillStyle="#ec0f36",super.draw(e)}}class EM{static Generate(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}}var nN=N(2005),bp=(()=>(function(n){n[n.ARROW_LEFT=37]="ARROW_LEFT",n[n.ARROW_UP=38]="ARROW_UP",n[n.ARROW_RIGHT=39]="ARROW_RIGHT",n[n.ARROW_DOWN=40]="ARROW_DOWN"}(bp||(bp={})),bp))();const rN={width:40,height:30,scale:15,speed:50};class iN extends nN.EventEmitter{constructor(e,t={}){super(),this.food=new wM(0,new zT(0,0)),this.timestamp=0,this.nextKey=null,this._score=0,this.context=e.getContext("2d"),this.settings=Object.assign(Object.assign({},rN),t),this.snake=new tN(this.settings.scale,new zT(0,0))}start(){this.canvas.width=this.settings.width*this.settings.scale,this.canvas.height=this.settings.height*this.settings.scale,this.attachKeyboard(),this.placeFood(),this.update()}placeFood(){const e=EM.Generate(0,this.settings.width-1),t=EM.Generate(0,this.settings.height-1);this.food=new wM(this.settings.scale,new zT(e,t))}attachKeyboard(){document.addEventListener("keydown",e=>{(null==this.nextKey||this.nextKey!=e.keyCode)&&(this.nextKey=e.keyCode)})}update(e){if(e=e||0,this.context.fillStyle="black",this.context.fillRect(0,0,this.canvas.width,this.canvas.height),this.snake.draw(this.context),this.timestamp&&this.settings.speed&&this.settings.width&&this.settings.height&&(console.log("Entro"),e-this.timestamp>=this.settings.speed)){if(this.timestamp=e,this.checkKey(),this.snake.move(this.settings.width-1,this.settings.height-1))return void this.emit("over",this._score);this.checkFoodCollision()}this.food.draw(this.context),requestAnimationFrame(this.update.bind(this))}checkKey(){if(null!=this.nextKey){switch(this.nextKey){case bp.ARROW_LEFT:this.snake.direction=pa.LEFT;break;case bp.ARROW_UP:this.snake.direction=pa.UP;break;case bp.ARROW_RIGHT:this.snake.direction=pa.RIGHT;break;case bp.ARROW_DOWN:this.snake.direction=pa.DOWN}this.nextKey=null}}checkFoodCollision(){this.snake.position.equals(this.food.position)&&(this.snake.eat(this.food),this.emit("score",++this._score),this.placeFood())}get canvas(){return this.context.canvas}}let sN=(()=>{class n{ngOnInit(){this.StarGame()}StarGame(){return(0,ye.Z)(function*(){const t=document.getElementById("arena"),r=new iN(t),o=document.getElementById("score");r.on("score",u=>o.innerHTML=u),r.on("over",u=>alert("Game over!\nRefresh page for new game.")),r.start()})()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-snake"]],decls:12,vars:0,consts:[["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],["http-equiv","X-UA-Compatible","content","ie=edge"],["id","arena"],["id","score"]],template:function(t,r){1&t&&(c.TgZ(0,"head"),c._UZ(1,"meta",0)(2,"meta",1)(3,"meta",2),c.TgZ(4,"title"),c._uU(5,"Snake"),c.qZA()(),c.TgZ(6,"div"),c._UZ(7,"canvas",3),c.TgZ(8,"p"),c._uU(9," Score: "),c.TgZ(10,"span",4),c._uU(11,"0"),c.qZA()()())},styles:["p[_ngcontent-%COMP%]{font-size:25px}#arena[_ngcontent-%COMP%]{border:5px solid black}"]}),n})();function oN(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",1)(1,"h1",18),c._uU(2,"Ahorcado"),c.qZA(),c.TgZ(3,"h4",18),c._uU(4,"\xbfComo jugar?"),c.qZA(),c.TgZ(5,"p"),c._uU(6,"- El ahorcado es un juego en el que tenes que adiviniar la palabra antes de que ahorquen al personaje. "),c.qZA(),c.TgZ(7,"p"),c._uU(8,"- Puedes fallar hasta 5 veces antes de que se muera el personaje."),c.qZA(),c.TgZ(9,"p"),c._uU(10,"- Completa en el cuadro de texto con la palabra que quieres ingresar y luego presiona Enter o el boton intentar."),c.qZA(),c.TgZ(11,"p"),c._uU(12,'- Para empezar a jugar presiona el boton "Comenzar a jugar".'),c.qZA(),c.TgZ(13,"button",19),c.NdJ("click",function(){return c.CHM(t),c.oxw(2).EmpiezaAJugar()}),c._uU(14,"Comenzar a jugar"),c.qZA()()}}function aN(n,e){1&n&&(c.TgZ(0,"div",1),c._UZ(1,"app-ahorcado"),c.qZA())}function uN(n,e){if(1&n&&(c.TgZ(0,"div",14)(1,"div",15),c.YNc(2,oN,15,0,"div",16),c.YNc(3,aN,2,0,"div",16),c.qZA(),c.TgZ(4,"div",17)(5,"p"),c._uU(6,"Puntajes mas altos"),c.qZA()()()),2&n){const t=c.oxw();c.xp6(2),c.Q6J("ngIf",0==t.empiezaAJugar),c.xp6(1),c.Q6J("ngIf",1==t.empiezaAJugar)}}function lN(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",1)(1,"h1",18),c._uU(2,"Mayor o Menor"),c.qZA(),c.TgZ(3,"h4",18),c._uU(4,"\xbfComo jugar?"),c.qZA(),c.TgZ(5,"p"),c._uU(6,"- El Mayor o menor es un juego en el que hay que predecir si la siguiente carta es mayor o menor que la carta que ves."),c.qZA(),c.TgZ(7,"p"),c._uU(8,"- Tienes un solo intento y si fallas el contador de puntos empezara devuelta."),c.qZA(),c.TgZ(9,"p"),c._uU(10,"- Para jugar presiona en alguno de los botones (Mayor o Menor) que apareceran en pantalla. "),c.qZA(),c.TgZ(11,"p"),c._uU(12,'- Para empezar a jugar presiona el boton "Comenzar a jugar".'),c.qZA(),c.TgZ(13,"button",19),c.NdJ("click",function(){return c.CHM(t),c.oxw(2).EmpiezaAJugar()}),c._uU(14,"Comenzar a jugar"),c.qZA()()}}function cN(n,e){1&n&&(c.TgZ(0,"div",1)(1,"p"),c._uU(2,"Mayor o menor"),c.qZA()())}function dN(n,e){if(1&n&&(c.TgZ(0,"div",14)(1,"div",15),c.YNc(2,lN,15,0,"div",16),c.YNc(3,cN,3,0,"div",16),c.qZA(),c.TgZ(4,"div",17)(5,"p"),c._uU(6,"Puntajes mas altos"),c.qZA()()()),2&n){const t=c.oxw();c.xp6(2),c.Q6J("ngIf",0==t.empiezaAJugar),c.xp6(1),c.Q6J("ngIf",1==t.empiezaAJugar)}}function hN(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",1)(1,"h1",18),c._uU(2,"Preguntados"),c.qZA(),c.TgZ(3,"h4",18),c._uU(4,"\xbfComo jugar?"),c.qZA(),c.TgZ(5,"p"),c._uU(6,"- El preguntados es un juego en el que tenes que responder las las preguntas que apareceran en pantalla"),c.qZA(),c.TgZ(7,"p"),c._uU(8,"- Tienes un solo intento y 30 segundos y si fallas el contador de puntos empezara devuelta."),c.qZA(),c.TgZ(9,"p"),c._uU(10,"- Para responder presiona en cualquiera de las 4 respuestas que apareceran en pantalla. "),c.qZA(),c.TgZ(11,"p"),c._uU(12,'- Para empezar a jugar presiona el boton "Comenzar a jugar".'),c.qZA(),c.TgZ(13,"button",19),c.NdJ("click",function(){return c.CHM(t),c.oxw(2).EmpiezaAJugar()}),c._uU(14,"Comenzar a jugar"),c.qZA()()}}function fN(n,e){1&n&&(c.TgZ(0,"div",1),c._UZ(1,"app-preguntados"),c.qZA())}function pN(n,e){if(1&n&&(c.TgZ(0,"div",14)(1,"div",15),c.YNc(2,hN,15,0,"div",16),c.YNc(3,fN,2,0,"div",16),c.qZA(),c.TgZ(4,"div",17)(5,"p"),c._uU(6,"Puntajes mas altos"),c.qZA()()()),2&n){const t=c.oxw();c.xp6(2),c.Q6J("ngIf",0==t.empiezaAJugar),c.xp6(1),c.Q6J("ngIf",1==t.empiezaAJugar)}}function gN(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",1)(1,"h1",18),c._uU(2,"Sopa de letras"),c.qZA(),c.TgZ(3,"h4",18),c._uU(4,"\xbfComo jugar?"),c.qZA(),c.TgZ(5,"p"),c._uU(6,"- La sopa de letras es un juego en el que tenes que encontrar las palabras relacionadas a un tema"),c.qZA(),c.TgZ(7,"p"),c._uU(8,"- Tienes cinco minutos para encontrar todas las palabras, al completar el juego se sumara un punto y empezara otra juego automaticamente"),c.qZA(),c.TgZ(9,"p"),c._uU(10,"- Para seleccionar las opciones simplmente arratra el mouse en la palabra que creas que es. "),c.qZA(),c.TgZ(11,"p"),c._uU(12,'- Para empezar a jugar presiona el boton "Comenzar a jugar".'),c.qZA(),c.TgZ(13,"button",19),c.NdJ("click",function(){return c.CHM(t),c.oxw(2).EmpiezaAJugar()}),c._uU(14,"Comenzar a jugar"),c.qZA()()}}function mN(n,e){1&n&&(c.TgZ(0,"div",1),c._UZ(1,"app-snake"),c.qZA())}function yN(n,e){if(1&n&&(c.TgZ(0,"div",14)(1,"div",15),c.YNc(2,gN,15,0,"div",16),c.YNc(3,mN,2,0,"div",16),c.qZA(),c.TgZ(4,"div",17)(5,"p"),c._uU(6,"Puntajes mas altos"),c.qZA()()()),2&n){const t=c.oxw();c.xp6(2),c.Q6J("ngIf",0==t.empiezaAJugar),c.xp6(1),c.Q6J("ngIf",1==t.empiezaAJugar)}}let _N=(()=>{class n{constructor(){this.juegoSeleccionado=0,this.empiezaAJugar=!1}ngOnInit(){}AbrirJuegoSeleccionado(t){console.log(t),this.juegoSeleccionado=t,this.empiezaAJugar=!1}EmpiezaAJugar(){this.empiezaAJugar=!0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-games"]],decls:26,vars:4,consts:[[1,"container"],[1,"row"],[1,"box","col-4"],["value","1",1,"btn",3,"click"],["src",".././../../assets/juego1.jpg","alt","ahorcado",1,"img"],["for",""],["value","2",1,"btn",3,"click"],["src",".././../../assets/juego2.jpg","alt","mayor-menor",1,"img"],["value","3",1,"btn",3,"click"],["src",".././../../assets/juego3.jpg","alt","preguntados",1,"img"],[1,"box-sopa","row"],["value","4",1,"btn",3,"click"],["src",".././../../assets/juego4.jpg","alt","preguntados",1,"img"],["class","games row",4,"ngIf"],[1,"games","row"],[1,"col-8"],["class","row",4,"ngIf"],[1,"col-4"],[1,"mb-4"],[1,"btn","btn-danger","mt-2",3,"click"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),c.NdJ("click",function(){return r.AbrirJuegoSeleccionado(1)}),c._UZ(4,"img",4),c.TgZ(5,"label",5),c._uU(6,"Ahorcado"),c.qZA()()(),c.TgZ(7,"div",2)(8,"button",6),c.NdJ("click",function(){return r.AbrirJuegoSeleccionado(2)}),c._UZ(9,"img",7),c.TgZ(10,"label",5),c._uU(11,"Mayor-menor"),c.qZA()()(),c.TgZ(12,"div",2)(13,"button",8),c.NdJ("click",function(){return r.AbrirJuegoSeleccionado(3)}),c._UZ(14,"img",9),c.TgZ(15,"label",5),c._uU(16,"Preguntados"),c.qZA()()()(),c.TgZ(17,"div",10)(18,"button",11),c.NdJ("click",function(){return r.AbrirJuegoSeleccionado(4)}),c._UZ(19,"img",12),c.TgZ(20,"label",5),c._uU(21,"Sopa de Letras"),c.qZA()()(),c.YNc(22,uN,7,2,"div",13),c.YNc(23,dN,7,2,"div",13),c.YNc(24,pN,7,2,"div",13),c.YNc(25,yN,7,2,"div",13),c.qZA()),2&t&&(c.xp6(22),c.Q6J("ngIf",1==r.juegoSeleccionado),c.xp6(1),c.Q6J("ngIf",2==r.juegoSeleccionado),c.xp6(1),c.Q6J("ngIf",3==r.juegoSeleccionado),c.xp6(1),c.Q6J("ngIf",4==r.juegoSeleccionado))},directives:[Or,NR,eN,sN],styles:[".container[_ngcontent-%COMP%]{width:100%;height:100%;margin-top:2rem}.img[_ngcontent-%COMP%]{position:relative;width:400px;height:200px;border-radius:4px;border-width:0}.box[_ngcontent-%COMP%]{align-items:center;border-radius:4px;border-width:0;box-shadow:#2d234266 0 2px 4px,#1e38224d 0 3px 7px -3px,purple 0 -3px inset;cursor:pointer;padding:5px;background-color:purple}label[_ngcontent-%COMP%]{font-family:Haettenschweiler,Arial Narrow Bold,sans-serif;font-size:xx-large;color:#000}.games[_ngcontent-%COMP%]{margin-top:3rem}.box-sopa[_ngcontent-%COMP%]{align-items:center;width:450px;height:280px;border-radius:4px;border-width:0;box-shadow:#2d234266 0 2px 4px,#1e38224d 0 3px 7px -3px,purple 0 -3px inset;cursor:pointer;padding:5px;background-color:purple;margin-left:32.5%}"]}),n})(),vN=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-carrousel"]],decls:20,vars:0,consts:[["id","carousel","data-bs-ride","carousel",1,"carousel","slide"],[1,"carousel-indicators"],["type","button","data-bs-target","#carousel","data-bs-slide-to","0","aria-current","true","aria-label","Slide 1",1,"active"],["type","button","data-bs-target","#carousel","data-bs-slide-to","1","aria-label","Slide 2"],["type","button","data-bs-target","#carousel","data-bs-slide-to","2","aria-label","Slide 3"],["routerLink","games",1,"carrousel-local","carousel-inner"],[1,"carousel-item","active"],["src","../../../assets/juego1.jpg","alt","...",1,"img","d-block","w-100"],[1,"carousel-item"],["src","../../../assets/juego2.jpg","alt","...",1,"img","d-block","w-100"],["src","../../../assets/juego3.jpg","alt","...",1,"img","d-block","w-100"],["type","button","data-bs-target","#carousel","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carousel","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1),c._UZ(2,"button",2)(3,"button",3)(4,"button",4),c.qZA(),c.TgZ(5,"div",5)(6,"div",6),c._UZ(7,"img",7),c.qZA(),c.TgZ(8,"div",8),c._UZ(9,"img",9),c.qZA(),c.TgZ(10,"div",8),c._UZ(11,"img",10),c.qZA()(),c.TgZ(12,"button",11),c._UZ(13,"span",12),c.TgZ(14,"span",13),c._uU(15,"Previous"),c.qZA()(),c.TgZ(16,"button",14),c._UZ(17,"span",15),c.TgZ(18,"span",13),c._uU(19,"Next"),c.qZA()()())},directives:[Yh],styles:[".carousel-inner[_ngcontent-%COMP%]{height:50vh;border-radius:0;object-fit:cover;cursor:pointer}.carousel-inner[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:400;margin-bottom:.5em;color:#fff}.carousel-inner[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{position:absolute;height:450px}.carousel[_ngcontent-%COMP%]{width:100vw}"]}),n})(),wN=(()=>{class n{constructor(t){this.ruteo=t}GoLogin(){this.ruteo.navigateByUrl("login")}GoHome(){this.ruteo.navigateByUrl("home")}GoError(){this.ruteo.navigateByUrl("sdsdsss")}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(er))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-home"]],decls:6,vars:0,consts:[[1,"container"],[1,"row"],[1,"col-12"],[1,"mb-6"]],template:function(t,r){1&t&&(c._UZ(0,"app-carrousel"),c.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"p",3),c._uU(5," What is Lorem Ipsum? Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum. Why do we use it? It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters, as opposed to using 'Content here, content here', making it look like readable English. Many desktop publishing packages and web page editors now use Lorem Ipsum as their default model text, and a search for 'lorem ipsum' will uncover many web sites still in their infancy. Various versions have evolved over the years, sometimes by accident, sometimes on purpose (injected humour and the like). Where does it come from? Contrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of classical Latin literature from 45 BC, making it over 2000 years old. Richard McClintock, a Latin professor at Hampden-Sydney College in Virginia, looked up one of the more obscure Latin words, consectetur, from a Lorem Ipsum passage, and going through the cites of the word in classical literature, discovered the undoubtable source. Lorem Ipsum comes from sections 1.10.32 and 1.10.33 of \" de Finibus Bonorum et Malorum\" (The Extremes of Good and Evil) by Cicero, written in 45 BC. This book is a treatise on the theory of ethics, very popular during the Renaissance. The first line of Lorem Ipsum, \"Lorem ipsum dolor sit amet..\" , comes from a line in section 1.10.32. The standard chunk of Lorem Ipsum used since the 1500s is reproduced below for those interested. Sections 1.10.32 and 1.10.33 from \"de Finibus Bonorum et Malorum\" by Cicero are also reproduced in their exact original form, accompanied by English versions from the 1914 translation by H. Rackham. Where can I get some? There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form, by injected humour, or randomised words which don't look even slightly believable. If you are going to use a passage of Lorem Ipsum, you need to be sure there isn't anything embarrassing hidden in the middle of text. All the Lorem Ipsum generators on the Internet tend to repeat predefined chunks as necessary, making this the first true generator on the Internet. It uses a dictionary of over 200 Latin words, combined with a handful of model sentence structures, to generate Lorem Ipsum which looks reasonable. The generated Lorem Ipsum is therefore always free from repetition "),c.qZA()()()())},directives:[vN],styles:[".container[_ngcontent-%COMP%]{padding:20px;min-height:100%}"]}),n})();class bM{constructor(e,t,r,o){this.email=e,this.password=r,this.usuario=t,this.FechaCreacion=o}}const EN=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:xO,children:[{path:"",component:wN},{path:"games",component:_N},{path:"chat",component:OR}]},{path:"login",component:(()=>{class n{constructor(t,r,o){this.auth=t,this.router=r,this.aFStore=o,this.usuario=new bM("","","","")}ngOnInit(){}SingIn(){if(this.validate(this.usuario))try{this.auth.Login(this.usuario).then(t=>{this.auth.getState().subscribe(r=>{(null==r?void 0:r.displayName)?this.auth.username.next(r.displayName):(null==r?void 0:r.email)&&this.aFStore.getUsers().subscribe(o=>{o.forEach(u=>{u.email==r.email&&this.auth.username.next(u.usuario)})}),console.log("Sing In Exitoso: ",r)})})}catch(t){console.log("Error en logeo",t)}""!=this.auth.username.value&&this.router.navigateByUrl("/home")}SingInWithGoogle(){this.auth.LoginWithGoogle(this.usuario.email,this.usuario.password).then(t=>{var r,o;null==t?console.log("Error",t):(null===(r=t.user)||void 0===r?void 0:r.email)&&(null===(o=t.user)||void 0===o?void 0:o.displayName)&&(this.auth.email.next(t.user.email),this.auth.username.next(t.user.displayName),console.log("Inicio de session exitoso",t),this.router.navigateByUrl("home"))})}validate(t){return!(""==t.email||!t.password)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ps),c.Y36(er),c.Y36(Bb))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-login"]],decls:27,vars:2,consts:[[1,"cont"],[1,"cont_videoContainer"],["src","../../../assets/BackGroundImage-Login.mp4","autoplay","","loop",""],[1,"demo"],[1,"login"],[1,"login__check"],[1,"login__form"],[1,"login__row"],["viewBox","0 0 20 20",1,"login__icon","name","svg-icon"],["d","M0,20 a10,8 0 0,1 20,0z M10,0 a4,4 0 0,1 0,8 a4,4 0 0,1 0,-8"],["type","text","placeholder","Email",1,"login__input","name",3,"ngModel","ngModelChange"],["viewBox","0 0 20 20",1,"login__icon","pass","svg-icon"],["d","M0,20 20,20 20,8 0,8z M10,13 10,16z M4,8 a6,8 0 0,1 12,0"],["type","password","placeholder","Password",1,"login__input","pass",3,"ngModel","ngModelChange"],[1,"login__checkBox","d-flex","p-1"],["type","checkbox","value","","id","flexCheckDefault",1,"form-check-input"],["for","flexCheckDefault",1,"form-check-label",2,"padding-left","2%"],["type","button",1,"login__submit",3,"click"],["type","button",1,"login__google",3,"click"],[1,"login__signup"],["routerLink","/register",1,"login__SignUpButton"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1),c._UZ(2,"video",2),c.qZA(),c.TgZ(3,"div",3)(4,"div",4),c._UZ(5,"div",5),c.TgZ(6,"div",6)(7,"div",7),c.O4$(),c.TgZ(8,"svg",8),c._UZ(9,"path",9),c.qZA(),c.kcU(),c.TgZ(10,"input",10),c.NdJ("ngModelChange",function(u){return r.usuario.email=u}),c.qZA()(),c.TgZ(11,"div",7),c.O4$(),c.TgZ(12,"svg",11),c._UZ(13,"path",12),c.qZA(),c.kcU(),c.TgZ(14,"input",13),c.NdJ("ngModelChange",function(u){return r.usuario.password=u}),c.qZA()(),c.TgZ(15,"div",14),c._UZ(16,"input",15),c.TgZ(17,"label",16),c._uU(18," Remember me! "),c.qZA()(),c.TgZ(19,"button",17),c.NdJ("click",function(){return r.SingIn()}),c._uU(20,"Sign in"),c.qZA(),c.TgZ(21,"button",18),c.NdJ("click",function(){return r.SingInWithGoogle()}),c._uU(22," Sign in with Googe "),c.qZA(),c.TgZ(23,"p",19),c._uU(24,"Don't have an account?"),c.qZA(),c.TgZ(25,"a",20),c._uU(26,"Sign up"),c.qZA()()()()()),2&t&&(c.xp6(10),c.Q6J("ngModel",r.usuario.email),c.xp6(4),c.Q6J("ngModel",r.usuario.password))},directives:[Fm,$b,A0,cd],styles:['*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box;margin:0;padding:0}[_ngcontent-%COMP%]::placeholder{color:#fff;opacity:.4}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{font-size:62.5%;height:100%;overflow:hidden;color:#000}@media (max-width: 768px){html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{font-size:50%}}svg[_ngcontent-%COMP%]{display:inline-block;width:2rem;height:2rem;overflow:visible}.svg-icon[_ngcontent-%COMP%]{cursor:pointer}.svg-icon[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{stroke:#ffffffe6;fill:none;stroke-width:1}input[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{outline:none;border:none}.btn_volver[_ngcontent-%COMP%]{background-color:1}.cont[_ngcontent-%COMP%]{height:100%;width:100%;background-size:cover;overflow:auto;font-family:Open Sans,Helvetica,Arial,sans-serif;animation:fadeIn 1s}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.cont_videoContainer[_ngcontent-%COMP%]{position:absolute;z-index:-10;top:0;left:0;width:100%;height:100%;overflow:hidden;min-width:-100%;min-height:-100%}.demo[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;margin-left:-15rem;margin-top:-26.5rem;width:30rem;height:53rem;overflow:hidden}.login[_ngcontent-%COMP%]{position:relative;height:100%;background:linear-gradient(to bottom,rgba(146,135,187,.8) 0%,rgba(0,0,0,.6) 100%);transition:opacity .1s,transform .3s cubic-bezier(.17,-.65,.665,1.25);transform:scale(1)}.login.inactive[_ngcontent-%COMP%]{opacity:0;transform:scale(1.1)}.login__check[_ngcontent-%COMP%]{position:absolute;top:16rem;left:13.5rem;width:14rem;height:2.8rem;background:#fff;transform-origin:0 100%;transform:rotate(-45deg)}.login__check[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;bottom:100%;width:2.8rem;height:5.2rem;background:#fff;box-shadow:inset -.2rem -2rem 2rem #0003}.login__checkBox[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:1rem;color:#fff;opacity:70%}.login__form[_ngcontent-%COMP%]{position:absolute;top:40%;left:0;width:100%;height:50%;padding:1.5rem 2.5rem;text-align:center}.login__form_register[_ngcontent-%COMP%]{position:absolute;top:45%;left:0;width:100%;height:50%;padding:1.5rem 2.5rem;text-align:center}.login__row[_ngcontent-%COMP%]{height:5rem;padding-top:.5rem;border-bottom:1px solid white}.login__icon[_ngcontent-%COMP%]{margin-bottom:-.4rem;margin-right:.5rem}.login__icon.name[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{stroke-dasharray:73.5019607544;stroke-dashoffset:73.5019607544;animation:animatePath 2s .5s forwards}.login__icon.pass[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{stroke-dasharray:92.106628418;stroke-dashoffset:92.106628418;animation:animatePath 2s .5s forwards}.login__input[_ngcontent-%COMP%]{display:inline-block;width:22rem;height:100%;padding-left:1.5rem;font-size:1.5rem;background:transparent;color:#fff}.login__submit[_ngcontent-%COMP%]{position:relative;width:100%;height:4rem;margin:1rem 0 1.2rem;color:#fffc;background:#5847d6;font-size:1.5rem;border-radius:3rem;cursor:pointer;overflow:hidden;transition:width .3s .15s,font-size .1s .15s}.login__register[_ngcontent-%COMP%]{position:relative;width:100%;height:4rem;margin:3rem 0 1.2rem;color:#fffc;background:#5847d6;font-size:1.5rem;border-radius:3rem;cursor:pointer;overflow:hidden;transition:width .3s .15s,font-size .1s .15s}.login__google[_ngcontent-%COMP%]{background-color:red;position:relative;width:100%;height:4rem;margin:.1rem 0 1.2rem;color:#fffc;font-size:1.5rem;border-radius:3rem;cursor:pointer;overflow:hidden}.login__submit[_ngcontent-%COMP%]:hover{color:#fff!important;box-shadow:0 4px 16px #6c6794;transition:all .1s ease}.login__signup[_ngcontent-%COMP%]{font-size:1.2rem;color:#aba8ae;cursor:pointer;color:#aea5a5}.login_signup[_ngcontent-%COMP%]:hover{color:#fff!important;box-shadow:0 4px 16px #318aac;transition:all .2s ease}.login__SignUpButton[_ngcontent-%COMP%]{font-size:1.2rem;color:#aba8ae;cursor:pointer;color:#fff}.app[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;display:none}.app__top[_ngcontent-%COMP%]{position:relative;height:28rem;background:rgba(0,0,0,.5);padding:6rem 1.5rem 2rem;text-align:center}.app__bot[_ngcontent-%COMP%]{position:relative;height:25rem;background:#fff}.app__menu-btn[_ngcontent-%COMP%]{position:absolute;top:2rem;left:1.5rem;width:1.8rem;height:1.7rem;cursor:pointer}.app__menu-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .app__menu-btn[_ngcontent-%COMP%]:before, .app__menu-btn[_ngcontent-%COMP%]:after{position:absolute;left:0;width:100%;height:1px;background:rgba(255,255,255,.6)}.app__menu-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{top:.8rem}.app__menu-btn[_ngcontent-%COMP%]:before{content:"";top:0}.app__menu-btn[_ngcontent-%COMP%]:after{content:"";bottom:0}.ripple[_ngcontent-%COMP%]{position:absolute;width:15rem;height:15rem;margin-left:-7.5rem;margin-top:-7.5rem;background:rgba(0,0,0,.4);transform:scale(0);animation:animRipple .4s;border-radius:50%}@keyframes animRipple{to{transform:scale(3.5);opacity:0}}@keyframes rotate{to{transform:rotate(360deg)}}@keyframes animatePath{to{stroke-dashoffset:0}}']}),n})()},{path:"register",component:(()=>{class n{constructor(t,r,o){this.auth=t,this.router=r,this.db=o,this.hoy=(new Date).toLocaleString("en-US",{timeZone:"America/Argentina/Buenos_Aires"}),this.usuario=new bM("","","",this.hoy)}ngOnInit(){}SingUp(){if(this.validate(this.usuario))try{this.auth.Register(this.usuario).then(t=>{null!=t&&(this.auth.username.next(this.usuario.usuario),this.db.setUser(this.usuario),this.router.navigateByUrl("/home"))})}catch(t){console.log(t)}}validate(t){return!(""==t.email||""==t.usuario||!t.password||""==t.FechaCreacion)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ps),c.Y36(er),c.Y36(Bb))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-register"]],decls:25,vars:3,consts:[[1,"cont"],[1,"cont_videoContainer"],["src","../../../assets/BackGroundImage-Login.mp4","autoplay","","loop",""],[1,"demo"],[1,"login"],[1,"login__check"],[1,"login__form_register"],[1,"login__row"],["viewBox","0 0 20 20",1,"login__icon","name","svg-icon"],["d","M0,20 a10,8 0 0,1 20,0z M10,0 a4,4 0 0,1 0,8 a4,4 0 0,1 0,-8"],["type","text","placeholder","Email",1,"login__input","name",3,"ngModel","ngModelChange"],["type","text","placeholder","Username",1,"login__input","name",3,"ngModel","ngModelChange"],["viewBox","0 0 20 20",1,"login__icon","pass","svg-icon"],["d","M0,20 20,20 20,8 0,8z M10,13 10,16z M4,8 a6,8 0 0,1 12,0"],["type","password","placeholder","Password",1,"login__input","pass",3,"ngModel","ngModelChange"],["type","button",1,"login__register",3,"click"],[1,"login__signup"],["routerLink","/login",1,"login__SignUpButton"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1),c._UZ(2,"video",2),c.qZA(),c.TgZ(3,"div",3)(4,"div",4),c._UZ(5,"div",5),c.TgZ(6,"div",6)(7,"div",7),c.O4$(),c.TgZ(8,"svg",8),c._UZ(9,"path",9),c.qZA(),c.kcU(),c.TgZ(10,"input",10),c.NdJ("ngModelChange",function(u){return r.usuario.email=u}),c.qZA()(),c.TgZ(11,"div",7),c.O4$(),c.TgZ(12,"svg",8),c._UZ(13,"path",9),c.qZA(),c.kcU(),c.TgZ(14,"input",11),c.NdJ("ngModelChange",function(u){return r.usuario.usuario=u}),c.qZA()(),c.TgZ(15,"div",7),c.O4$(),c.TgZ(16,"svg",12),c._UZ(17,"path",13),c.qZA(),c.kcU(),c.TgZ(18,"input",14),c.NdJ("ngModelChange",function(u){return r.usuario.password=u}),c.qZA()(),c.TgZ(19,"button",15),c.NdJ("click",function(){return r.SingUp()}),c._uU(20,"Sign up"),c.qZA(),c.TgZ(21,"p",16),c._uU(22,"Already Have an account?"),c.qZA(),c.TgZ(23,"a",17),c._uU(24,"Sign in"),c.qZA()()()()()),2&t&&(c.xp6(10),c.Q6J("ngModel",r.usuario.email),c.xp6(4),c.Q6J("ngModel",r.usuario.usuario),c.xp6(4),c.Q6J("ngModel",r.usuario.password))},directives:[Fm,$b,A0,cd],styles:['*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box;margin:0;padding:0}[_ngcontent-%COMP%]::placeholder{color:#fff;opacity:.4}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{font-size:62.5%;height:100%;overflow:hidden;color:#000}@media (max-width: 768px){html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{font-size:50%}}svg[_ngcontent-%COMP%]{display:inline-block;width:2rem;height:2rem;overflow:visible}.svg-icon[_ngcontent-%COMP%]{cursor:pointer}.svg-icon[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{stroke:#ffffffe6;fill:none;stroke-width:1}input[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{outline:none;border:none}.btn_volver[_ngcontent-%COMP%]{background-color:1}.cont[_ngcontent-%COMP%]{height:100%;width:100%;background-size:cover;overflow:auto;font-family:Open Sans,Helvetica,Arial,sans-serif;animation:fadeIn 1s}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.cont_videoContainer[_ngcontent-%COMP%]{position:absolute;z-index:-10;top:0;left:0;width:100%;height:100%;overflow:hidden;min-width:-100%;min-height:-100%}.demo[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;margin-left:-15rem;margin-top:-26.5rem;width:30rem;height:53rem;overflow:hidden}.login[_ngcontent-%COMP%]{position:relative;height:100%;background:linear-gradient(to bottom,rgba(146,135,187,.8) 0%,rgba(0,0,0,.6) 100%);transition:opacity .1s,transform .3s cubic-bezier(.17,-.65,.665,1.25);transform:scale(1)}.login.inactive[_ngcontent-%COMP%]{opacity:0;transform:scale(1.1)}.login__check[_ngcontent-%COMP%]{position:absolute;top:16rem;left:13.5rem;width:14rem;height:2.8rem;background:#fff;transform-origin:0 100%;transform:rotate(-45deg)}.login__check[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;bottom:100%;width:2.8rem;height:5.2rem;background:#fff;box-shadow:inset -.2rem -2rem 2rem #0003}.login__checkBox[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:1rem;color:#fff;opacity:70%}.login__form[_ngcontent-%COMP%]{position:absolute;top:40%;left:0;width:100%;height:50%;padding:1.5rem 2.5rem;text-align:center}.login__form_register[_ngcontent-%COMP%]{position:absolute;top:45%;left:0;width:100%;height:50%;padding:1.5rem 2.5rem;text-align:center}.login__row[_ngcontent-%COMP%]{height:5rem;padding-top:.5rem;border-bottom:1px solid white}.login__icon[_ngcontent-%COMP%]{margin-bottom:-.4rem;margin-right:.5rem}.login__icon.name[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{stroke-dasharray:73.5019607544;stroke-dashoffset:73.5019607544;animation:animatePath 2s .5s forwards}.login__icon.pass[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{stroke-dasharray:92.106628418;stroke-dashoffset:92.106628418;animation:animatePath 2s .5s forwards}.login__input[_ngcontent-%COMP%]{display:inline-block;width:22rem;height:100%;padding-left:1.5rem;font-size:1.5rem;background:transparent;color:#fff}.login__submit[_ngcontent-%COMP%]{position:relative;width:100%;height:4rem;margin:1rem 0 1.2rem;color:#fffc;background:#5847d6;font-size:1.5rem;border-radius:3rem;cursor:pointer;overflow:hidden;transition:width .3s .15s,font-size .1s .15s}.login__register[_ngcontent-%COMP%]{position:relative;width:100%;height:4rem;margin:3rem 0 1.2rem;color:#fffc;background:#5847d6;font-size:1.5rem;border-radius:3rem;cursor:pointer;overflow:hidden;transition:width .3s .15s,font-size .1s .15s}.login__google[_ngcontent-%COMP%]{background-color:red;position:relative;width:100%;height:4rem;margin:.1rem 0 1.2rem;color:#fffc;font-size:1.5rem;border-radius:3rem;cursor:pointer;overflow:hidden}.login__submit[_ngcontent-%COMP%]:hover{color:#fff!important;box-shadow:0 4px 16px #6c6794;transition:all .1s ease}.login__signup[_ngcontent-%COMP%]{font-size:1.2rem;color:#aba8ae;cursor:pointer;color:#aea5a5}.login_signup[_ngcontent-%COMP%]:hover{color:#fff!important;box-shadow:0 4px 16px #318aac;transition:all .2s ease}.login__SignUpButton[_ngcontent-%COMP%]{font-size:1.2rem;color:#aba8ae;cursor:pointer;color:#fff}.app[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;display:none}.app__top[_ngcontent-%COMP%]{position:relative;height:28rem;background:rgba(0,0,0,.5);padding:6rem 1.5rem 2rem;text-align:center}.app__bot[_ngcontent-%COMP%]{position:relative;height:25rem;background:#fff}.app__menu-btn[_ngcontent-%COMP%]{position:absolute;top:2rem;left:1.5rem;width:1.8rem;height:1.7rem;cursor:pointer}.app__menu-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .app__menu-btn[_ngcontent-%COMP%]:before, .app__menu-btn[_ngcontent-%COMP%]:after{position:absolute;left:0;width:100%;height:1px;background:rgba(255,255,255,.6)}.app__menu-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{top:.8rem}.app__menu-btn[_ngcontent-%COMP%]:before{content:"";top:0}.app__menu-btn[_ngcontent-%COMP%]:after{content:"";bottom:0}.ripple[_ngcontent-%COMP%]{position:absolute;width:15rem;height:15rem;margin-left:-7.5rem;margin-top:-7.5rem;background:rgba(0,0,0,.4);transform:scale(0);animation:animRipple .4s;border-radius:50%}@keyframes animRipple{to{transform:scale(3.5);opacity:0}}@keyframes rotate{to{transform:rotate(360deg)}}@keyframes animatePath{to{stroke-dashoffset:0}}']}),n})()},{path:"about-me",component:MO},{path:"**",component:RR}];let bN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Jh.forRoot(EN)],Jh]}),n})();const CM_firebase={projectId:"saladejuegoslabo4",appId:"1:777787631138:web:4335935d1b40782e614c7b",storageBucket:"saladejuegoslabo4.appspot.com",apiKey:"AIzaSyBu4-I8TF57iyxgur-jMIRctHasridKOJM",authDomain:"saladejuegoslabo4.firebaseapp.com",messagingSenderId:"777787631138"};let CN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[rC]}),n.\u0275inj=c.cJS({providers:[],imports:[[Ia,bN,SR,To.hO.initializeApp(CM_firebase),ZR]]}),n})();(0,c.G48)(),_l().bootstrapModule(CN).catch(n=>console.error(n))},2005:nt=>{var Ie=Object.prototype.hasOwnProperty,N="~";function c(){}function Q(re,J,ee){this.fn=re,this.context=J,this.once=ee||!1}function P(re,J,ee,X,U){if("function"!=typeof ee)throw new TypeError("The listener must be a function");var V=new Q(ee,X||re,U),z=N?N+J:J;return re._events[z]?re._events[z].fn?re._events[z]=[re._events[z],V]:re._events[z].push(V):(re._events[z]=V,re._eventsCount++),re}function ae(re,J){0==--re._eventsCount?re._events=new c:delete re._events[J]}function Y(){this._events=new c,this._eventsCount=0}Object.create&&(c.prototype=Object.create(null),(new c).__proto__||(N=!1)),Y.prototype.eventNames=function(){var ee,X,J=[];if(0===this._eventsCount)return J;for(X in ee=this._events)Ie.call(ee,X)&&J.push(N?X.slice(1):X);return Object.getOwnPropertySymbols?J.concat(Object.getOwnPropertySymbols(ee)):J},Y.prototype.listeners=function(J){var X=this._events[N?N+J:J];if(!X)return[];if(X.fn)return[X.fn];for(var U=0,V=X.length,z=new Array(V);U<V;U++)z[U]=X[U].fn;return z},Y.prototype.listenerCount=function(J){var X=this._events[N?N+J:J];return X?X.fn?1:X.length:0},Y.prototype.emit=function(J,ee,X,U,V,z){var Le=N?N+J:J;if(!this._events[Le])return!1;var Re,ie,le=this._events[Le],Me=arguments.length;if(le.fn){switch(le.once&&this.removeListener(J,le.fn,void 0,!0),Me){case 1:return le.fn.call(le.context),!0;case 2:return le.fn.call(le.context,ee),!0;case 3:return le.fn.call(le.context,ee,X),!0;case 4:return le.fn.call(le.context,ee,X,U),!0;case 5:return le.fn.call(le.context,ee,X,U,V),!0;case 6:return le.fn.call(le.context,ee,X,U,V,z),!0}for(ie=1,Re=new Array(Me-1);ie<Me;ie++)Re[ie-1]=arguments[ie];le.fn.apply(le.context,Re)}else{var qe,Ee=le.length;for(ie=0;ie<Ee;ie++)switch(le[ie].once&&this.removeListener(J,le[ie].fn,void 0,!0),Me){case 1:le[ie].fn.call(le[ie].context);break;case 2:le[ie].fn.call(le[ie].context,ee);break;case 3:le[ie].fn.call(le[ie].context,ee,X);break;case 4:le[ie].fn.call(le[ie].context,ee,X,U);break;default:if(!Re)for(qe=1,Re=new Array(Me-1);qe<Me;qe++)Re[qe-1]=arguments[qe];le[ie].fn.apply(le[ie].context,Re)}}return!0},Y.prototype.on=function(J,ee,X){return P(this,J,ee,X,!1)},Y.prototype.once=function(J,ee,X){return P(this,J,ee,X,!0)},Y.prototype.removeListener=function(J,ee,X,U){var V=N?N+J:J;if(!this._events[V])return this;if(!ee)return ae(this,V),this;var z=this._events[V];if(z.fn)z.fn===ee&&(!U||z.once)&&(!X||z.context===X)&&ae(this,V);else{for(var Le=0,le=[],Me=z.length;Le<Me;Le++)(z[Le].fn!==ee||U&&!z[Le].once||X&&z[Le].context!==X)&&le.push(z[Le]);le.length?this._events[V]=1===le.length?le[0]:le:ae(this,V)}return this},Y.prototype.removeAllListeners=function(J){var ee;return J?this._events[ee=N?N+J:J]&&ae(this,ee):(this._events=new c,this._eventsCount=0),this},Y.prototype.off=Y.prototype.removeListener,Y.prototype.addListener=Y.prototype.on,Y.prefixed=N,Y.EventEmitter=Y,nt.exports=Y},5867:(nt,Ie,N)=>{N.d(Ie,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=N(9681);(0,c.registerVersion)("firebase","9.6.10","app")},127:(nt,Ie,N)=>{N.d(Ie,{Z:()=>c.Z});var c=N(3942);c.Z.registerVersion("firebase","9.6.10","app-compat")},4087:(nt,Ie,N)=>{N.r(Ie);var c=N(5861),Q=N(3942),P=N(2090),ae=N(9681),Y=N(655),re=N(1877),J=N(4859);const Me=function Le(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Re=function le(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ie=new P.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),qe=new re.Yd("@firebase/auth");function ze(y,...f){qe.logLevel<=re.in.ERROR&&qe.error(`Auth (${ae.SDK_VERSION}): ${y}`,...f)}function De(y,...f){throw He(y,...f)}function ve(y,...f){return He(y,...f)}function we(y,f,g){const v=Object.assign(Object.assign({},Re()),{[f]:g});return new P.LL("auth","Firebase",v).create(f,{appName:y.name})}function Ge(y,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&De(y,"argument-error"),we(y,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function He(y,...f){if("string"!=typeof y){const g=f[0],v=[...f.slice(1)];return v[0]&&(v[0].appName=y.name),y._errorFactory.create(g,...v)}return ie.create(y,...f)}function oe(y,f,...g){if(!y)throw He(f,...g)}function W(y){const f="INTERNAL ASSERTION FAILED: "+y;throw ze(f),new Error(f)}function ue(y,f){y||W(f)}const me=new Map;function ce(y){ue(y instanceof Function,"Expected a class definition");let f=me.get(y);return f?(ue(f instanceof y,"Instance stored in cache mismatched with class"),f):(f=new y,me.set(y,f),f)}function wt(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Zt(){return"http:"===In()||"https:"===In()}function In(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class nn{constructor(f,g){this.shortDelay=f,this.longDelay=g,ue(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,P.uI)()||(0,P.b$)()}get(){return function it(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Zt()||(0,P.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function rn(y,f){ue(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class _i{static initialize(f,g,v){this.fetchImpl=f,g&&(this.headersImpl=g),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void W("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void W("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void W("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Qt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Ji=new nn(3e4,6e4);function Wt(y,f){return y.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:y.tenantId}):f}function Bt(y,f,g,v){return ir.apply(this,arguments)}function ir(){return(ir=(0,c.Z)(function*(y,f,g,v,A={}){return ei(y,A,(0,c.Z)(function*(){let R={},q={};v&&("GET"===f?q=v:R={body:JSON.stringify(v)});const de=(0,P.xO)(Object.assign({key:y.config.apiKey},q)).slice(1),Ue=yield y._getAdditionalHeaders();return Ue["Content-Type"]="application/json",y.languageCode&&(Ue["X-Firebase-Locale"]=y.languageCode),_i.fetch()(Mr(y,y.config.apiHost,g,de),Object.assign({method:f,headers:Ue,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function ei(y,f,g){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,c.Z)(function*(y,f,g){y._canInitEmulator=!1;const v=Object.assign(Object.assign({},Qt),f);try{const A=new Qi(y),R=yield Promise.race([g(),A.promise]);A.clearNetworkTimeout();const q=yield R.json();if("needConfirmation"in q)throw Xi(y,"account-exists-with-different-credential",q);if(R.ok&&!("errorMessage"in q))return q;{const de=R.ok?q.errorMessage:q.error.message,[Ue,Ye]=de.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ue)throw Xi(y,"credential-already-in-use",q);if("EMAIL_EXISTS"===Ue)throw Xi(y,"email-already-in-use",q);const pt=v[Ue]||Ue.toLowerCase().replace(/[_\s]+/g,"-");if(Ye)throw we(y,pt,Ye);De(y,pt)}}catch(A){if(A instanceof P.ZR)throw A;De(y,"network-request-failed")}})).apply(this,arguments)}function xr(y,f,g,v){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,c.Z)(function*(y,f,g,v,A={}){const R=yield Bt(y,f,g,v,A);return"mfaPendingCredential"in R&&De(y,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function Mr(y,f,g,v){const A=`${f}${g}?${v}`;return y.config.emulator?rn(y.config,A):`${y.config.apiScheme}://${A}`}class Qi{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,v)=>{this.timer=setTimeout(()=>v(ve(this.auth,"network-request-failed")),Ji.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Xi(y,f,g){const v={appName:y.name};g.email&&(v.email=g.email),g.phoneNumber&&(v.phoneNumber=g.phoneNumber);const A=ve(y,f,v);return A.customData._tokenResponse=g,A}function Hr(){return(Hr=(0,c.Z)(function*(y,f){return Bt(y,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Yn(y,f){return jn.apply(this,arguments)}function jn(){return(jn=(0,c.Z)(function*(y,f){return Bt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ti(y,f){return ro.apply(this,arguments)}function ro(){return(ro=(0,c.Z)(function*(y,f){return Bt(y,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function dn(y){if(y)try{const f=new Date(Number(y));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function ga(){return(ga=(0,c.Z)(function*(y,f=!1){const g=(0,P.m9)(y),v=yield g.getIdToken(f),A=tt(v);oe(A&&A.exp&&A.auth_time&&A.iat,g.auth,"internal-error");const R="object"==typeof A.firebase?A.firebase:void 0,q=null==R?void 0:R.sign_in_provider;return{claims:A,token:v,authTime:dn(jt(A.auth_time)),issuedAtTime:dn(jt(A.iat)),expirationTime:dn(jt(A.exp)),signInProvider:q||null,signInSecondFactor:(null==R?void 0:R.sign_in_second_factor)||null}})).apply(this,arguments)}function jt(y){return 1e3*Number(y)}function tt(y){const[f,g,v]=y.split(".");if(void 0===f||void 0===g||void 0===v)return ze("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,P.tV)(g);return A?JSON.parse(A):(ze("Failed to decode base64 JWT payload"),null)}catch(A){return ze("Caught error parsing JWT payload as JSON",A),null}}function sr(y,f){return ki.apply(this,arguments)}function ki(){return(ki=(0,c.Z)(function*(y,f,g=!1){if(g)return f;try{return yield f}catch(v){throw v instanceof P.ZR&&Vt(v)&&y.auth.currentUser===y&&(yield y.auth.signOut()),v}})).apply(this,arguments)}function Vt({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class io{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const A=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const v=this.getInterval(f);this.timerId=setTimeout((0,c.Z)(function*(){yield g.iteration()}),v)}iteration(){var f=this;return(0,c.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&f.schedule(!0))}f.schedule()})()}}class gr{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=dn(this.lastLoginAt),this.creationTime=dn(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function or(y){return at.apply(this,arguments)}function at(){return(at=(0,c.Z)(function*(y){var f;const g=y.auth,v=yield y.getIdToken(),A=yield sr(y,ti(g,{idToken:v}));oe(null==A?void 0:A.users.length,g,"internal-error");const R=A.users[0];y._notifyReloadListener(R);const q=(null===(f=R.providerUserInfo)||void 0===f?void 0:f.length)?Te(R.providerUserInfo):[],de=Ze(y.providerData,q),pt=!!y.isAnonymous&&!(y.email&&R.passwordHash||(null==de?void 0:de.length)),rt={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:de,metadata:new gr(R.createdAt,R.lastLoginAt),isAnonymous:pt};Object.assign(y,rt)})).apply(this,arguments)}function kt(){return(kt=(0,c.Z)(function*(y){const f=(0,P.m9)(y);yield or(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Ze(y,f){return[...y.filter(v=>!f.some(A=>A.providerId===v.providerId)),...f]}function Te(y){return y.map(f=>{var{providerId:g}=f,v=(0,Y._T)(f,["providerId"]);return{providerId:g,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}function ut(){return(ut=(0,c.Z)(function*(y,f){const g=yield ei(y,{},(0,c.Z)(function*(){const v=(0,P.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:A,apiKey:R}=y.config,q=Mr(y,A,"/v1/token",`key=${R}`),de=yield y._getAdditionalHeaders();return de["Content-Type"]="application/x-www-form-urlencoded",_i.fetch()(q,{method:"POST",headers:de,body:v})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Lt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){oe(f.idToken,"internal-error"),oe(void 0!==f.idToken,"internal-error"),oe(void 0!==f.refreshToken,"internal-error");const g="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function mt(y){const f=tt(y);return oe(f,"internal-error"),oe(void 0!==f.exp,"internal-error"),oe(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var v=this;return(0,c.Z)(function*(){return oe(!v.accessToken||v.refreshToken,f,"user-token-expired"),g||!v.accessToken||v.isExpired?v.refreshToken?(yield v.refresh(f,v.refreshToken),v.accessToken):null:v.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var v=this;return(0,c.Z)(function*(){const{accessToken:A,refreshToken:R,expiresIn:q}=yield function Ke(y,f){return ut.apply(this,arguments)}(f,g);v.updateTokensAndExpiration(A,R,Number(q))})()}updateTokensAndExpiration(f,g,v){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(f,g){const{refreshToken:v,accessToken:A,expirationTime:R}=g,q=new Lt;return v&&(oe("string"==typeof v,"internal-error",{appName:f}),q.refreshToken=v),A&&(oe("string"==typeof A,"internal-error",{appName:f}),q.accessToken=A),R&&(oe("number"==typeof R,"internal-error",{appName:f}),q.expirationTime=R),q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Lt,this.toJSON())}_performRefresh(){return W("not implemented")}}function Nt(y,f){oe("string"==typeof y||void 0===y,"internal-error",{appName:f})}class j{constructor(f){var{uid:g,auth:v,stsTokenManager:A}=f,R=(0,Y._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new io(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=v,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new gr(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,c.Z)(function*(){const v=yield sr(g,g.stsTokenManager.getToken(g.auth,f));return oe(v,g.auth,"internal-error"),g.accessToken!==v&&(g.accessToken=v,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),v})()}getIdTokenResult(f){return function Ts(y){return ga.apply(this,arguments)}(this,f)}reload(){return function mr(y){return kt.apply(this,arguments)}(this)}_assign(f){this!==f&&(oe(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new j(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var v=this;return(0,c.Z)(function*(){let A=!1;f.idToken&&f.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(f),A=!0),g&&(yield or(v)),yield v.auth._persistUserIfCurrent(v),A&&v.auth._notifyListenersIfCurrent(v)})()}delete(){var f=this;return(0,c.Z)(function*(){const g=yield f.getIdToken();return yield sr(f,function ot(y,f){return Hr.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var v,A,R,q,de,Ue,Ye,pt;const rt=null!==(v=g.displayName)&&void 0!==v?v:void 0,wn=null!==(A=g.email)&&void 0!==A?A:void 0,qi=null!==(R=g.phoneNumber)&&void 0!==R?R:void 0,Kl=null!==(q=g.photoURL)&&void 0!==q?q:void 0,Ru=null!==(de=g.tenantId)&&void 0!==de?de:void 0,Nu=null!==(Ue=g._redirectEventId)&&void 0!==Ue?Ue:void 0,Zh=null!==(Ye=g.createdAt)&&void 0!==Ye?Ye:void 0,gy=null!==(pt=g.lastLoginAt)&&void 0!==pt?pt:void 0,{uid:ea,emailVerified:ad,isAnonymous:ud,providerData:Wh,stsTokenManager:ld}=g;oe(ea&&ld,f,"internal-error");const er=Lt.fromJSON(this.name,ld);oe("string"==typeof ea,f,"internal-error"),Nt(rt,f.name),Nt(wn,f.name),oe("boolean"==typeof ad,f,"internal-error"),oe("boolean"==typeof ud,f,"internal-error"),Nt(qi,f.name),Nt(Kl,f.name),Nt(Ru,f.name),Nt(Nu,f.name),Nt(Zh,f.name),Nt(gy,f.name);const Kh=new j({uid:ea,auth:f,email:wn,emailVerified:ad,displayName:rt,isAnonymous:ud,photoURL:Kl,phoneNumber:qi,tenantId:Ru,stsTokenManager:er,createdAt:Zh,lastLoginAt:gy});return Wh&&Array.isArray(Wh)&&(Kh.providerData=Wh.map(Yp=>Object.assign({},Yp))),Nu&&(Kh._redirectEventId=Nu),Kh}static _fromIdTokenResponse(f,g,v=!1){return(0,c.Z)(function*(){const A=new Lt;A.updateFromServerResponse(g);const R=new j({uid:g.localId,auth:f,stsTokenManager:A,isAnonymous:v});return yield or(R),R})()}}const $=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(g,v){var A=this;return(0,c.Z)(function*(){A.storage[g]=v})()}_get(g){var v=this;return(0,c.Z)(function*(){const A=v.storage[g];return void 0===A?null:A})()}_remove(g){var v=this;return(0,c.Z)(function*(){delete v.storage[g]})()}_addListener(g,v){}_removeListener(g,v){}}return y.type="NONE",y})();function pe(y,f,g){return`firebase:${y}:${f}:${g}`}class te{constructor(f,g,v){this.persistence=f,this.auth=g,this.userKey=v;const{config:A,name:R}=this.auth;this.fullUserKey=pe(this.userKey,A.apiKey,R),this.fullPersistenceKey=pe("persistence",A.apiKey,R),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,c.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?j._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,c.Z)(function*(){if(g.persistence===f)return;const v=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,v?g.setCurrentUser(v):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,v="authUser"){return(0,c.Z)(function*(){if(!g.length)return new te(ce($),f,v);const A=(yield Promise.all(g.map(function(){var Ye=(0,c.Z)(function*(pt){if(yield pt._isAvailable())return pt});return function(pt){return Ye.apply(this,arguments)}}()))).filter(Ye=>Ye);let R=A[0]||ce($);const q=pe(v,f.config.apiKey,f.name);let de=null;for(const Ye of g)try{const pt=yield Ye._get(q);if(pt){const rt=j._fromJSON(f,pt);Ye!==R&&(de=rt),R=Ye;break}}catch(pt){}const Ue=A.filter(Ye=>Ye._shouldAllowMigration);return R._shouldAllowMigration&&Ue.length?(R=Ue[0],de&&(yield R._set(q,de.toJSON())),yield Promise.all(g.map(function(){var Ye=(0,c.Z)(function*(pt){if(pt!==R)try{yield pt._remove(q)}catch(rt){}});return function(pt){return Ye.apply(this,arguments)}}())),new te(R,f,v)):new te(R,f,v)})()}}function Ve(y){const f=y.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Ht(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(ft(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(St(f))return"Blackberry";if(on(f))return"Webos";if(qt(f))return"Safari";if((f.includes("chrome/")||yr(f))&&!f.includes("edge/"))return"Chrome";if(gn(f))return"Android";{const v=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==v?void 0:v.length))return v[1]}return"Other"}function ft(y=(0,P.z$)()){return/firefox\//i.test(y)}function qt(y=(0,P.z$)()){const f=y.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function yr(y=(0,P.z$)()){return/crios\//i.test(y)}function Ht(y=(0,P.z$)()){return/iemobile/i.test(y)}function gn(y=(0,P.z$)()){return/android/i.test(y)}function St(y=(0,P.z$)()){return/blackberry/i.test(y)}function on(y=(0,P.z$)()){return/webos/i.test(y)}function Qn(y=(0,P.z$)()){return/iphone|ipad|ipod/i.test(y)}function es(y=(0,P.z$)()){return Qn(y)||gn(y)||on(y)||St(y)||/windows phone/i.test(y)||Ht(y)}function ya(y,f=[]){let g;switch(y){case"Browser":g=Ve((0,P.z$)());break;case"Worker":g=`${Ve((0,P.z$)())}-${y}`;break;default:g=y}const v=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${ae.SDK_VERSION}/${v}`}class ni{constructor(f,g,v){this.app=f,this.heartbeatServiceProvider=g,this.config=v,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mt(this),this.idTokenSubscription=new Mt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ie,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=v.sdkClientVersion}_initializeWithPersistence(f,g){var v=this;return g&&(this._popupRedirectResolver=ce(g)),this._initializationPromise=this.queue((0,c.Z)(function*(){var A,R;if(!v._deleted&&(v.persistenceManager=yield te.create(v,f),!v._deleted)){if(null===(A=v._popupRedirectResolver)||void 0===A?void 0:A._shouldInitProactively)try{yield v._popupRedirectResolver._initialize(v)}catch(q){}yield v.initializeCurrentUser(g),v.lastNotifiedUid=(null===(R=v.currentUser)||void 0===R?void 0:R.uid)||null,!v._deleted&&(v._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,c.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g)}})()}initializeCurrentUser(f){var g=this;return(0,c.Z)(function*(){var v;let A=yield g.assertedPersistence.getCurrentUser();if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const R=null===(v=g.redirectUser)||void 0===v?void 0:v._redirectEventId,q=null==A?void 0:A._redirectEventId,de=yield g.tryRedirectSignIn(f);(!R||R===q)&&(null==de?void 0:de.user)&&(A=de.user)}return A?A._redirectEventId?(oe(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===A._redirectEventId?g.directlySetCurrentUser(A):g.reloadAndSetCurrentUserOrClear(A)):g.reloadAndSetCurrentUserOrClear(A):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(f){var g=this;return(0,c.Z)(function*(){let v=null;try{v=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch(A){yield g._setRedirectUser(null)}return v})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,c.Z)(function*(){try{yield or(f)}catch(v){if("auth/network-request-failed"!==v.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function ht(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var f=this;return(0,c.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,c.Z)(function*(){const v=f?(0,P.m9)(f):null;return v&&oe(v.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(v&&v._clone(g))})()}_updateCurrentUser(f){var g=this;return(0,c.Z)(function*(){if(!g._deleted)return f&&oe(g.tenantId===f.tenantId,g,"tenant-id-mismatch"),g.queue((0,c.Z)(function*(){yield g.directlySetCurrentUser(f),g.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,c.Z)(function*(){return(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null)})()}setPersistence(f){var g=this;return this.queue((0,c.Z)(function*(){yield g.assertedPersistence.setPersistence(ce(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new P.LL("auth","Firebase",f())}onAuthStateChanged(f,g,v){return this.registerStateListener(this.authStateSubscription,f,g,v)}onIdTokenChanged(f,g,v){return this.registerStateListener(this.idTokenSubscription,f,g,v)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var v=this;return(0,c.Z)(function*(){const A=yield v.getOrInitRedirectPersistenceManager(g);return null===f?A.removeCurrentUser():A.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,c.Z)(function*(){if(!g.redirectPersistenceManager){const v=f&&ce(f)||g._popupRedirectResolver;oe(v,g,"argument-error"),g.redirectPersistenceManager=yield te.create(g,[ce(v._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,c.Z)(function*(){var v,A;return g._isInitialized&&(yield g.queue((0,c.Z)(function*(){}))),(null===(v=g._currentUser)||void 0===v?void 0:v._redirectEventId)===f?g._currentUser:(null===(A=g.redirectUser)||void 0===A?void 0:A._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,c.Z)(function*(){if(f===g.currentUser)return g.queue((0,c.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const v=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==v&&(this.lastNotifiedUid=v,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,v,A){if(this._deleted)return()=>{};const R="function"==typeof g?g:g.next.bind(g),q=this._isInitialized?Promise.resolve():this._initializationPromise;return oe(q,this,"internal-error"),q.then(()=>R(this.currentUser)),"function"==typeof g?f.addObserver(g,v,A):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,c.Z)(function*(){g.currentUser&&g.currentUser!==f&&(g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh()),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=ya(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,c.Z)(function*(){var g;const v={"X-Client-Version":f.clientVersion};f.app.options.appId&&(v["X-Firebase-gmpid"]=f.app.options.appId);const A=yield null===(g=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return A&&(v["X-Firebase-Client"]=A),v})()}}function Ne(y){return(0,P.m9)(y)}class Mt{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,P.ne)(g=>this.observer=g)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ar(y){const f=y.indexOf(":");return f<0?"":y.substr(0,f+1)}function Mn(y){if(!y)return null;const f=Number(y);return isNaN(f)?null:f}class Xt{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return W("not implemented")}_getIdTokenResponse(f){return W("not implemented")}_linkToIdToken(f,g){return W("not implemented")}_getReauthenticationResolver(f){return W("not implemented")}}function Dn(y,f){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,c.Z)(function*(y,f){return Bt(y,"POST","/v1/accounts:resetPassword",Wt(y,f))})).apply(this,arguments)}function Tt(y,f){return oo.apply(this,arguments)}function oo(){return(oo=(0,c.Z)(function*(y,f){return Bt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ao(y,f){return _a.apply(this,arguments)}function _a(){return(_a=(0,c.Z)(function*(y,f){return Bt(y,"POST","/v1/accounts:update",Wt(y,f))})).apply(this,arguments)}function Xn(){return(Xn=(0,c.Z)(function*(y,f){return xr(y,"POST","/v1/accounts:signInWithPassword",Wt(y,f))})).apply(this,arguments)}function ts(y,f){return ns.apply(this,arguments)}function ns(){return(ns=(0,c.Z)(function*(y,f){return Bt(y,"POST","/v1/accounts:sendOobCode",Wt(y,f))})).apply(this,arguments)}function Or(y,f){return en.apply(this,arguments)}function en(){return(en=(0,c.Z)(function*(y,f){return ts(y,f)})).apply(this,arguments)}function tu(y,f){return nu.apply(this,arguments)}function nu(){return(nu=(0,c.Z)(function*(y,f){return ts(y,f)})).apply(this,arguments)}function vi(y,f){return ri.apply(this,arguments)}function ri(){return(ri=(0,c.Z)(function*(y,f){return ts(y,f)})).apply(this,arguments)}function Ic(y,f){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,c.Z)(function*(y,f){return ts(y,f)})).apply(this,arguments)}function $r(){return($r=(0,c.Z)(function*(y,f){return xr(y,"POST","/v1/accounts:signInWithEmailLink",Wt(y,f))})).apply(this,arguments)}function Dc(){return(Dc=(0,c.Z)(function*(y,f){return xr(y,"POST","/v1/accounts:signInWithEmailLink",Wt(y,f))})).apply(this,arguments)}class iu extends Xt{constructor(f,g,v,A=null){super("password",v),this._email=f,this._password=g,this._tenantId=A}static _fromEmailAndPassword(f,g){return new iu(f,g,"password")}static _fromEmailAndCode(f,g,v=null){return new iu(f,g,"emailLink",v)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,c.Z)(function*(){switch(g.signInMethod){case"password":return function xs(y,f){return Xn.apply(this,arguments)}(f,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function ru(y,f){return $r.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:De(f,"internal-error")}})()}_linkToIdToken(f,g){var v=this;return(0,c.Z)(function*(){switch(v.signInMethod){case"password":return Tt(f,{idToken:g,returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function mh(y,f){return Dc.apply(this,arguments)}(f,{idToken:g,email:v._email,oobCode:v._password});default:De(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function On(y,f){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,c.Z)(function*(y,f){return xr(y,"POST","/v1/accounts:signInWithIdp",Wt(y,f))})).apply(this,arguments)}class rs extends Xt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new rs(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):De("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:v,signInMethod:A}=g,R=(0,Y._T)(g,["providerId","signInMethod"]);if(!v||!A)return null;const q=new rs(v,A);return q.idToken=R.idToken||void 0,q.accessToken=R.accessToken||void 0,q.secret=R.secret,q.nonce=R.nonce,q.pendingToken=R.pendingToken||null,q}_getIdTokenResponse(f){return On(f,this.buildRequest())}_linkToIdToken(f,g){const v=this.buildRequest();return v.idToken=g,On(f,v)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,On(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,P.xO)(g)}return f}}function Dp(y,f){return al.apply(this,arguments)}function al(){return(al=(0,c.Z)(function*(y,f){return Bt(y,"POST","/v1/accounts:sendVerificationCode",Wt(y,f))})).apply(this,arguments)}function Os(){return(Os=(0,c.Z)(function*(y,f){return xr(y,"POST","/v1/accounts:signInWithPhoneNumber",Wt(y,f))})).apply(this,arguments)}function Ac(){return(Ac=(0,c.Z)(function*(y,f){const g=yield xr(y,"POST","/v1/accounts:signInWithPhoneNumber",Wt(y,f));if(g.temporaryProof)throw Xi(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Ap={USER_NOT_FOUND:"user-not-found"};function Sc(){return(Sc=(0,c.Z)(function*(y,f){return xr(y,"POST","/v1/accounts:signInWithPhoneNumber",Wt(y,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Ap)})).apply(this,arguments)}class Po extends Xt{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new Po({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new Po({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function ul(y,f){return Os.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function Tp(y,f){return Ac.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Sp(y,f){return Sc.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:v,verificationCode:A}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:v,code:A}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:v,phoneNumber:A,temporaryProof:R}=f;return v||g||A||R?new Po({verificationId:g,verificationCode:v,phoneNumber:A,temporaryProof:R}):null}}class uo{constructor(f){var g,v,A,R,q,de;const Ue=(0,P.zd)((0,P.pd)(f)),Ye=null!==(g=Ue.apiKey)&&void 0!==g?g:null,pt=null!==(v=Ue.oobCode)&&void 0!==v?v:null,rt=function Um(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=Ue.mode)&&void 0!==A?A:null);oe(Ye&&pt&&rt,"argument-error"),this.apiKey=Ye,this.operation=rt,this.code=pt,this.continueUrl=null!==(R=Ue.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(q=Ue.languageCode)&&void 0!==q?q:null,this.tenantId=null!==(de=Ue.tenantId)&&void 0!==de?de:null}static parseLink(f){const g=function su(y){const f=(0,P.zd)((0,P.pd)(y)).link,g=f?(0,P.zd)((0,P.pd)(f)).deep_link_id:null,v=(0,P.zd)((0,P.pd)(y)).deep_link_id;return(v?(0,P.zd)((0,P.pd)(v)).link:null)||v||g||f||y}(f);try{return new uo(g)}catch(v){return null}}}let ll=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,v){return iu._fromEmailAndPassword(g,v)}static credentialWithLink(g,v){const A=uo.parseLink(v);return oe(A,"argument-error"),iu._fromEmailAndCode(g,A.code,A.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Rs{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Gr extends Rs{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class ko extends Gr{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return oe("providerId"in g&&"signInMethod"in g,"argument-error"),rs._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return oe(f.idToken||f.accessToken,"argument-error"),rs._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return ko.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return ko.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:v,oauthTokenSecret:A,pendingToken:R,nonce:q,providerId:de}=f;if(!v&&!A&&!g&&!R||!de)return null;try{return new ko(de)._credential({idToken:g,accessToken:v,nonce:q,pendingToken:R})}catch(Ue){return null}}}let lo=(()=>{class y extends Gr{constructor(){super("facebook.com")}static credential(g){return rs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(v){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),va=(()=>{class y extends Gr{constructor(){super("google.com"),this.addScope("profile")}static credential(g,v){return rs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:v})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:v,oauthAccessToken:A}=g;if(!v&&!A)return null;try{return y.credential(v,A)}catch(R){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),xc=(()=>{class y extends Gr{constructor(){super("github.com")}static credential(g){return rs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(v){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Fo extends Xt{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return On(f,this.buildRequest())}_linkToIdToken(f,g){const v=this.buildRequest();return v.idToken=g,On(f,v)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,On(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:v,signInMethod:A,pendingToken:R}=g;return v&&A&&R&&v===A?new Fo(v,R):null}static _create(f,g){return new Fo(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ii extends Rs{constructor(f){oe(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return ii.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return ii.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=Fo.fromJSON(f);return oe(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:v}=f;if(!g||!v)return null;try{return Fo._create(v,g)}catch(A){return null}}}let ou=(()=>{class y extends Gr{constructor(){super("twitter.com")}static credential(g,v){return rs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:v})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:v,oauthTokenSecret:A}=g;if(!v||!A)return null;try{return y.credential(v,A)}catch(R){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function au(y,f){return qr.apply(this,arguments)}function qr(){return(qr=(0,c.Z)(function*(y,f){return xr(y,"POST","/v1/accounts:signUp",Wt(y,f))})).apply(this,arguments)}class ur{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,v,A=!1){return(0,c.Z)(function*(){const R=yield j._fromIdTokenResponse(f,v,A),q=_h(v);return new ur({user:R,providerId:q,_tokenResponse:v,operationType:g})})()}static _forOperation(f,g,v){return(0,c.Z)(function*(){yield f._updateTokensIfNecessary(v,!0);const A=_h(v);return new ur({user:f,providerId:A,_tokenResponse:v,operationType:g})})()}}function _h(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Mc(){return(Mc=(0,c.Z)(function*(y){var f;const g=Ne(y);if(yield g._initializationPromise,null===(f=g.currentUser)||void 0===f?void 0:f.isAnonymous)return new ur({user:g.currentUser,providerId:null,operationType:"signIn"});const v=yield au(g,{returnSecureToken:!0}),A=yield ur._fromIdTokenResponse(g,"signIn",v,!0);return yield g._updateCurrentUser(A.user),A})).apply(this,arguments)}class lu extends P.ZR{constructor(f,g,v,A){var R;super(g.code,g.message),this.operationType=v,this.user=A,Object.setPrototypeOf(this,lu.prototype),this.customData={appName:f.name,tenantId:null!==(R=f.tenantId)&&void 0!==R?R:void 0,_serverResponse:g.customData._serverResponse,operationType:v}}static _fromErrorAndOperation(f,g,v,A){return new lu(f,g,v,A)}}function cu(y,f,g,v){return("reauthenticate"===f?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?lu._fromErrorAndOperation(y,R,f,v):R})}function is(y){return new Set(y.map(({providerId:f})=>f).filter(f=>!!f))}function cl(){return(cl=(0,c.Z)(function*(y,f){const g=(0,P.m9)(y);yield Ps(!0,g,f);const{providerUserInfo:v}=yield Yn(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),A=is(v||[]);return g.providerData=g.providerData.filter(R=>A.has(R.providerId)),A.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function un(y,f){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,c.Z)(function*(y,f,g=!1){const v=yield sr(y,f._linkToIdToken(y.auth,yield y.getIdToken()),g);return ur._forOperation(y,"link",v)})).apply(this,arguments)}function Ps(y,f,g){return tn.apply(this,arguments)}function tn(){return(tn=(0,c.Z)(function*(y,f,g){yield or(f);const A=!1===y?"provider-already-linked":"no-such-provider";oe(is(f.providerData).has(g)===y,f.auth,A)})).apply(this,arguments)}function Oc(y,f){return co.apply(this,arguments)}function co(){return(co=(0,c.Z)(function*(y,f,g=!1){const{auth:v}=y,A="reauthenticate";try{const R=yield sr(y,cu(v,A,f,y),g);oe(R.idToken,v,"internal-error");const q=tt(R.idToken);oe(q,v,"internal-error");const{sub:de}=q;return oe(y.uid===de,v,"user-mismatch"),ur._forOperation(y,A,R)}catch(R){throw"auth/user-not-found"===(null==R?void 0:R.code)&&De(v,"user-mismatch"),R}})).apply(this,arguments)}function ho(y,f){return _r.apply(this,arguments)}function _r(){return(_r=(0,c.Z)(function*(y,f,g=!1){const v="signIn",A=yield cu(y,v,f),R=yield ur._fromIdTokenResponse(y,v,A);return g||(yield y._updateCurrentUser(R.user)),R})).apply(this,arguments)}function Tn(y,f){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,c.Z)(function*(y,f){return ho(Ne(y),f)})).apply(this,arguments)}function wi(y,f){return vr.apply(this,arguments)}function vr(){return(vr=(0,c.Z)(function*(y,f){const g=(0,P.m9)(y);return yield Ps(!1,g,f.providerId),un(g,f)})).apply(this,arguments)}function ks(y,f){return ss.apply(this,arguments)}function ss(){return(ss=(0,c.Z)(function*(y,f){return Oc((0,P.m9)(y),f)})).apply(this,arguments)}function du(y,f){return zr.apply(this,arguments)}function zr(){return(zr=(0,c.Z)(function*(y,f){return xr(y,"POST","/v1/accounts:signInWithCustomToken",Wt(y,f))})).apply(this,arguments)}function Ls(){return(Ls=(0,c.Z)(function*(y,f){const g=Ne(y),v=yield du(g,{token:f,returnSecureToken:!0}),A=yield ur._fromIdTokenResponse(g,"signIn",v);return yield g._updateCurrentUser(A.user),A})).apply(this,arguments)}class lt{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?hu._fromServerResponse(f,g):De(f,"internal-error")}}class hu extends lt{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new hu(g)}}function ba(y,f,g){var v;oe((null===(v=g.url)||void 0===v?void 0:v.length)>0,y,"invalid-continue-uri"),oe(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(oe(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(oe(g.android.packageName.length>0,y,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function pu(){return(pu=(0,c.Z)(function*(y,f,g){const v=(0,P.m9)(y),A={requestType:"PASSWORD_RESET",email:f};g&&ba(v,A,g),yield tu(v,A)})).apply(this,arguments)}function dl(){return(dl=(0,c.Z)(function*(y,f,g){yield Dn((0,P.m9)(y),{oobCode:f,newPassword:g})})).apply(this,arguments)}function be(){return(be=(0,c.Z)(function*(y,f){yield ao((0,P.m9)(y),{oobCode:f})})).apply(this,arguments)}function Pt(y,f){return fl.apply(this,arguments)}function fl(){return(fl=(0,c.Z)(function*(y,f){const g=(0,P.m9)(y),v=yield Dn(g,{oobCode:f}),A=v.requestType;switch(oe(A,g,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":oe(v.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":oe(v.mfaInfo,g,"internal-error");default:oe(v.email,g,"internal-error")}let R=null;return v.mfaInfo&&(R=lt._fromServerResponse(Ne(g),v.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.newEmail:v.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.email:v.newEmail)||null,multiFactorInfo:R},operation:A}})).apply(this,arguments)}function Vo(){return(Vo=(0,c.Z)(function*(y,f){const{data:g}=yield Pt((0,P.m9)(y),f);return g.email})).apply(this,arguments)}function Zr(){return(Zr=(0,c.Z)(function*(y,f,g){const v=Ne(y),A=yield au(v,{returnSecureToken:!0,email:f,password:g}),R=yield ur._fromIdTokenResponse(v,"signIn",A);return yield v._updateCurrentUser(R.user),R})).apply(this,arguments)}function Rc(){return(Rc=(0,c.Z)(function*(y,f,g){const v=(0,P.m9)(y),A={requestType:"EMAIL_SIGNIN",email:f};oe(g.handleCodeInApp,v,"argument-error"),g&&ba(v,A,g),yield vi(v,A)})).apply(this,arguments)}function Vs(){return(Vs=(0,c.Z)(function*(y,f,g){const v=(0,P.m9)(y),A=ll.credentialWithLink(f,g||wt());return oe(A._tenantId===(v.tenantId||null),v,"tenant-id-mismatch"),Tn(v,A)})).apply(this,arguments)}function lr(y,f){return si.apply(this,arguments)}function si(){return(si=(0,c.Z)(function*(y,f){return Bt(y,"POST","/v1/accounts:createAuthUri",Wt(y,f))})).apply(this,arguments)}function Us(){return(Us=(0,c.Z)(function*(y,f){const v={identifier:f,continueUri:Zt()?wt():"http://localhost"},{signinMethods:A}=yield lr((0,P.m9)(y),v);return A||[]})).apply(this,arguments)}function yl(){return(yl=(0,c.Z)(function*(y,f){const g=(0,P.m9)(y),A={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};f&&ba(g.auth,A,f);const{email:R}=yield Or(g.auth,A);R!==y.email&&(yield y.reload())})).apply(this,arguments)}function vu(){return(vu=(0,c.Z)(function*(y,f,g){const v=(0,P.m9)(y),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:f};g&&ba(v.auth,R,g);const{email:q}=yield Ic(v.auth,R);q!==y.email&&(yield y.reload())})).apply(this,arguments)}function _l(y,f){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,c.Z)(function*(y,f){return Bt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function vl(){return(vl=(0,c.Z)(function*(y,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const v=(0,P.m9)(y),R={idToken:yield v.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},q=yield sr(v,_l(v.auth,R));v.displayName=q.displayName||null,v.photoURL=q.photoUrl||null;const de=v.providerData.find(({providerId:Ue})=>"password"===Ue);de&&(de.displayName=v.displayName,de.photoURL=v.photoURL),yield v._updateTokensIfNecessary(q)})).apply(this,arguments)}function El(y,f,g){return fo.apply(this,arguments)}function fo(){return(fo=(0,c.Z)(function*(y,f,g){const{auth:v}=y,R={idToken:yield y.getIdToken(),returnSecureToken:!0};f&&(R.email=f),g&&(R.password=g);const q=yield sr(y,Tt(v,R));yield y._updateTokensIfNecessary(q,!0)})).apply(this,arguments)}class po{constructor(f,g,v={}){this.isNewUser=f,this.providerId=g,this.profile=v}}class kc extends po{constructor(f,g,v,A){super(f,g,v),this.username=A}}class Fc extends po{constructor(f,g){super(f,"facebook.com",g)}}class go extends kc{constructor(f,g){super(f,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class Bs extends po{constructor(f,g){super(f,"google.com",g)}}class bl extends kc{constructor(f,g,v){super(f,"twitter.com",g,v)}}function wr(y){const{user:f,_tokenResponse:g}=y;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Pc(y){var f,g;if(!y)return null;const{providerId:v}=y,A=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},R=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!v&&(null==y?void 0:y.idToken)){const q=null===(g=null===(f=tt(y.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(q)return new po(R,"anonymous"!==q&&"custom"!==q?q:null)}if(!v)return null;switch(v){case"facebook.com":return new Fc(R,A);case"github.com":return new go(R,A);case"google.com":return new Bs(R,A);case"twitter.com":return new bl(R,A,y.screenName||null);case"custom":case"anonymous":return new po(R,null);default:return new po(R,v,A)}}(g)}class os{constructor(f,g){this.type=f,this.credential=g}static _fromIdtoken(f){return new os("enroll",f)}static _fromMfaPendingCredential(f){return new os("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,v;if(null==f?void 0:f.multiFactorSession){if(null===(g=f.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return os._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(v=f.multiFactorSession)||void 0===v?void 0:v.idToken)return os._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Da{constructor(f,g,v){this.session=f,this.hints=g,this.signInResolver=v}static _fromError(f,g){const v=Ne(f),A=g.customData._serverResponse,R=(A.mfaInfo||[]).map(de=>lt._fromServerResponse(v,de));oe(A.mfaPendingCredential,v,"internal-error");const q=os._fromMfaPendingCredential(A.mfaPendingCredential);return new Da(q,R,function(){var de=(0,c.Z)(function*(Ue){const Ye=yield Ue._process(v,q);delete A.mfaInfo,delete A.mfaPendingCredential;const pt=Object.assign(Object.assign({},A),{idToken:Ye.idToken,refreshToken:Ye.refreshToken});switch(g.operationType){case"signIn":const rt=yield ur._fromIdTokenResponse(v,g.operationType,pt);return yield v._updateCurrentUser(rt.user),rt;case"reauthenticate":return oe(g.user,v,"internal-error"),ur._forOperation(g.user,g.operationType,pt);default:De(v,"internal-error")}});return function(Ue){return de.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,c.Z)(function*(){return g.signInResolver(f)})()}}function Rn(y,f){return Bt(y,"POST","/v2/accounts/mfaEnrollment:start",Wt(y,f))}class as{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(v=>lt._fromServerResponse(f.auth,v)))})}static _fromUser(f){return new as(f)}getSession(){var f=this;return(0,c.Z)(function*(){return os._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,g){var v=this;return(0,c.Z)(function*(){const A=f,R=yield v.getSession(),q=yield sr(v.user,A._process(v.user.auth,R,g));return yield v.user._updateTokensIfNecessary(q),v.user.reload()})()}unenroll(f){var g=this;return(0,c.Z)(function*(){const v="string"==typeof f?f:f.uid,A=yield g.user.getIdToken(),R=yield sr(g.user,function Mp(y,f){return Bt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Wt(y,f))}(g.user.auth,{idToken:A,mfaEnrollmentId:v}));g.enrolledFactors=g.enrolledFactors.filter(({uid:q})=>q!==v),yield g.user._updateTokensIfNecessary(R);try{yield g.user.reload()}catch(q){if("auth/user-token-expired"!==q.code)throw q}})()}}const Bo=new WeakMap,Dl="__sak";class mo{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Dl,"1"),this.storage.removeItem(Dl),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Sn=(()=>{class y extends mo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,v)=>this.onStorageEvent(g,v),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Bc(){const y=(0,P.z$)();return qt(y)||Qn(y)}()&&function Hn(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=es(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const v of Object.keys(this.listeners)){const A=this.storage.getItem(v),R=this.localCache[v];A!==R&&g(v,R,A)}}onStorageEvent(g,v=!1){if(!g.key)return void this.forAllChangedKeys((de,Ue,Ye)=>{this.notifyListeners(de,Ye)});const A=g.key;if(v?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const de=this.storage.getItem(A);if(g.newValue!==de)null!==g.newValue?this.storage.setItem(A,g.newValue):this.storage.removeItem(A);else if(this.localCache[A]===g.newValue&&!v)return}const R=()=>{const de=this.storage.getItem(A);!v&&this.localCache[A]===de||this.notifyListeners(A,de)},q=this.storage.getItem(A);!function ma(){return(0,P.w1)()&&10===document.documentMode}()||q===g.newValue||g.newValue===g.oldValue?R():setTimeout(R,10)}notifyListeners(g,v){this.localCache[g]=v;const A=this.listeners[g];if(A)for(const R of Array.from(A))R(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,v,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:v,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(v)}_removeListener(g,v){this.listeners[g]&&(this.listeners[g].delete(v),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,v){var A=()=>super._set,R=this;return(0,c.Z)(function*(){yield A().call(R,g,v),R.localCache[g]=JSON.stringify(v)})()}_get(g){var v=()=>super._get,A=this;return(0,c.Z)(function*(){const R=yield v().call(A,g);return A.localCache[g]=JSON.stringify(R),R})()}_remove(g){var v=()=>super._remove,A=this;return(0,c.Z)(function*(){yield v().call(A,g),delete A.localCache[g]})()}}return y.type="LOCAL",y})(),cr=(()=>{class y extends mo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,v){}_removeListener(g,v){}}return y.type="SESSION",y})();let Rr=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const v=this.receivers.find(R=>R.isListeningto(g));if(v)return v;const A=new y(g);return this.receivers.push(A),A}isListeningto(g){return this.eventTarget===g}handleEvent(g){var v=this;return(0,c.Z)(function*(){const A=g,{eventId:R,eventType:q,data:de}=A.data,Ue=v.handlersMap[q];if(!(null==Ue?void 0:Ue.size))return;A.ports[0].postMessage({status:"ack",eventId:R,eventType:q});const Ye=Array.from(Ue).map(function(){var rt=(0,c.Z)(function*(wn){return wn(A.origin,de)});return function(wn){return rt.apply(this,arguments)}}()),pt=yield function dr(y){return Promise.all(y.map(function(){var f=(0,c.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(v){return{fulfilled:!1,reason:v}}});return function(g){return f.apply(this,arguments)}}()))}(Ye);A.ports[0].postMessage({status:"done",eventId:R,eventType:q,response:pt})})()}_subscribe(g,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(v)}_unsubscribe(g,v){this.handlersMap[g]&&v&&this.handlersMap[g].delete(v),(!v||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function jo(y="",f=10){let g="";for(let v=0;v<f;v++)g+=Math.floor(10*Math.random());return y+g}class jc{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,v=50){var A=this;return(0,c.Z)(function*(){const R="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let q,de;return new Promise((Ue,Ye)=>{const pt=jo("",20);R.port1.start();const rt=setTimeout(()=>{Ye(new Error("unsupported_event"))},v);de={messageChannel:R,onMessage(wn){const qi=wn;if(qi.data.eventId===pt)switch(qi.data.status){case"ack":clearTimeout(rt),q=setTimeout(()=>{Ye(new Error("timeout"))},3e3);break;case"done":clearTimeout(q),Ue(qi.data.response);break;default:clearTimeout(rt),clearTimeout(q),Ye(new Error("invalid_response"))}}},A.handlers.add(de),R.port1.addEventListener("message",de.onMessage),A.target.postMessage({eventType:f,eventId:pt,data:g},[R.port2])}).finally(()=>{de&&A.removeMessageHandler(de)})})()}}function ln(){return window}function bi(){return void 0!==ln().WorkerGlobalScope&&"function"==typeof ln().importScripts}function oi(){return(oi=(0,c.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const Tl="firebaseLocalStorageDb",yo="firebaseLocalStorage",Nn="fbase_key";class us{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Ho(y,f){return y.transaction([yo],f?"readwrite":"readonly").objectStore(yo)}function Hs(){const y=indexedDB.open(Tl,1);return new Promise((f,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const v=y.result;try{v.createObjectStore(yo,{keyPath:Nn})}catch(A){g(A)}}),y.addEventListener("success",(0,c.Z)(function*(){const v=y.result;v.objectStoreNames.contains(yo)?f(v):(v.close(),yield function ai(){const y=indexedDB.deleteDatabase(Tl);return new us(y).toPromise()}(),f(yield Hs()))}))})}function Ta(y,f,g){return Li.apply(this,arguments)}function Li(){return(Li=(0,c.Z)(function*(y,f,g){const v=Ho(y,!0).put({[Nn]:f,value:g});return new us(v).toPromise()})).apply(this,arguments)}function $s(){return($s=(0,c.Z)(function*(y,f){const g=Ho(y,!1).get(f),v=yield new us(g).toPromise();return void 0===v?null:v.value})).apply(this,arguments)}function Vi(y,f){const g=Ho(y,!0).delete(f);return new us(g).toPromise()}const Ci=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,c.Z)(function*(){return g.db||(g.db=yield Hs()),g.db})()}_withRetries(g){var v=this;return(0,c.Z)(function*(){let A=0;for(;;)try{const R=yield v._openDb();return yield g(R)}catch(R){if(A++>3)throw R;v.db&&(v.db.close(),v.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,c.Z)(function*(){return bi()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,c.Z)(function*(){g.receiver=Rr._getInstance(function Hc(){return bi()?self:null}()),g.receiver._subscribe("keyChanged",function(){var v=(0,c.Z)(function*(A,R){return{keyProcessed:(yield g._poll()).includes(R.key)}});return function(A,R){return v.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var v=(0,c.Z)(function*(A,R){return["keyChanged"]});return function(A,R){return v.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,c.Z)(function*(){var v,A;if(g.activeServiceWorker=yield function Eu(){return oi.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new jc(g.activeServiceWorker);const R=yield g.sender._send("ping",{},800);!R||(null===(v=R[0])||void 0===v?void 0:v.fulfilled)&&(null===(A=R[0])||void 0===A?void 0:A.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var v=this;return(0,c.Z)(function*(){if(v.sender&&v.activeServiceWorker&&function At(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===v.activeServiceWorker)try{yield v.sender._send("keyChanged",{key:g},v.serviceWorkerReceiverAvailable?800:50)}catch(A){}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Hs();return yield Ta(g,Dl,"1"),yield Vi(g,Dl),!0}catch(g){}return!1})()}_withPendingWrite(g){var v=this;return(0,c.Z)(function*(){v.pendingWrites++;try{yield g()}finally{v.pendingWrites--}})()}_set(g,v){var A=this;return(0,c.Z)(function*(){return A._withPendingWrite((0,c.Z)(function*(){return yield A._withRetries(R=>Ta(R,g,v)),A.localCache[g]=v,A.notifyServiceWorker(g)}))})()}_get(g){var v=this;return(0,c.Z)(function*(){const A=yield v._withRetries(R=>function Al(y,f){return $s.apply(this,arguments)}(R,g));return v.localCache[g]=A,A})()}_remove(g){var v=this;return(0,c.Z)(function*(){return v._withPendingWrite((0,c.Z)(function*(){return yield v._withRetries(A=>Vi(A,g)),delete v.localCache[g],v.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,c.Z)(function*(){const v=yield g._withRetries(q=>{const de=Ho(q,!1).getAll();return new us(de).toPromise()});if(!v)return[];if(0!==g.pendingWrites)return[];const A=[],R=new Set;for(const{fbase_key:q,value:de}of v)R.add(q),JSON.stringify(g.localCache[q])!==JSON.stringify(de)&&(g.notifyListeners(q,de),A.push(q));for(const q of Object.keys(g.localCache))g.localCache[q]&&!R.has(q)&&(g.notifyListeners(q,null),A.push(q));return A})()}notifyListeners(g,v){this.localCache[g]=v;const A=this.listeners[g];if(A)for(const R of Array.from(A))R(v)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(v)}_removeListener(g,v){this.listeners[g]&&(this.listeners[g].delete(v),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Go(y,f){return Bt(y,"POST","/v2/accounts/mfaSignIn:start",Wt(y,f))}function Ii(){return(Ii=(0,c.Z)(function*(y){return(yield Bt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function xn(y){return new Promise((f,g)=>{const v=document.createElement("script");v.setAttribute("src",y),v.onload=f,v.onerror=A=>{const R=ve("internal-error");R.customData=A,g(R)},v.type="text/javascript",v.charset="UTF-8",function qc(){var y,f;return null!==(f=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==f?f:document}().appendChild(v)})}function qo(y){return`__${y}${Math.floor(1e6*Math.random())}`}const Er=1e12;class Ui{constructor(f){this.auth=f,this.counter=Er,this._widgets=new Map}render(f,g){const v=this.counter;return this._widgets.set(v,new Bi(f,this.auth.name,g||{})),this.counter++,v}reset(f){var g;const v=f||Er;null===(g=this._widgets.get(v))||void 0===g||g.delete(),this._widgets.delete(v)}getResponse(f){var g;return(null===(g=this._widgets.get(f||Er))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,c.Z)(function*(){var v;return null===(v=g._widgets.get(f||Er))||void 0===v||v.execute(),""})()}}class Bi{constructor(f,g,v){this.params=v,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof f?document.getElementById(f):f;oe(A,"argument-error",{appName:g}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function yn(y){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<y;v++)f.push(g.charAt(Math.floor(Math.random()*g.length)));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch(v){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(v){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ls=qo("rcb"),zc=new nn(3e4,6e4);class Rp{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!ln().grecaptcha}load(f,g=""){return oe(function Np(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),f,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(ln().grecaptcha):new Promise((v,A)=>{const R=ln().setTimeout(()=>{A(ve(f,"network-request-failed"))},zc.get());ln()[ls]=()=>{ln().clearTimeout(R),delete ln()[ls];const de=ln().grecaptcha;if(!de)return void A(ve(f,"internal-error"));const Ue=de.render;de.render=(Ye,pt)=>{const rt=Ue(Ye,pt);return this.counter++,rt},this.hostLanguage=g,v(de)},xn(`https://www.google.com/recaptcha/api.js??${(0,P.xO)({onload:ls,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(R),A(ve(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!ln().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Pp{load(f){return(0,c.Z)(function*(){return new Ui(f)})()}clearedOneInstance(){}}const Gs="recaptcha",Wr={theme:"light",type:"image"};class kp{constructor(f,g=Object.assign({},Wr),v){this.parameters=g,this.type=Gs,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ne(v),this.isInvisible="invisible"===this.parameters.size,oe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof f?document.getElementById(f):f;oe(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Pp:new Rp,this.validateStartingState()}verify(){var f=this;return(0,c.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),v=f.getAssertedRecaptcha();return v.getResponse(g)||new Promise(R=>{const q=de=>{!de||(f.tokenChangeListeners.delete(q),R(de))};f.tokenChangeListeners.add(q),f.isInvisible&&v.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){oe(!this.parameters.sitekey,this.auth,"argument-error"),oe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),oe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(v=>v(g)),"function"==typeof f)f(g);else if("string"==typeof f){const v=ln()[f];"function"==typeof v&&v(g)}}}assertNotDestroyed(){oe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,c.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const v=document.createElement("div");g.appendChild(v),g=v}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,c.Z)(function*(){oe(Zt()&&!bi(),f.auth,"internal-error"),yield function qs(){let y=null;return new Promise(f=>{"complete"!==document.readyState?(y=()=>f(),window.addEventListener("load",y)):f()}).catch(f=>{throw y&&window.removeEventListener("load",y),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function Nr(y){return Ii.apply(this,arguments)}(f.auth);oe(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return oe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class cs{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=Po._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function pn(){return(pn=(0,c.Z)(function*(y,f,g){const v=Ne(y),A=yield br(v,f,(0,P.m9)(g));return new cs(A,R=>Tn(v,R))})).apply(this,arguments)}function Zo(){return(Zo=(0,c.Z)(function*(y,f,g){const v=(0,P.m9)(y);yield Ps(!1,v,"phone");const A=yield br(v.auth,f,(0,P.m9)(g));return new cs(A,R=>wi(v,R))})).apply(this,arguments)}function Ml(){return(Ml=(0,c.Z)(function*(y,f,g){const v=(0,P.m9)(y),A=yield br(v.auth,f,(0,P.m9)(g));return new cs(A,R=>ks(v,R))})).apply(this,arguments)}function br(y,f,g){return ui.apply(this,arguments)}function ui(){return(ui=(0,c.Z)(function*(y,f,g){var v;const A=yield g.verify();try{let R;if(oe("string"==typeof A,y,"argument-error"),oe(g.type===Gs,y,"argument-error"),R="string"==typeof f?{phoneNumber:f}:f,"session"in R){const q=R.session;if("phoneNumber"in R)return oe("enroll"===q.type,y,"internal-error"),(yield Rn(y,{idToken:q.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{oe("signin"===q.type,y,"internal-error");const de=(null===(v=R.multiFactorHint)||void 0===v?void 0:v.uid)||R.multiFactorUid;return oe(de,y,"missing-multi-factor-info"),(yield Go(y,{mfaPendingCredential:q.credential,mfaEnrollmentId:de,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:q}=yield Dp(y,{phoneNumber:R.phoneNumber,recaptchaToken:A});return q}}finally{g._reset()}})).apply(this,arguments)}function ds(){return(ds=(0,c.Z)(function*(y,f){yield un((0,P.m9)(y),f)})).apply(this,arguments)}let Ti=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=Ne(g)}verifyPhoneNumber(g,v){return br(this.auth,g,(0,P.m9)(v))}static credential(g,v){return Po._fromVerification(g,v)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:v,temporaryProof:A}=g;return v&&A?Po._fromTokenResponse(v,A):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function ji(y,f){return f?ce(f):(oe(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Sa extends Xt{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return On(f,this._buildIdpRequest())}_linkToIdToken(f,g){return On(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return On(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function Rl(y){return ho(y.auth,new Sa(y),y.bypassAuthState)}function Nl(y){const{auth:f,user:g}=y;return oe(g,f,"internal-error"),Oc(g,new Sa(y),y.bypassAuthState)}function Ot(y){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,c.Z)(function*(y){const{auth:f,user:g}=y;return oe(g,f,"internal-error"),un(g,new Sa(y),y.bypassAuthState)})).apply(this,arguments)}class $n{constructor(f,g,v,A,R=!1){this.auth=f,this.resolver=v,this.user=A,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,c.Z)(function*(v,A){f.pendingPromise={resolve:v,reject:A};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(R){f.reject(R)}});return function(v,A){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,c.Z)(function*(){const{urlResponse:v,sessionId:A,postBody:R,tenantId:q,error:de,type:Ue}=f;if(de)return void g.reject(de);const Ye={auth:g.auth,requestUri:v,sessionId:A,tenantId:q||void 0,postBody:R||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Ue)(Ye))}catch(pt){g.reject(pt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Rl;case"linkViaPopup":case"linkViaRedirect":return Ot;case"reauthViaPopup":case"reauthViaRedirect":return Nl;default:De(this.auth,"internal-error")}}resolve(f){ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const kl=new nn(2e3,1e4);function Zc(){return(Zc=(0,c.Z)(function*(y,f,g){const v=Ne(y);Ge(y,f,Rs);const A=ji(v,g);return new $i(v,"signInViaPopup",f,A).executeNotNull()})).apply(this,arguments)}function Cu(){return(Cu=(0,c.Z)(function*(y,f,g){const v=(0,P.m9)(y);Ge(v.auth,f,Rs);const A=ji(v.auth,g);return new $i(v.auth,"reauthViaPopup",f,A,v).executeNotNull()})).apply(this,arguments)}function Iu(){return(Iu=(0,c.Z)(function*(y,f,g){const v=(0,P.m9)(y);Ge(v.auth,f,Rs);const A=ji(v.auth,g);return new $i(v.auth,"linkViaPopup",f,A,v).executeNotNull()})).apply(this,arguments)}let $i=(()=>{class y extends $n{constructor(g,v,A,R,q){super(g,v,R,q),this.provider=A,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,c.Z)(function*(){const v=yield g.execute();return oe(v,g.auth,"internal-error"),v})()}onExecution(){var g=this;return(0,c.Z)(function*(){ue(1===g.filter.length,"Popup operations only handle one event");const v=jo();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],v),g.authWindow.associatedEvent=v,g.resolver._originValidation(g.auth).catch(A=>{g.reject(A)}),g.resolver._isIframeWebStorageSupported(g.auth,A=>{A||g.reject(ve(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(ve(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var v,A;this.pollId=(null===(A=null===(v=this.authWindow)||void 0===v?void 0:v.window)||void 0===A?void 0:A.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(ve(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,kl.get())};g()}}return y.currentPopupAction=null,y})();const Gi=new Map;class Gn extends $n{constructor(f,g,v=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,v),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,c.Z)(function*(){let v=Gi.get(g.auth._key());if(!v){try{const R=(yield function li(y,f){return Fl.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;v=()=>Promise.resolve(R)}catch(A){v=()=>Promise.reject(A)}Gi.set(g.auth._key(),v)}return g.bypassAuthState||Gi.set(g.auth._key(),()=>Promise.resolve(null)),v()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,v=this;return(0,c.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(v,f);if("unknown"!==f.type){if(f.eventId){const A=yield v.auth._redirectUserForId(f.eventId);if(A)return v.user=A,g().call(v,f);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function Fl(){return(Fl=(0,c.Z)(function*(y,f){const g=I(f),v=C(y);if(!(yield v._isAvailable()))return!1;const A="true"===(yield v._get(g));return yield v._remove(g),A})).apply(this,arguments)}function vo(y,f){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,c.Z)(function*(y,f){return C(y)._set(I(f),"true")})).apply(this,arguments)}function C(y){return ce(y._redirectPersistence)}function I(y){return pe("pendingRedirect",y.config.apiKey,y.name)}function K(){return(K=(0,c.Z)(function*(y,f,g){const v=Ne(y);Ge(y,f,Rs);const A=ji(v,g);return yield vo(A,v),A._openRedirect(v,f,"signInViaRedirect")})).apply(this,arguments)}function Se(){return(Se=(0,c.Z)(function*(y,f,g){const v=(0,P.m9)(y);Ge(v.auth,f,Rs);const A=ji(v.auth,g);yield vo(A,v.auth);const R=yield wo(v);return A._openRedirect(v.auth,f,"reauthViaRedirect",R)})).apply(this,arguments)}function xt(){return(xt=(0,c.Z)(function*(y,f,g){const v=(0,P.m9)(y);Ge(v.auth,f,Rs);const A=ji(v.auth,g);yield Ps(!1,v,f.providerId),yield vo(A,v.auth);const R=yield wo(v);return A._openRedirect(v.auth,f,"linkViaRedirect",R)})).apply(this,arguments)}function Pn(){return(Pn=(0,c.Z)(function*(y,f){return yield Ne(y)._initializationPromise,vn(y,f,!1)})).apply(this,arguments)}function vn(y,f){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,c.Z)(function*(y,f,g=!1){const v=Ne(y),A=ji(v,f),q=yield new Gn(v,A,g).execute();return q&&!g&&(delete q.user._redirectEventId,yield v._persistUserIfCurrent(q.user),yield v._setRedirectUser(null,f)),q})).apply(this,arguments)}function wo(y){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,c.Z)(function*(y){const f=jo(`${y.uid}:::`);return y._redirectEventId=f,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),f})).apply(this,arguments)}class Ai{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(f,v)&&(g=!0,this.sendToConsumer(f,v),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Ll(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Kc(y);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var v;if(f.error&&!Kc(f)){const A=(null===(v=f.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";g.onError(ve(this.auth,A))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const v=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&v}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Eo(f))}saveEventToCache(f){this.cachedEventUids.add(Eo(f)),this.lastProcessedEventTime=Date.now()}}function Eo(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(f=>f).join("-")}function Kc({type:y,error:f}){return"unknown"===y&&"auth/no-auth-event"===(null==f?void 0:f.code)}function Vl(y){return xa.apply(this,arguments)}function xa(){return(xa=(0,c.Z)(function*(y,f={}){return Bt(y,"GET","/v1/projects",f)})).apply(this,arguments)}const Lp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hm=/^https?/;function hs(){return(hs=(0,c.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:f}=yield Vl(y);for(const g of f)try{if(Ul(g))return}catch(v){}De(y,"unauthorized-domain")})).apply(this,arguments)}function Ul(y){const f=wt(),{protocol:g,hostname:v}=new URL(f);if(y.startsWith("chrome-extension://")){const q=new URL(y);return""===q.hostname&&""===v?"chrome-extension:"===g&&y.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&q.hostname===v}if(!Hm.test(g))return!1;if(Lp.test(y))return v===y;const A=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(v)}const Gm=new nn(3e4,6e4);function qm(){const y=ln().___jsl;if(null==y?void 0:y.H)for(const f of Object.keys(y.H))if(y.H[f].r=y.H[f].r||[],y.H[f].L=y.H[f].L||[],y.H[f].r=[...y.H[f].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let Yc=null;function zm(y){return Yc=Yc||function Vp(y){return new Promise((f,g)=>{var v,A,R;function q(){qm(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{qm(),g(ve(y,"network-request-failed"))},timeout:Gm.get()})}if(null===(A=null===(v=ln().gapi)||void 0===v?void 0:v.iframes)||void 0===A?void 0:A.Iframe)f(gapi.iframes.getContext());else{if(!(null===(R=ln().gapi)||void 0===R?void 0:R.load)){const de=qo("iframefcb");return ln()[de]=()=>{gapi.load?q():g(ve(y,"network-request-failed"))},xn(`https://apis.google.com/js/api.js?onload=${de}`).catch(Ue=>g(Ue))}q()}}).catch(f=>{throw Yc=null,f})}(y),Yc}const Eh=new nn(5e3,15e3),Co={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Jc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ma(y){const f=y.config;oe(f.authDomain,y,"auth-domain-config-required");const g=f.emulator?rn(f,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,v={apiKey:f.apiKey,appName:y.name,v:ae.SDK_VERSION},A=Jc.get(y.config.apiHost);A&&(v.eid=A);const R=y._getFrameworks();return R.length&&(v.fw=R.join(",")),`${g}?${(0,P.xO)(v).slice(1)}`}function Yo(){return Yo=(0,c.Z)(function*(y){const f=yield zm(y),g=ln().gapi;return oe(g,y,"internal-error"),f.open({where:document.body,url:Ma(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Co,dontclear:!0},v=>new Promise(function(){var A=(0,c.Z)(function*(R,q){yield v.restyle({setHideOnLeave:!1});const de=ve(y,"network-request-failed"),Ue=ln().setTimeout(()=>{q(de)},Eh.get());function Ye(){ln().clearTimeout(Ue),R(v)}v.ping(Ye).then(Ye,()=>{q(de)})});return function(R,q){return A.apply(this,arguments)}}()))}),Yo.apply(this,arguments)}const Wm={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ed{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function Dh(y,f,g,v,A,R){oe(y.config.authDomain,y,"auth-domain-config-required"),oe(y.config.apiKey,y,"invalid-api-key");const q={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:v,v:ae.SDK_VERSION,eventId:A};if(f instanceof Rs){f.setDefaultLanguage(y.languageCode),q.providerId=f.providerId||"",(0,P.xb)(f.getCustomParameters())||(q.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Ue,Ye]of Object.entries(R||{}))q[Ue]=Ye}if(f instanceof Gr){const Ue=f.getScopes().filter(Ye=>""!==Ye);Ue.length>0&&(q.scopes=Ue.join(","))}y.tenantId&&(q.tid=y.tenantId);const de=q;for(const Ue of Object.keys(de))void 0===de[Ue]&&delete de[Ue];return`${function Ym({config:y}){return y.emulator?rn(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,P.xO)(de).slice(1)}`}const Zs="webStorageSupport";class Th extends class Up{constructor(f){this.factorId=f}_process(f,g,v){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,v);case"signin":return this._finalizeSignIn(f,g.credential);default:return W("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Th(f)}_finalizeEnroll(f,g,v){return function Vc(y,f){return Bt(y,"POST","/v2/accounts/mfaEnrollment:finalize",Wt(y,f))}(f,{idToken:g,displayName:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function Aa(y,f){return Bt(y,"POST","/v2/accounts/mfaSignIn:finalize",Wt(y,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Jm=(()=>{class y{constructor(){}static assertion(g){return Th._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var Qm="@firebase/auth",Ah="0.19.11";class Bp{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,c.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(v=>{var A;f((null===(A=v)||void 0===A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);!g||(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ws(){return window}function Su(){return(Su=(0,c.Z)(function*(y,f,g){var v;const{BuildInfo:A}=Ws();ue(f.sessionId,"AuthEvent did not contain a session ID");const R=yield Oa(f.sessionId),q={};return Qn()?q.ibi=A.packageName:gn()?q.apn=A.packageName:De(y,"operation-not-supported-in-this-environment"),A.displayName&&(q.appDisplayName=A.displayName),q.sessionId=R,Dh(y,g,f.type,void 0,null!==(v=f.eventId)&&void 0!==v?v:void 0,q)})).apply(this,arguments)}function Si(){return(Si=(0,c.Z)(function*(y){const{BuildInfo:f}=Ws(),g={};Qn()?g.iosBundleId=f.packageName:gn()?g.androidPackageName=f.packageName:De(y,"operation-not-supported-in-this-environment"),yield Vl(y,g)})).apply(this,arguments)}function nd(){return(nd=(0,c.Z)(function*(y,f,g){const{cordova:v}=Ws();let A=()=>{};try{yield new Promise((R,q)=>{let de=null;function Ue(){var rt;R();const wn=null===(rt=v.plugins.browsertab)||void 0===rt?void 0:rt.close;"function"==typeof wn&&wn(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function Ye(){de||(de=window.setTimeout(()=>{q(ve(y,"redirect-cancelled-by-user"))},2e3))}function pt(){"visible"===(null==document?void 0:document.visibilityState)&&Ye()}f.addPassiveListener(Ue),document.addEventListener("resume",Ye,!1),gn()&&document.addEventListener("visibilitychange",pt,!1),A=()=>{f.removePassiveListener(Ue),document.removeEventListener("resume",Ye,!1),document.removeEventListener("visibilitychange",pt,!1),de&&window.clearTimeout(de)}})}finally{A()}})).apply(this,arguments)}function Oa(y){return Hp.apply(this,arguments)}function Hp(){return(Hp=(0,c.Z)(function*(y){const f=xu(y),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(A=>A.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function xu(y){if(ue(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const f=new ArrayBuffer(y.length),g=new Uint8Array(f);for(let v=0;v<y.length;v++)g[v]=y.charCodeAt(v);return g}!function ey(y){(0,ae._registerComponent)(new J.wA("auth",(f,{options:g})=>{const v=f.getProvider("app").getImmediate(),A=f.getProvider("heartbeat"),{apiKey:R,authDomain:q}=v.options;return((de,Ue)=>{oe(R&&!R.includes(":"),"invalid-api-key",{appName:de.name}),oe(!(null==q?void 0:q.includes(":")),"argument-error",{appName:de.name});const Ye={apiKey:R,authDomain:q,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ya(y)},pt=new ni(de,Ue,Ye);return function he(y,f){const g=(null==f?void 0:f.persistence)||[],v=(Array.isArray(g)?g:[g]).map(ce);(null==f?void 0:f.errorMap)&&y._updateErrorMap(f.errorMap),y._initializeWithPersistence(v,null==f?void 0:f.popupRedirectResolver)}(pt,g),pt})(v,A)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,v)=>{f.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new J.wA("auth-internal",f=>{const g=Ne(f.getProvider("auth").getImmediate());return new Bp(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(Qm,Ah,function Xm(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ae.registerVersion)(Qm,Ah,"esm2017")}("Browser");class Oh extends Ai{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,c.Z)(function*(){yield f.initPromise})()}}function Hl(y){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,c.Z)(function*(y){const f=yield Mu()._get(Nh(y));return f&&(yield Mu()._remove(Nh(y))),f})).apply(this,arguments)}function $l(){const y=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const v=Math.floor(Math.random()*f.length);y.push(f.charAt(v))}return y.join("")}function Mu(){return ce(Sn)}function Nh(y){return pe("authEvent",y.config.apiKey,y.name)}function id(y){if(!(null==y?void 0:y.includes("?")))return{};const[f,...g]=y.split("?");return(0,P.zd)(g.join("?"))}function Lh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ve("no-auth-event")}}function sd(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function Gp(y=(0,P.z$)()){return!("file:"!==sd()&&"ionic:"!==sd()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Cr(){try{const y=self.localStorage,f=jo();if(y)return y.setItem(f,"1"),y.removeItem(f),!function Xo(y=(0,P.z$)()){return function sy(){return(0,P.w1)()&&11===(null==document?void 0:document.documentMode)}()||function oy(y=(0,P.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,P.hl)()}catch(y){return Io()&&(0,P.hl)()}return!1}function Io(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function zl(){return(function iy(){return"http:"===sd()||"https:"===sd()}()||(0,P.ru)()||Gp())&&!function od(){return(0,P.b$)()||(0,P.UG)()}()&&Cr()&&!Io()}function Vh(){return Gp()&&"undefined"!=typeof document}function Ra(){return(Ra=(0,c.Z)(function*(){return!!Vh()&&new Promise(y=>{const f=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),y(!0)})})})).apply(this,arguments)}const xi={LOCAL:"local",NONE:"none",SESSION:"session"},Na=oe,Bh="persistence";function Pa(y){return jh.apply(this,arguments)}function jh(){return(jh=(0,c.Z)(function*(y){yield y._initializationPromise;const f=Zl(),g=pe(Bh,y.config.apiKey,y.name);f&&f.setItem(g,y._getPersistence())})).apply(this,arguments)}function Zl(){var y;try{return(null===(y=function Uh(){return"undefined"!=typeof window?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch(f){return null}}const ay=oe;class di{constructor(){this.browserResolver=ce(class Jo{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cr,this._completeRedirectFn=vn}_openPopup(f,g,v,A){var R=this;return(0,c.Z)(function*(){var q;ue(null===(q=R.eventManagers[f._key()])||void 0===q?void 0:q.manager,"_initialize() not called before _openPopup()");const de=Dh(f,g,v,wt(),A);return function td(y,f,g,v=500,A=600){const R=Math.max((window.screen.availHeight-A)/2,0).toString(),q=Math.max((window.screen.availWidth-v)/2,0).toString();let de="";const Ue=Object.assign(Object.assign({},Wm),{width:v.toString(),height:A.toString(),top:R,left:q}),Ye=(0,P.z$)().toLowerCase();g&&(de=yr(Ye)?"_blank":g),ft(Ye)&&(f=f||"http://localhost",Ue.scrollbars="yes");const pt=Object.entries(Ue).reduce((wn,[qi,Kl])=>`${wn}${qi}=${Kl},`,"");if(function eu(y=(0,P.z$)()){var f;return Qn(y)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(Ye)&&"_self"!==de)return function Ih(y,f){const g=document.createElement("a");g.href=y,g.target=f;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(v)}(f||"",de),new ed(null);const rt=window.open(f||"",de,pt);oe(rt,y,"popup-blocked");try{rt.focus()}catch(wn){}return new ed(rt)}(f,de,jo())})()}_openRedirect(f,g,v,A){var R=this;return(0,c.Z)(function*(){return yield R._originValidation(f),function wh(y){ln().location.href=y}(Dh(f,g,v,wt(),A)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:A,promise:R}=this.eventManagers[g];return A?Promise.resolve(A):(ue(R,"If manager is not set, promise should be"),R)}const v=this.initAndGetManager(f);return this.eventManagers[g]={promise:v},v.catch(()=>{delete this.eventManagers[g]}),v}initAndGetManager(f){var g=this;return(0,c.Z)(function*(){const v=yield function Zm(y){return Yo.apply(this,arguments)}(f),A=new Ai(f);return v.register("authEvent",R=>(oe(null==R?void 0:R.authEvent,f,"invalid-auth-event"),{status:A.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:A},g.iframes[f._key()]=v,A})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(Zs,{type:Zs},A=>{var R;const q=null===(R=null==A?void 0:A[0])||void 0===R?void 0:R[Zs];void 0!==q&&g(!!q),De(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function $m(y){return hs.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return es()||qt()||Qn()}}),this.cordovaResolver=ce(class Fh{constructor(){this._redirectPersistence=cr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=vn}_initialize(f){var g=this;return(0,c.Z)(function*(){const v=f._key();let A=g.eventManagers.get(v);return A||(A=new Oh(f),g.eventManagers.set(v,A),g.attachCallbackListeners(f,A)),A})()}_openPopup(f){De(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,v,A){var R=this;return(0,c.Z)(function*(){!function rd(y){var f,g,v,A,R,q,de,Ue,Ye,pt;const rt=Ws();oe("function"==typeof(null===(f=null==rt?void 0:rt.universalLinks)||void 0===f?void 0:f.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),oe(void 0!==(null===(g=null==rt?void 0:rt.BuildInfo)||void 0===g?void 0:g.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),oe("function"==typeof(null===(R=null===(A=null===(v=null==rt?void 0:rt.cordova)||void 0===v?void 0:v.plugins)||void 0===A?void 0:A.browsertab)||void 0===R?void 0:R.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),oe("function"==typeof(null===(Ue=null===(de=null===(q=null==rt?void 0:rt.cordova)||void 0===q?void 0:q.plugins)||void 0===de?void 0:de.browsertab)||void 0===Ue?void 0:Ue.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),oe("function"==typeof(null===(pt=null===(Ye=null==rt?void 0:rt.cordova)||void 0===Ye?void 0:Ye.InAppBrowser)||void 0===pt?void 0:pt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const q=yield R._initialize(f);yield q.initialized(),q.resetRedirect(),function Du(){Gi.clear()}(),yield R._originValidation(f);const de=function Rh(y,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:$l(),postBody:null,tenantId:y.tenantId,error:ve(y,"no-auth-event")}}(f,v,A);yield function O0(y,f){return Mu()._set(Nh(y),f)}(f,de);const Ue=yield function Sh(y,f,g){return Su.apply(this,arguments)}(f,de,g),Ye=yield function jl(y){const{cordova:f}=Ws();return new Promise(g=>{f.plugins.browsertab.isAvailable(v=>{let A=null;v?f.plugins.browsertab.openUrl(y):A=f.InAppBrowser.open(y,function so(y=(0,P.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(A)})})}(Ue);return function jp(y,f,g){return nd.apply(this,arguments)}(f,q,Ye)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function xh(y){return Si.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:v,handleOpenURL:A,BuildInfo:R}=Ws(),q=setTimeout((0,c.Z)(function*(){yield Hl(f),g.onEvent(Lh())}),500),de=function(){var pt=(0,c.Z)(function*(rt){clearTimeout(q);const wn=yield Hl(f);let qi=null;wn&&(null==rt?void 0:rt.url)&&(qi=function ny(y,f){var g,v;const A=function Gl(y){const f=id(y),g=f.link?decodeURIComponent(f.link):void 0,v=id(g).link,A=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return id(A).link||A||v||g||y}(f);if(A.includes("/__/auth/callback")){const R=id(A),q=R.firebaseError?function Ph(y){try{return JSON.parse(y)}catch(f){return null}}(decodeURIComponent(R.firebaseError)):null,de=null===(v=null===(g=null==q?void 0:q.code)||void 0===g?void 0:g.split("auth/"))||void 0===v?void 0:v[1],Ue=de?ve(de):null;return Ue?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Ue,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:A,postBody:null}}return null}(wn,rt.url)),g.onEvent(qi||Lh())});return function(wn){return pt.apply(this,arguments)}}();void 0!==v&&"function"==typeof v.subscribe&&v.subscribe(null,de);const Ue=A,Ye=`${R.packageName.toLowerCase()}://`;Ws().handleOpenURL=function(){var pt=(0,c.Z)(function*(rt){if(rt.toLowerCase().startsWith(Ye)&&de({url:rt}),"function"==typeof Ue)try{Ue(rt)}catch(wn){console.error(wn)}});return function(rt){return pt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=cr,this._completeRedirectFn=vn}_initialize(f){var g=this;return(0,c.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,v,A){var R=this;return(0,c.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(f,g,v,A)})()}_openRedirect(f,g,v,A){var R=this;return(0,c.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(f,g,v,A)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return Vh()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ay(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,c.Z)(function*(){if(f.underlyingResolver)return;const g=yield function kr(){return Ra.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function Zp(y){return y.unwrap()}function ka(y){return Wp(y)}function Wp(y){const{_tokenResponse:f}=y instanceof P.ZR?y.customData:y;if(!f)return null;if(!(y instanceof P.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return Ti.credentialFromResult(y);const g=f.providerId;if(!g||"password"===g)return null;let v;switch(g){case"google.com":v=va;break;case"facebook.com":v=lo;break;case"github.com":v=xc;break;case"twitter.com":v=ou;break;default:const{oauthIdToken:A,oauthAccessToken:R,oauthTokenSecret:q,pendingToken:de,nonce:Ue}=f;return R||q||A||de?de?g.startsWith("saml.")?Fo._create(g,de):rs._fromParams({providerId:g,signInMethod:g,pendingToken:de,idToken:A,accessToken:R}):new ko(g).credential({idToken:A,accessToken:R,rawNonce:Ue}):null}return y instanceof P.ZR?v.credentialFromError(y):v.credentialFromResult(y)}function Ir(y,f){return f.catch(g=>{throw g instanceof P.ZR&&function ly(y,f){var g;const v=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===f.code)f.resolver=new cy(y,function wu(y,f){var g;const v=(0,P.m9)(y),A=f;return oe(f.customData.operationType,v,"argument-error"),oe(null===(g=A.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,v,"argument-error"),Da._fromError(v,A)}(y,f));else if(v){const A=Wp(f),R=f;A&&(R.credential=A,R.tenantId=v.tenantId||void 0,R.email=v.email||void 0,R.phoneNumber=v.phoneNumber||void 0)}}(y,g),g}).then(g=>{const A=g.user;return{operationType:g.operationType,credential:ka(g),additionalUserInfo:wr(g),user:Do.getOrCreate(A)}})}function Hh(y,f){return $h.apply(this,arguments)}function $h(){return($h=(0,c.Z)(function*(y,f){const g=yield f;return{verificationId:g.verificationId,confirm:v=>Ir(y,g.confirm(v))}})).apply(this,arguments)}class cy{constructor(f,g){this.resolver=g,this.auth=function uy(y){return y.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Ir(Zp(this.auth),this.resolver.resolveSignIn(f))}}class Do{constructor(f){this._delegate=f,this.multiFactor=function Uc(y){const f=(0,P.m9)(y);return Bo.has(f)||Bo.set(f,as._fromUser(f)),Bo.get(f)}(f)}static getOrCreate(f){return Do.USER_MAP.has(f)||Do.USER_MAP.set(f,new Do(f)),Do.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,c.Z)(function*(){return Ir(g.auth,wi(g._delegate,f))})()}linkWithPhoneNumber(f,g){var v=this;return(0,c.Z)(function*(){return Hh(v.auth,function xl(y,f,g){return Zo.apply(this,arguments)}(v._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,c.Z)(function*(){return Ir(g.auth,function Hi(y,f,g){return Iu.apply(this,arguments)}(g._delegate,f,di))})()}linkWithRedirect(f){var g=this;return(0,c.Z)(function*(){return yield Pa(Ne(g.auth)),function We(y,f,g){return function _t(y,f,g){return xt.apply(this,arguments)}(y,f,g)}(g._delegate,f,di)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,c.Z)(function*(){return Ir(g.auth,ks(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return Hh(this.auth,function Fp(y,f,g){return Ml.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return Ir(this.auth,function _o(y,f,g){return Cu.apply(this,arguments)}(this._delegate,f,di))}reauthenticateWithRedirect(f){var g=this;return(0,c.Z)(function*(){return yield Pa(Ne(g.auth)),function ne(y,f,g){return function Ae(y,f,g){return Se.apply(this,arguments)}(y,f,g)}(g._delegate,f,di)})()}sendEmailVerification(f){return function Ei(y,f){return yl.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,c.Z)(function*(){return yield function wa(y,f){return cl.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function wl(y,f){return El((0,P.m9)(y),f,null)}(this._delegate,f)}updatePassword(f){return function Nc(y,f){return El((0,P.m9)(y),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function Ol(y,f){return ds.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function Ia(y,f){return vl.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function _u(y,f,g){return vu.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Do.USER_MAP=new WeakMap;const Wl=oe;let Gh=(()=>{class y{constructor(g,v){if(this.app=g,v.isInitialized())return this._delegate=v.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:A}=g.options;Wl(A,"invalid-api-key",{appName:g.name}),Wl(A,"invalid-api-key",{appName:g.name});const R="undefined"!=typeof window?di:void 0;this._delegate=v.initialize({options:{persistence:dy(A,g.name),popupRedirectResolver:R}}),this._delegate._updateErrorMap(Me),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Do.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,v){!function an(y,f,g){const v=Ne(y);oe(v._canInitEmulator,v,"emulator-config-failed"),oe(/^https?:\/\//.test(f),v,"invalid-emulator-scheme");const A=!!(null==g?void 0:g.disableWarnings),R=ar(f),{host:q,port:de}=function As(y){const f=ar(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(f.length));if(!g)return{host:"",port:null};const v=g[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(v);if(A){const R=A[1];return{host:R,port:Mn(v.substr(R.length+1))}}{const[R,q]=v.split(":");return{host:R,port:Mn(q)}}}(f);v.config.emulator={url:`${R}//${q}${null===de?"":`:${de}`}/`},v.settings.appVerificationDisabledForTesting=!0,v.emulatorConfig=Object.freeze({host:q,port:de,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function Fi(){function y(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,v)}applyActionCode(g){return function hl(y,f){return be.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Pt(this._delegate,g)}confirmPasswordReset(g,v){return function gu(y,f,g){return dl.apply(this,arguments)}(this._delegate,g,v)}createUserWithEmailAndPassword(g,v){var A=this;return(0,c.Z)(function*(){return Ir(A._delegate,function Uo(y,f,g){return Zr.apply(this,arguments)}(A._delegate,g,v))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function yu(y,f){return Us.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function ml(y,f){const g=uo.parseLink(f);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,c.Z)(function*(){Wl(zl(),g._delegate,"operation-not-supported-in-this-environment");const v=yield function Et(y,f){return Pn.apply(this,arguments)}(g._delegate,di);return v?Ir(g._delegate,Promise.resolve(v)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function $p(y,f){Ne(y)._logFramework(f)}(this._delegate,g)}onAuthStateChanged(g,v,A){const{next:R,error:q,complete:de}=qh(g,v,A);return this._delegate.onAuthStateChanged(R,q,de)}onIdTokenChanged(g,v,A){const{next:R,error:q,complete:de}=qh(g,v,A);return this._delegate.onIdTokenChanged(R,q,de)}sendSignInLinkToEmail(g,v){return function gl(y,f,g){return Rc.apply(this,arguments)}(this._delegate,g,v)}sendPasswordResetEmail(g,v){return function fu(y,f,g){return pu.apply(this,arguments)}(this._delegate,g,v||void 0)}setPersistence(g){var v=this;return(0,c.Z)(function*(){let A;switch(function qp(y,f){Na(Object.values(xi).includes(f),y,"invalid-persistence-type"),(0,P.b$)()?Na(f!==xi.SESSION,y,"unsupported-persistence-type"):(0,P.UG)()?Na(f===xi.NONE,y,"unsupported-persistence-type"):Io()?Na(f===xi.NONE||f===xi.LOCAL&&(0,P.hl)(),y,"unsupported-persistence-type"):Na(f===xi.NONE||Cr(),y,"unsupported-persistence-type")}(v._delegate,g),g){case xi.SESSION:A=cr;break;case xi.LOCAL:A=(yield ce(Ci)._isAvailable())?Ci:Sn;break;case xi.NONE:A=$;break;default:return De("argument-error",{appName:v._delegate.name})}return v._delegate.setPersistence(A)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Ir(this._delegate,function uu(y){return Mc.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Ir(this._delegate,Tn(this._delegate,g))}signInWithCustomToken(g){return Ir(this._delegate,function Fs(y,f){return Ls.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,v){return Ir(this._delegate,function pl(y,f,g){return Tn((0,P.m9)(y),ll.credential(f,g))}(this._delegate,g,v))}signInWithEmailLink(g,v){return Ir(this._delegate,function mu(y,f,g){return Vs.apply(this,arguments)}(this._delegate,g,v))}signInWithPhoneNumber(g,v){return Hh(this._delegate,function bu(y,f,g){return pn.apply(this,arguments)}(this._delegate,g,v))}signInWithPopup(g){var v=this;return(0,c.Z)(function*(){return Wl(zl(),v._delegate,"operation-not-supported-in-this-environment"),Ir(v._delegate,function zs(y,f,g){return Zc.apply(this,arguments)}(v._delegate,g,di))})()}signInWithRedirect(g){var v=this;return(0,c.Z)(function*(){return Wl(zl(),v._delegate,"operation-not-supported-in-this-environment"),yield Pa(v._delegate),function x(y,f,g){return function F(y,f,g){return K.apply(this,arguments)}(y,f,g)}(v._delegate,g,di)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function fn(y,f){return Vo.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=xi,y})();function qh(y,f,g){let v=y;"function"!=typeof y&&({next:v,error:f,complete:g}=y);const A=v;return{next:q=>A(q&&Do.getOrCreate(q)),error:f,complete:g}}function dy(y,f){const g=function zp(y,f){const g=Zl();if(!g)return[];const v=pe(Bh,y,f);switch(g.getItem(v)){case xi.NONE:return[$];case xi.LOCAL:return[Ci,cr];case xi.SESSION:return[cr];default:return[]}}(y,f);if("undefined"!=typeof self&&!g.includes(Ci)&&g.push(Ci),"undefined"!=typeof window)for(const v of[Sn,cr])g.includes(v)||g.push(v);return g.includes($)||g.push($),g}class zh{constructor(){this.providerId="phone",this._delegate=new Ti(Zp(Q.Z.auth()))}static credential(f,g){return Ti.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}zh.PHONE_SIGN_IN_METHOD=Ti.PHONE_SIGN_IN_METHOD,zh.PROVIDER_ID=Ti.PROVIDER_ID;const hy=oe;class fy{constructor(f,g,v=Q.Z.app()){var A;hy(null===(A=v.options)||void 0===A?void 0:A.apiKey,"invalid-api-key",{appName:v.name}),this._delegate=new kp(f,g,v.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Kp(y){y.INTERNAL.registerComponent(new J.wA("auth-compat",f=>{const g=f.getProvider("app-compat").getImmediate(),v=f.getProvider("auth");return new Gh(g,v)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ll,FacebookAuthProvider:lo,GithubAuthProvider:xc,GoogleAuthProvider:va,OAuthProvider:ko,SAMLAuthProvider:ii,PhoneAuthProvider:zh,PhoneMultiFactorGenerator:Jm,RecaptchaVerifier:fy,TwitterAuthProvider:ou,Auth:Gh,AuthCredential:Xt,Error:P.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.11")}(Q.Z)},8306:(nt,Ie,N)=>{N.d(Ie,{y:()=>U});var c=N(2961),Q=N(727),P=N(8822),ae=N(4671);var J=N(2416),ee=N(576),X=N(2806);let U=(()=>{class le{constructor(Re){Re&&(this._subscribe=Re)}lift(Re){const ie=new le;return ie.source=this,ie.operator=Re,ie}subscribe(Re,ie,Ee){const qe=function Le(le){return le&&le instanceof c.Lv||function z(le){return le&&(0,ee.m)(le.next)&&(0,ee.m)(le.error)&&(0,ee.m)(le.complete)}(le)&&(0,Q.Nn)(le)}(Re)?Re:new c.Hp(Re,ie,Ee);return(0,X.x)(()=>{const{operator:ze,source:De}=this;qe.add(ze?ze.call(qe,De):De?this._subscribe(qe):this._trySubscribe(qe))}),qe}_trySubscribe(Re){try{return this._subscribe(Re)}catch(ie){Re.error(ie)}}forEach(Re,ie){return new(ie=V(ie))((Ee,qe)=>{const ze=new c.Hp({next:De=>{try{Re(De)}catch(ve){qe(ve),ze.unsubscribe()}},error:qe,complete:Ee});this.subscribe(ze)})}_subscribe(Re){var ie;return null===(ie=this.source)||void 0===ie?void 0:ie.subscribe(Re)}[P.L](){return this}pipe(...Re){return function re(le){return 0===le.length?ae.y:1===le.length?le[0]:function(Re){return le.reduce((ie,Ee)=>Ee(ie),Re)}}(Re)(this)}toPromise(Re){return new(Re=V(Re))((ie,Ee)=>{let qe;this.subscribe(ze=>qe=ze,ze=>Ee(ze),()=>ie(qe))})}}return le.create=Me=>new le(Me),le})();function V(le){var Me;return null!==(Me=null!=le?le:J.v.Promise)&&void 0!==Me?Me:Promise}},7579:(nt,Ie,N)=>{N.d(Ie,{x:()=>J});var c=N(8306),Q=N(727);const ae=(0,N(3888).d)(X=>function(){X(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Y=N(8737),re=N(2806);let J=(()=>{class X extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(V){const z=new ee(this,this);return z.operator=V,z}_throwIfClosed(){if(this.closed)throw new ae}next(V){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const z of this.currentObservers)z.next(V)}})}error(V){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=V;const{observers:z}=this;for(;z.length;)z.shift().error(V)}})}complete(){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:V}=this;for(;V.length;)V.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var V;return(null===(V=this.observers)||void 0===V?void 0:V.length)>0}_trySubscribe(V){return this._throwIfClosed(),super._trySubscribe(V)}_subscribe(V){return this._throwIfClosed(),this._checkFinalizedStatuses(V),this._innerSubscribe(V)}_innerSubscribe(V){const{hasError:z,isStopped:Le,observers:le}=this;return z||Le?Q.Lc:(this.currentObservers=null,le.push(V),new Q.w0(()=>{this.currentObservers=null,(0,Y.P)(le,V)}))}_checkFinalizedStatuses(V){const{hasError:z,thrownError:Le,isStopped:le}=this;z?V.error(Le):le&&V.complete()}asObservable(){const V=new c.y;return V.source=this,V}}return X.create=(U,V)=>new ee(U,V),X})();class ee extends J{constructor(U,V){super(),this.destination=U,this.source=V}next(U){var V,z;null===(z=null===(V=this.destination)||void 0===V?void 0:V.next)||void 0===z||z.call(V,U)}error(U){var V,z;null===(z=null===(V=this.destination)||void 0===V?void 0:V.error)||void 0===z||z.call(V,U)}complete(){var U,V;null===(V=null===(U=this.destination)||void 0===U?void 0:U.complete)||void 0===V||V.call(U)}_subscribe(U){var V,z;return null!==(z=null===(V=this.source)||void 0===V?void 0:V.subscribe(U))&&void 0!==z?z:Q.Lc}}},2961:(nt,Ie,N)=>{N.d(Ie,{Hp:()=>Re,Lv:()=>z});var c=N(576),Q=N(727),P=N(2416),ae=N(7849);function Y(){}const re=X("C",void 0,void 0);function X(De,ve,we){return{kind:De,value:ve,error:we}}var U=N(3410),V=N(2806);class z extends Q.w0{constructor(ve){super(),this.isStopped=!1,ve?(this.destination=ve,(0,Q.Nn)(ve)&&ve.add(this)):this.destination=ze}static create(ve,we,Ge){return new Re(ve,we,Ge)}next(ve){this.isStopped?qe(function ee(De){return X("N",De,void 0)}(ve),this):this._next(ve)}error(ve){this.isStopped?qe(function J(De){return X("E",void 0,De)}(ve),this):(this.isStopped=!0,this._error(ve))}complete(){this.isStopped?qe(re,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ve){this.destination.next(ve)}_error(ve){try{this.destination.error(ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Le=Function.prototype.bind;function le(De,ve){return Le.call(De,ve)}class Me{constructor(ve){this.partialObserver=ve}next(ve){const{partialObserver:we}=this;if(we.next)try{we.next(ve)}catch(Ge){ie(Ge)}}error(ve){const{partialObserver:we}=this;if(we.error)try{we.error(ve)}catch(Ge){ie(Ge)}else ie(ve)}complete(){const{partialObserver:ve}=this;if(ve.complete)try{ve.complete()}catch(we){ie(we)}}}class Re extends z{constructor(ve,we,Ge){let He;if(super(),(0,c.m)(ve)||!ve)He={next:null!=ve?ve:void 0,error:null!=we?we:void 0,complete:null!=Ge?Ge:void 0};else{let oe;this&&P.v.useDeprecatedNextContext?(oe=Object.create(ve),oe.unsubscribe=()=>this.unsubscribe(),He={next:ve.next&&le(ve.next,oe),error:ve.error&&le(ve.error,oe),complete:ve.complete&&le(ve.complete,oe)}):He=ve}this.destination=new Me(He)}}function ie(De){P.v.useDeprecatedSynchronousErrorHandling?(0,V.O)(De):(0,ae.h)(De)}function qe(De,ve){const{onStoppedNotification:we}=P.v;we&&U.z.setTimeout(()=>we(De,ve))}const ze={closed:!0,next:Y,error:function Ee(De){throw De},complete:Y}},727:(nt,Ie,N)=>{N.d(Ie,{Lc:()=>re,w0:()=>Y,Nn:()=>J});var c=N(576);const P=(0,N(3888).d)(X=>function(V){X(this),this.message=V?`${V.length} errors occurred during unsubscription:\n${V.map((z,Le)=>`${Le+1}) ${z.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=V});var ae=N(8737);class Y{constructor(U){this.initialTeardown=U,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let U;if(!this.closed){this.closed=!0;const{_parentage:V}=this;if(V)if(this._parentage=null,Array.isArray(V))for(const le of V)le.remove(this);else V.remove(this);const{initialTeardown:z}=this;if((0,c.m)(z))try{z()}catch(le){U=le instanceof P?le.errors:[le]}const{_finalizers:Le}=this;if(Le){this._finalizers=null;for(const le of Le)try{ee(le)}catch(Me){U=null!=U?U:[],Me instanceof P?U=[...U,...Me.errors]:U.push(Me)}}if(U)throw new P(U)}}add(U){var V;if(U&&U!==this)if(this.closed)ee(U);else{if(U instanceof Y){if(U.closed||U._hasParent(this))return;U._addParent(this)}(this._finalizers=null!==(V=this._finalizers)&&void 0!==V?V:[]).push(U)}}_hasParent(U){const{_parentage:V}=this;return V===U||Array.isArray(V)&&V.includes(U)}_addParent(U){const{_parentage:V}=this;this._parentage=Array.isArray(V)?(V.push(U),V):V?[V,U]:U}_removeParent(U){const{_parentage:V}=this;V===U?this._parentage=null:Array.isArray(V)&&(0,ae.P)(V,U)}remove(U){const{_finalizers:V}=this;V&&(0,ae.P)(V,U),U instanceof Y&&U._removeParent(this)}}Y.EMPTY=(()=>{const X=new Y;return X.closed=!0,X})();const re=Y.EMPTY;function J(X){return X instanceof Y||X&&"closed"in X&&(0,c.m)(X.remove)&&(0,c.m)(X.add)&&(0,c.m)(X.unsubscribe)}function ee(X){(0,c.m)(X)?X():X.unsubscribe()}},2416:(nt,Ie,N)=>{N.d(Ie,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(nt,Ie,N)=>{N.d(Ie,{E:()=>Q});const Q=new(N(8306).y)(Y=>Y.complete())},8996:(nt,Ie,N)=>{N.d(Ie,{D:()=>ve});var c=N(8421),Q=N(5363),P=N(9468),re=N(8306),ee=N(2202),X=N(576),U=N(9672);function z(we,Ge){if(!we)throw new Error("Iterable cannot be null");return new re.y(He=>{(0,U.f)(He,Ge,()=>{const oe=we[Symbol.asyncIterator]();(0,U.f)(He,Ge,()=>{oe.next().then(W=>{W.done?He.complete():He.next(W.value)})},0,!0)})})}var Le=N(3670),le=N(8239),Me=N(1144),Re=N(6495),ie=N(2206),Ee=N(4532),qe=N(3260);function ve(we,Ge){return Ge?function De(we,Ge){if(null!=we){if((0,Le.c)(we))return function ae(we,Ge){return(0,c.Xf)(we).pipe((0,P.R)(Ge),(0,Q.Q)(Ge))}(we,Ge);if((0,Me.z)(we))return function J(we,Ge){return new re.y(He=>{let oe=0;return Ge.schedule(function(){oe===we.length?He.complete():(He.next(we[oe++]),He.closed||this.schedule())})})}(we,Ge);if((0,le.t)(we))return function Y(we,Ge){return(0,c.Xf)(we).pipe((0,P.R)(Ge),(0,Q.Q)(Ge))}(we,Ge);if((0,ie.D)(we))return z(we,Ge);if((0,Re.T)(we))return function V(we,Ge){return new re.y(He=>{let oe;return(0,U.f)(He,Ge,()=>{oe=we[ee.h](),(0,U.f)(He,Ge,()=>{let W,ue;try{({value:W,done:ue}=oe.next())}catch(me){return void He.error(me)}ue?He.complete():He.next(W)},0,!0)}),()=>(0,X.m)(null==oe?void 0:oe.return)&&oe.return()})}(we,Ge);if((0,qe.L)(we))return function ze(we,Ge){return z((0,qe.Q)(we),Ge)}(we,Ge)}throw(0,Ee.z)(we)}(we,Ge):(0,c.Xf)(we)}},8421:(nt,Ie,N)=>{N.d(Ie,{Xf:()=>Le});var c=N(655),Q=N(1144),P=N(8239),ae=N(8306),Y=N(3670),re=N(2206),J=N(4532),ee=N(6495),X=N(3260),U=N(576),V=N(7849),z=N(8822);function Le(De){if(De instanceof ae.y)return De;if(null!=De){if((0,Y.c)(De))return function le(De){return new ae.y(ve=>{const we=De[z.L]();if((0,U.m)(we.subscribe))return we.subscribe(ve);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(De);if((0,Q.z)(De))return function Me(De){return new ae.y(ve=>{for(let we=0;we<De.length&&!ve.closed;we++)ve.next(De[we]);ve.complete()})}(De);if((0,P.t)(De))return function Re(De){return new ae.y(ve=>{De.then(we=>{ve.closed||(ve.next(we),ve.complete())},we=>ve.error(we)).then(null,V.h)})}(De);if((0,re.D)(De))return Ee(De);if((0,ee.T)(De))return function ie(De){return new ae.y(ve=>{for(const we of De)if(ve.next(we),ve.closed)return;ve.complete()})}(De);if((0,X.L)(De))return function qe(De){return Ee((0,X.Q)(De))}(De)}throw(0,J.z)(De)}function Ee(De){return new ae.y(ve=>{(function ze(De,ve){var we,Ge,He,oe;return(0,c.mG)(this,void 0,void 0,function*(){try{for(we=(0,c.KL)(De);!(Ge=yield we.next()).done;)if(ve.next(Ge.value),ve.closed)return}catch(W){He={error:W}}finally{try{Ge&&!Ge.done&&(oe=we.return)&&(yield oe.call(we))}finally{if(He)throw He.error}}ve.complete()})})(De,ve).catch(we=>ve.error(we))})}},6451:(nt,Ie,N)=>{N.d(Ie,{T:()=>re});var c=N(8189),Q=N(8421),P=N(515),ae=N(7669),Y=N(8996);function re(...J){const ee=(0,ae.yG)(J),X=(0,ae._6)(J,1/0),U=J;return U.length?1===U.length?(0,Q.Xf)(U[0]):(0,c.J)(X)((0,Y.D)(U,ee)):P.E}},5403:(nt,Ie,N)=>{N.d(Ie,{x:()=>Q});var c=N(2961);function Q(ae,Y,re,J,ee){return new P(ae,Y,re,J,ee)}class P extends c.Lv{constructor(Y,re,J,ee,X,U){super(Y),this.onFinalize=X,this.shouldUnsubscribe=U,this._next=re?function(V){try{re(V)}catch(z){Y.error(z)}}:super._next,this._error=ee?function(V){try{ee(V)}catch(z){Y.error(z)}finally{this.unsubscribe()}}:super._error,this._complete=J?function(){try{J()}catch(V){Y.error(V)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Y;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:re}=this;super.unsubscribe(),!re&&(null===(Y=this.onFinalize)||void 0===Y||Y.call(this))}}}},4004:(nt,Ie,N)=>{N.d(Ie,{U:()=>P});var c=N(4482),Q=N(5403);function P(ae,Y){return(0,c.e)((re,J)=>{let ee=0;re.subscribe((0,Q.x)(J,X=>{J.next(ae.call(Y,X,ee++))}))})}},8189:(nt,Ie,N)=>{N.d(Ie,{J:()=>P});var c=N(5577),Q=N(4671);function P(ae=1/0){return(0,c.z)(Q.y,ae)}},5577:(nt,Ie,N)=>{N.d(Ie,{z:()=>ee});var c=N(4004),Q=N(8421),P=N(4482),ae=N(9672),Y=N(5403),J=N(576);function ee(X,U,V=1/0){return(0,J.m)(U)?ee((z,Le)=>(0,c.U)((le,Me)=>U(z,le,Le,Me))((0,Q.Xf)(X(z,Le))),V):("number"==typeof U&&(V=U),(0,P.e)((z,Le)=>function re(X,U,V,z,Le,le,Me,Re){const ie=[];let Ee=0,qe=0,ze=!1;const De=()=>{ze&&!ie.length&&!Ee&&U.complete()},ve=Ge=>Ee<z?we(Ge):ie.push(Ge),we=Ge=>{le&&U.next(Ge),Ee++;let He=!1;(0,Q.Xf)(V(Ge,qe++)).subscribe((0,Y.x)(U,oe=>{null==Le||Le(oe),le?ve(oe):U.next(oe)},()=>{He=!0},void 0,()=>{if(He)try{for(Ee--;ie.length&&Ee<z;){const oe=ie.shift();Me?(0,ae.f)(U,Me,()=>we(oe)):we(oe)}De()}catch(oe){U.error(oe)}}))};return X.subscribe((0,Y.x)(U,ve,()=>{ze=!0,De()})),()=>{null==Re||Re()}}(z,Le,X,V)))}},5363:(nt,Ie,N)=>{N.d(Ie,{Q:()=>ae});var c=N(9672),Q=N(4482),P=N(5403);function ae(Y,re=0){return(0,Q.e)((J,ee)=>{J.subscribe((0,P.x)(ee,X=>(0,c.f)(ee,Y,()=>ee.next(X),re),()=>(0,c.f)(ee,Y,()=>ee.complete(),re),X=>(0,c.f)(ee,Y,()=>ee.error(X),re)))})}},3099:(nt,Ie,N)=>{N.d(Ie,{B:()=>re});var c=N(8996),Q=N(5698),P=N(7579),ae=N(2961),Y=N(4482);function re(ee={}){const{connector:X=(()=>new P.x),resetOnError:U=!0,resetOnComplete:V=!0,resetOnRefCountZero:z=!0}=ee;return Le=>{let le=null,Me=null,Re=null,ie=0,Ee=!1,qe=!1;const ze=()=>{null==Me||Me.unsubscribe(),Me=null},De=()=>{ze(),le=Re=null,Ee=qe=!1},ve=()=>{const we=le;De(),null==we||we.unsubscribe()};return(0,Y.e)((we,Ge)=>{ie++,!qe&&!Ee&&ze();const He=Re=null!=Re?Re:X();Ge.add(()=>{ie--,0===ie&&!qe&&!Ee&&(Me=J(ve,z))}),He.subscribe(Ge),le||(le=new ae.Hp({next:oe=>He.next(oe),error:oe=>{qe=!0,ze(),Me=J(De,U,oe),He.error(oe)},complete:()=>{Ee=!0,ze(),Me=J(De,V),He.complete()}}),(0,c.D)(we).subscribe(le))})(Le)}}function J(ee,X,...U){return!0===X?(ee(),null):!1===X?null:X(...U).pipe((0,Q.q)(1)).subscribe(()=>ee())}},9468:(nt,Ie,N)=>{N.d(Ie,{R:()=>Q});var c=N(4482);function Q(P,ae=0){return(0,c.e)((Y,re)=>{re.add(P.schedule(()=>Y.subscribe(re),ae))})}},5698:(nt,Ie,N)=>{N.d(Ie,{q:()=>ae});var c=N(515),Q=N(4482),P=N(5403);function ae(Y){return Y<=0?()=>c.E:(0,Q.e)((re,J)=>{let ee=0;re.subscribe((0,P.x)(J,X=>{++ee<=Y&&(J.next(X),Y<=ee&&J.complete())}))})}},8505:(nt,Ie,N)=>{N.d(Ie,{b:()=>Y});var c=N(576),Q=N(4482),P=N(5403),ae=N(4671);function Y(re,J,ee){const X=(0,c.m)(re)||J||ee?{next:re,error:J,complete:ee}:re;return X?(0,Q.e)((U,V)=>{var z;null===(z=X.subscribe)||void 0===z||z.call(X);let Le=!0;U.subscribe((0,P.x)(V,le=>{var Me;null===(Me=X.next)||void 0===Me||Me.call(X,le),V.next(le)},()=>{var le;Le=!1,null===(le=X.complete)||void 0===le||le.call(X),V.complete()},le=>{var Me;Le=!1,null===(Me=X.error)||void 0===Me||Me.call(X,le),V.error(le)},()=>{var le,Me;Le&&(null===(le=X.unsubscribe)||void 0===le||le.call(X)),null===(Me=X.finalize)||void 0===Me||Me.call(X)}))}):ae.y}},4408:(nt,Ie,N)=>{N.d(Ie,{o:()=>Y});var c=N(727);class Q extends c.w0{constructor(J,ee){super()}schedule(J,ee=0){return this}}const P={setInterval(re,J,...ee){const{delegate:X}=P;return(null==X?void 0:X.setInterval)?X.setInterval(re,J,...ee):setInterval(re,J,...ee)},clearInterval(re){const{delegate:J}=P;return((null==J?void 0:J.clearInterval)||clearInterval)(re)},delegate:void 0};var ae=N(8737);class Y extends Q{constructor(J,ee){super(J,ee),this.scheduler=J,this.work=ee,this.pending=!1}schedule(J,ee=0){if(this.closed)return this;this.state=J;const X=this.id,U=this.scheduler;return null!=X&&(this.id=this.recycleAsyncId(U,X,ee)),this.pending=!0,this.delay=ee,this.id=this.id||this.requestAsyncId(U,this.id,ee),this}requestAsyncId(J,ee,X=0){return P.setInterval(J.flush.bind(J,this),X)}recycleAsyncId(J,ee,X=0){if(null!=X&&this.delay===X&&!1===this.pending)return ee;P.clearInterval(ee)}execute(J,ee){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const X=this._execute(J,ee);if(X)return X;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(J,ee){let U,X=!1;try{this.work(J)}catch(V){X=!0,U=V||new Error("Scheduled action threw falsy error")}if(X)return this.unsubscribe(),U}unsubscribe(){if(!this.closed){const{id:J,scheduler:ee}=this,{actions:X}=ee;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(X,this),null!=J&&(this.id=this.recycleAsyncId(ee,J,null)),this.delay=null,super.unsubscribe()}}}},7565:(nt,Ie,N)=>{N.d(Ie,{v:()=>P});var c=N(6063);class Q{constructor(Y,re=Q.now){this.schedulerActionCtor=Y,this.now=re}schedule(Y,re=0,J){return new this.schedulerActionCtor(this,Y).schedule(J,re)}}Q.now=c.l.now;class P extends Q{constructor(Y,re=Q.now){super(Y,re),this.actions=[],this._active=!1,this._scheduled=void 0}flush(Y){const{actions:re}=this;if(this._active)return void re.push(Y);let J;this._active=!0;do{if(J=Y.execute(Y.state,Y.delay))break}while(Y=re.shift());if(this._active=!1,J){for(;Y=re.shift();)Y.unsubscribe();throw J}}}},4986:(nt,Ie,N)=>{N.d(Ie,{z:()=>P});var c=N(4408);const P=new(N(7565).v)(c.o)},6063:(nt,Ie,N)=>{N.d(Ie,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(nt,Ie,N)=>{N.d(Ie,{z:()=>c});const c={setTimeout(Q,P,...ae){const{delegate:Y}=c;return(null==Y?void 0:Y.setTimeout)?Y.setTimeout(Q,P,...ae):setTimeout(Q,P,...ae)},clearTimeout(Q){const{delegate:P}=c;return((null==P?void 0:P.clearTimeout)||clearTimeout)(Q)},delegate:void 0}},2202:(nt,Ie,N)=>{N.d(Ie,{h:()=>Q});const Q=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(nt,Ie,N)=>{N.d(Ie,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(nt,Ie,N)=>{N.d(Ie,{_6:()=>re,jO:()=>ae,yG:()=>Y});var c=N(576);function P(J){return J[J.length-1]}function ae(J){return(0,c.m)(P(J))?J.pop():void 0}function Y(J){return function Q(J){return J&&(0,c.m)(J.schedule)}(P(J))?J.pop():void 0}function re(J,ee){return"number"==typeof P(J)?J.pop():ee}},8737:(nt,Ie,N)=>{function c(Q,P){if(Q){const ae=Q.indexOf(P);0<=ae&&Q.splice(ae,1)}}N.d(Ie,{P:()=>c})},3888:(nt,Ie,N)=>{function c(Q){const ae=Q(Y=>{Error.call(Y),Y.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}N.d(Ie,{d:()=>c})},2806:(nt,Ie,N)=>{N.d(Ie,{O:()=>ae,x:()=>P});var c=N(2416);let Q=null;function P(Y){if(c.v.useDeprecatedSynchronousErrorHandling){const re=!Q;if(re&&(Q={errorThrown:!1,error:null}),Y(),re){const{errorThrown:J,error:ee}=Q;if(Q=null,J)throw ee}}else Y()}function ae(Y){c.v.useDeprecatedSynchronousErrorHandling&&Q&&(Q.errorThrown=!0,Q.error=Y)}},9672:(nt,Ie,N)=>{function c(Q,P,ae,Y=0,re=!1){const J=P.schedule(function(){ae(),re?Q.add(this.schedule(null,Y)):this.unsubscribe()},Y);if(Q.add(J),!re)return J}N.d(Ie,{f:()=>c})},4671:(nt,Ie,N)=>{function c(Q){return Q}N.d(Ie,{y:()=>c})},1144:(nt,Ie,N)=>{N.d(Ie,{z:()=>c});const c=Q=>Q&&"number"==typeof Q.length&&"function"!=typeof Q},2206:(nt,Ie,N)=>{N.d(Ie,{D:()=>Q});var c=N(576);function Q(P){return Symbol.asyncIterator&&(0,c.m)(null==P?void 0:P[Symbol.asyncIterator])}},576:(nt,Ie,N)=>{function c(Q){return"function"==typeof Q}N.d(Ie,{m:()=>c})},3670:(nt,Ie,N)=>{N.d(Ie,{c:()=>P});var c=N(8822),Q=N(576);function P(ae){return(0,Q.m)(ae[c.L])}},6495:(nt,Ie,N)=>{N.d(Ie,{T:()=>P});var c=N(2202),Q=N(576);function P(ae){return(0,Q.m)(null==ae?void 0:ae[c.h])}},8239:(nt,Ie,N)=>{N.d(Ie,{t:()=>Q});var c=N(576);function Q(P){return(0,c.m)(null==P?void 0:P.then)}},3260:(nt,Ie,N)=>{N.d(Ie,{L:()=>ae,Q:()=>P});var c=N(655),Q=N(576);function P(Y){return(0,c.FC)(this,arguments,function*(){const J=Y.getReader();try{for(;;){const{value:ee,done:X}=yield(0,c.qq)(J.read());if(X)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(ee)}}finally{J.releaseLock()}})}function ae(Y){return(0,Q.m)(null==Y?void 0:Y.getReader)}},4482:(nt,Ie,N)=>{N.d(Ie,{A:()=>Q,e:()=>P});var c=N(576);function Q(ae){return(0,c.m)(null==ae?void 0:ae.lift)}function P(ae){return Y=>{if(Q(Y))return Y.lift(function(re){try{return ae(re,this)}catch(J){this.error(J)}});throw new TypeError("Unable to lift unknown Observable type")}}},7849:(nt,Ie,N)=>{N.d(Ie,{h:()=>P});var c=N(2416),Q=N(3410);function P(ae){Q.z.setTimeout(()=>{const{onUnhandledError:Y}=c.v;if(!Y)throw ae;Y(ae)})}},4532:(nt,Ie,N)=>{function c(Q){return new TypeError(`You provided ${null!==Q&&"object"==typeof Q?"an invalid object":`'${Q}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}N.d(Ie,{z:()=>c})},655:(nt,Ie,N)=>{function ae(W,ue){var me={};for(var ce in W)Object.prototype.hasOwnProperty.call(W,ce)&&ue.indexOf(ce)<0&&(me[ce]=W[ce]);if(null!=W&&"function"==typeof Object.getOwnPropertySymbols){var Oe=0;for(ce=Object.getOwnPropertySymbols(W);Oe<ce.length;Oe++)ue.indexOf(ce[Oe])<0&&Object.prototype.propertyIsEnumerable.call(W,ce[Oe])&&(me[ce[Oe]]=W[ce[Oe]])}return me}function ee(W,ue,me,ce){return new(me||(me=Promise))(function(he,wt){function Zt(ht){try{it(ce.next(ht))}catch(nn){wt(nn)}}function In(ht){try{it(ce.throw(ht))}catch(nn){wt(nn)}}function it(ht){ht.done?he(ht.value):function Oe(he){return he instanceof me?he:new me(function(wt){wt(he)})}(ht.value).then(Zt,In)}it((ce=ce.apply(W,ue||[])).next())})}function ie(W){return this instanceof ie?(this.v=W,this):new ie(W)}function Ee(W,ue,me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Oe,ce=me.apply(W,ue||[]),he=[];return Oe={},wt("next"),wt("throw"),wt("return"),Oe[Symbol.asyncIterator]=function(){return this},Oe;function wt(rn){ce[rn]&&(Oe[rn]=function(_i){return new Promise(function(Qt,Ji){he.push([rn,_i,Qt,Ji])>1||Zt(rn,_i)})})}function Zt(rn,_i){try{!function In(rn){rn.value instanceof ie?Promise.resolve(rn.value.v).then(it,ht):nn(he[0][2],rn)}(ce[rn](_i))}catch(Qt){nn(he[0][3],Qt)}}function it(rn){Zt("next",rn)}function ht(rn){Zt("throw",rn)}function nn(rn,_i){rn(_i),he.shift(),he.length&&Zt(he[0][0],he[0][1])}}function ze(W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,ue=W[Symbol.asyncIterator];return ue?ue.call(W):(W=function z(W){var ue="function"==typeof Symbol&&Symbol.iterator,me=ue&&W[ue],ce=0;if(me)return me.call(W);if(W&&"number"==typeof W.length)return{next:function(){return W&&ce>=W.length&&(W=void 0),{value:W&&W[ce++],done:!W}}};throw new TypeError(ue?"Object is not iterable.":"Symbol.iterator is not defined.")}(W),me={},ce("next"),ce("throw"),ce("return"),me[Symbol.asyncIterator]=function(){return this},me);function ce(he){me[he]=W[he]&&function(wt){return new Promise(function(Zt,In){!function Oe(he,wt,Zt,In){Promise.resolve(In).then(function(it){he({value:it,done:Zt})},wt)}(Zt,In,(wt=W[he](wt)).done,wt.value)})}}}N.d(Ie,{FC:()=>Ee,KL:()=>ze,_T:()=>ae,mG:()=>ee,qq:()=>ie})},5e3:(nt,Ie,N)=>{N.d(Ie,{$8M:()=>qo,$Z:()=>Hu,AFp:()=>rb,ALo:()=>Hf,AaK:()=>ee,CHM:()=>fl,CRH:()=>Ar,CZH:()=>Uv,CqO:()=>En,DdM:()=>Ur,EJc:()=>ob,EpF:()=>wf,F4k:()=>A_,FYo:()=>Ku,FiY:()=>ci,G48:()=>n0,GfV:()=>Kd,Gpc:()=>V,JOm:()=>de,LFG:()=>We,LSH:()=>Ou,Lbi:()=>jv,MAs:()=>Ow,NdJ:()=>Ad,O4$:()=>Lc,OlP:()=>_n,Oqu:()=>Ug,PXZ:()=>yc,Q6J:()=>_f,QGY:()=>Td,Qsj:()=>IE,R0b:()=>yi,RDi:()=>is,Rgc:()=>Wn,SBq:()=>ca,Sil:()=>Zi,Suo:()=>Dv,TTD:()=>lo,TgZ:()=>Ba,VLi:()=>rD,W1O:()=>Av,X6Q:()=>gb,XFs:()=>ot,Xpm:()=>Nt,Y36:()=>Ua,YKP:()=>Jd,YNc:()=>Tg,Yjl:()=>yr,Yz7:()=>Qt,ZZ4:()=>d0,_Bn:()=>cv,_UZ:()=>ja,_Vd:()=>Qg,_c5:()=>pD,_uU:()=>G_,aQg:()=>Im,c2e:()=>lm,cJS:()=>Wt,cg1:()=>J_,dDg:()=>Wv,deG:()=>Rp,dqk:()=>Vt,eFA:()=>Jv,ekj:()=>B_,g9A:()=>Xu,h0i:()=>dc,hGG:()=>gD,hij:()=>Pd,iGM:()=>GE,ifc:()=>jt,ip1:()=>Vv,kL8:()=>rE,kcU:()=>Bm,lG2:()=>qt,lcZ:()=>gv,n5z:()=>qc,oAB:()=>te,oxw:()=>x_,q4F:()=>AE,qLn:()=>Ir,qOj:()=>c_,qZA:()=>Dd,s9C:()=>M_,sBO:()=>yb,sIi:()=>ec,s_b:()=>nh,soG:()=>Hv,tBr:()=>Pr,tb:()=>sb,tp0:()=>Eo,uIk:()=>pf,vHH:()=>Me,vpe:()=>zi,wAp:()=>gt,xp6:()=>cC,z2F:()=>tp,zSh:()=>e_,zs3:()=>So});var c=N(7579),Q=N(727),P=N(8306),ae=N(6451),Y=N(3099);function re(i){for(let s in i)if(i[s]===re)return s;throw Error("Could not find renamed property on target object.")}function J(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function ee(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(ee).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function X(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const U=re({__forward_ref__:re});function V(i){return i.__forward_ref__=V,i.toString=function(){return ee(this())},i}function z(i){return Le(i)?i():i}function Le(i){return"function"==typeof i&&i.hasOwnProperty(U)&&i.__forward_ref__===V}class Me extends Error{constructor(s,a){super(function Re(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,a)),this.code=s}}function ie(i){return"string"==typeof i?i:null==i?"":String(i)}function Ee(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():ie(i)}function ve(i,s){const a=s?` in ${s}`:"";throw new Me(-201,`No provider for ${Ee(i)} found${a}`)}function it(i,s){null==i&&function ht(i,s,a,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${a} ${l} ${s} <=Actual]`))}(s,i,null,"!=")}function Qt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Wt(i){return{providers:i.providers||[],imports:i.imports||[]}}function Bt(i){return ir(i,Pi)||ir(i,Qi)}function ir(i,s){return i.hasOwnProperty(s)?i[s]:null}function xr(i){return i&&(i.hasOwnProperty(Mr)||i.hasOwnProperty(Xi))?i[Mr]:null}const Pi=re({\u0275prov:re}),Mr=re({\u0275inj:re}),Qi=re({ngInjectableDef:re}),Xi=re({ngInjectorDef:re});var ot=(()=>((ot=ot||{})[ot.Default=0]="Default",ot[ot.Host=1]="Host",ot[ot.Self=2]="Self",ot[ot.SkipSelf=4]="SkipSelf",ot[ot.Optional=8]="Optional",ot))();let Hr;function jn(i){const s=Hr;return Hr=i,s}function ti(i,s,a){const l=Bt(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&ot.Optional?null:void 0!==s?s:void ve(ee(i),"Injector")}function dn(i){return{toString:i}.toString()}var Jn=(()=>((Jn=Jn||{})[Jn.OnPush=0]="OnPush",Jn[Jn.Default=1]="Default",Jn))(),jt=(()=>{return(i=jt||(jt={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",jt;var i})();const tt="undefined"!=typeof globalThis&&globalThis,mt="undefined"!=typeof window&&window,sr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Vt=tt||"undefined"!=typeof global&&global||mt||sr,or={},at=[],mr=re({\u0275cmp:re}),kt=re({\u0275dir:re}),Ze=re({\u0275pipe:re}),Te=re({\u0275mod:re}),Ke=re({\u0275fac:re}),ut=re({__NG_ELEMENT_ID__:re});let Lt=0;function Nt(i){return dn(()=>{const a={},l={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Jn.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||at,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||jt.Emulated,id:"c",styles:i.styles||at,_:null,setInput:null,schemas:i.schemas||null,tView:null},d=i.directives,p=i.features,_=i.pipes;return l.id+=Lt++,l.inputs=ft(i.inputs,a),l.outputs=ft(i.outputs),p&&p.forEach(w=>w(l)),l.directiveDefs=d?()=>("function"==typeof d?d():d).map(L):null,l.pipeDefs=_?()=>("function"==typeof _?_():_).map($):null,l})}function L(i){return Ht(i)||function gn(i){return i[kt]||null}(i)}function $(i){return function St(i){return i[Ze]||null}(i)}const pe={};function te(i){return dn(()=>{const s={type:i.type,bootstrap:i.bootstrap||at,declarations:i.declarations||at,imports:i.imports||at,exports:i.exports||at,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(pe[i.id]=i.type),s})}function ft(i,s){if(null==i)return or;const a={};for(const l in i)if(i.hasOwnProperty(l)){let d=i[l],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),a[d]=l,s&&(s[d]=p)}return a}const qt=Nt;function yr(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function Ht(i){return i[mr]||null}function on(i,s){const a=i[Te]||null;if(!a&&!0===s)throw new Error(`Type ${ee(i)} does not have '\u0275mod' property.`);return a}function vi(i){return Array.isArray(i)&&"object"==typeof i[1]}function ri(i){return Array.isArray(i)&&!0===i[1]}function Ic(i){return 0!=(8&i.flags)}function Ms(i){return 2==(2&i.flags)}function ru(i){return 1==(1&i.flags)}function $r(i){return null!==i.template}function mh(i){return 0!=(512&i[2])}function Gr(i,s){return i.hasOwnProperty(Ke)?i[Ke]:null}class ko{constructor(s,a,l){this.previousValue=s,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function lo(){return va}function va(i){return i.type.prototype.ngOnChanges&&(i.setInput=xp),xc}function xc(){const i=Ns(this),s=null==i?void 0:i.current;if(s){const a=i.previous;if(a===or)i.previous=s;else for(let l in s)a[l]=s[l];i.current=null,this.ngOnChanges(s)}}function xp(i,s,a,l){const d=Ns(i)||function ii(i,s){return i[Fo]=s}(i,{previous:or,current:null}),p=d.current||(d.current={}),_=d.previous,w=this.declaredInputs[a],b=_[w];p[w]=new ko(b&&b.currentValue,s,_===or),i[l]=s}lo.ngInherit=!0;const Fo="__ngSimpleChanges__";function Ns(i){return i[Fo]||null}let cu;function is(i){cu=i}function un(i){return!!i.listen}const Lo={createRenderer:(i,s)=>function wa(){return void 0!==cu?cu:"undefined"!=typeof document?document:void 0}()};function tn(i){for(;Array.isArray(i);)i=i[0];return i}function ho(i,s){return tn(s[i])}function _r(i,s){return tn(s[i.index])}function Ea(i,s){return i.data[s]}function wi(i,s){return i[s]}function vr(i,s){const a=s[i];return vi(a)?a:a[0]}function ks(i){return 4==(4&i[2])}function ss(i){return 128==(128&i[2])}function zr(i,s){return null==s?null:i[s]}function Fs(i){i[18]=0}function Ls(i,s){i[5]+=s;let a=i,l=i[3];for(;null!==l&&(1===s&&1===a[5]||-1===s&&0===a[5]);)l[5]+=s,a=l,l=l[3]}const lt={lFrame:po(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function gu(){return lt.bindingsEnabled}function be(){return lt.lFrame.lView}function Pt(){return lt.lFrame.tView}function fl(i){return lt.lFrame.contextLView=i,i[8]}function fn(){let i=Vo();for(;null!==i&&64===i.type;)i=i.parent;return i}function Vo(){return lt.lFrame.currentTNode}function Zr(i,s){const a=lt.lFrame;a.currentTNode=i,a.isParent=s}function pl(){return lt.lFrame.isParent}function mu(){return lt.isInCheckNoChangesMode}function Vs(i){lt.isInCheckNoChangesMode=i}function lr(){const i=lt.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function Us(){return lt.lFrame.bindingIndex++}function vu(i,s){const a=lt.lFrame;a.bindingIndex=a.bindingRootIndex=i,Ca(s)}function Ca(i){lt.lFrame.currentDirectiveIndex=i}function vl(){return lt.lFrame.currentQueryIndex}function wl(i){lt.lFrame.currentQueryIndex=i}function Nc(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function El(i,s,a){if(a&ot.SkipSelf){let d=s,p=i;for(;!(d=d.parent,null!==d||a&ot.Host||(d=Nc(p),null===d||(p=p[15],10&d.type))););if(null===d)return!1;s=d,i=p}const l=lt.lFrame=Pc();return l.currentTNode=s,l.lView=i,!0}function fo(i){const s=Pc(),a=i[1];lt.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function Pc(){const i=lt.lFrame,s=null===i?null:i.child;return null===s?po(i):s}function po(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function kc(){const i=lt.lFrame;return lt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Fc=kc;function go(){const i=kc();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function wr(){return lt.lFrame.selectedIndex}function js(i){lt.lFrame.selectedIndex=i}function mn(){const i=lt.lFrame;return Ea(i.tView,i.selectedIndex)}function Lc(){lt.lFrame.currentNamespace="svg"}function Bm(){!function Cl(){lt.lFrame.currentNamespace=null}()}function os(i,s){for(let a=s.directiveStart,l=s.directiveEnd;a<l;a++){const p=i.data[a].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:w,ngAfterViewInit:b,ngAfterViewChecked:T,ngOnDestroy:S}=p;_&&(i.contentHooks||(i.contentHooks=[])).push(-a,_),w&&((i.contentHooks||(i.contentHooks=[])).push(a,w),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,w)),b&&(i.viewHooks||(i.viewHooks=[])).push(-a,b),T&&((i.viewHooks||(i.viewHooks=[])).push(a,T),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,T)),null!=S&&(i.destroyHooks||(i.destroyHooks=[])).push(a,S)}}function Da(i,s,a){Vc(i,s,3,a)}function wu(i,s,a,l){(3&i[2])===a&&Vc(i,s,a,l)}function Rn(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function Vc(i,s,a,l){const p=null!=l?l:-1,_=s.length-1;let w=0;for(let b=void 0!==l?65535&i[18]:0;b<_;b++)if("number"==typeof s[b+1]){if(w=s[b],null!=l&&w>=l)break}else s[b]<0&&(i[18]+=65536),(w<p||-1==p)&&(Mp(i,a,s,b),i[18]=(4294901760&i[18])+b+2),b++}function Mp(i,s,a,l){const d=a[l]<0,p=a[l+1],w=i[d?-a[l]:a[l]];if(d){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{p.call(w)}finally{}}}else try{p.call(w)}finally{}}class Bo{constructor(s,a,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function dt(i,s,a){const l=un(i);let d=0;for(;d<a.length;){const p=a[d];if("number"==typeof p){if(0!==p)break;d++;const _=a[d++],w=a[d++],b=a[d++];l?i.setAttribute(s,w,b,_):s.setAttributeNS(_,w,b)}else{const _=p,w=a[++d];dr(_)?l&&i.setProperty(s,_,w):l?i.setAttribute(s,_,w):s.setAttribute(_,w),d++}}return d}function cr(i){return 3===i||4===i||6===i}function dr(i){return 64===i.charCodeAt(0)}function Rr(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let l=0;l<s.length;l++){const d=s[l];"number"==typeof d?a=d:0===a||jo(i,a,d,null,-1===a||2===a?s[++l]:null)}}return i}function jo(i,s,a,l,d){let p=0,_=i.length;if(-1===s)_=-1;else for(;p<i.length;){const w=i[p++];if("number"==typeof w){if(w===s){_=-1;break}if(w>s){_=p-1;break}}}for(;p<i.length;){const w=i[p];if("number"==typeof w)break;if(w===a){if(null===l)return void(null!==d&&(i[p+1]=d));if(l===i[p+1])return void(i[p+2]=d)}p++,null!==l&&p++,null!==d&&p++}-1!==_&&(i.splice(_,0,s),p=_+1),i.splice(p++,0,a),null!==l&&i.splice(p++,0,l),null!==d&&i.splice(p++,0,d)}function jc(i){return-1!==i}function ln(i){return 32767&i}function bi(i,s){let a=function wh(i){return i>>16}(i),l=s;for(;a>0;)l=l[15],a--;return l}let Eu=!0;function oi(i){const s=Eu;return Eu=i,s}let $c=0;function Nn(i,s){const a=Ho(i,s);if(-1!==a)return a;const l=s[1];l.firstCreatePass&&(i.injectorIndex=s.length,us(l.data,i),us(s,null),us(l.blueprint,null));const d=ai(i,s),p=i.injectorIndex;if(jc(d)){const _=ln(d),w=bi(d,s),b=w[1].data;for(let T=0;T<8;T++)s[p+T]=w[_+T]|b[_+T]}return s[p+8]=d,p}function us(i,s){i.push(0,0,0,0,0,0,0,0,s)}function Ho(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function ai(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,l=null,d=s;for(;null!==d;){const p=d[1],_=p.type;if(l=2===_?p.declTNode:1===_?d[6]:null,null===l)return-1;if(a++,d=d[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function Hs(i,s,a){!function yo(i,s,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(ut)&&(l=a[ut]),null==l&&(l=a[ut]=$c++);const d=255&l;s.data[i+(d>>5)]|=1<<d}(i,s,a)}function Li(i,s,a){if(a&ot.Optional)return i;ve(s,"NodeInjector")}function Al(i,s,a,l){if(a&ot.Optional&&void 0===l&&(l=null),0==(a&(ot.Self|ot.Host))){const d=i[9],p=jn(void 0);try{return d?d.get(s,l,a&ot.Optional):ti(s,l,a&ot.Optional)}finally{jn(p)}}return Li(l,s,a)}function $s(i,s,a,l=ot.Default,d){if(null!==i){const p=function Go(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(ut)?i[ut]:void 0;return"number"==typeof s?s>=0?255&s:Sl:s}(a);if("function"==typeof p){if(!El(s,i,l))return l&ot.Host?Li(d,a,l):Al(s,a,l,d);try{const _=p(l);if(null!=_||l&ot.Optional)return _;ve(a)}finally{Fc()}}else if("number"==typeof p){let _=null,w=Ho(i,s),b=-1,T=l&ot.Host?s[16][6]:null;for((-1===w||l&ot.SkipSelf)&&(b=-1===w?ai(i,s):s[w+8],-1!==b&&Nr(l,!1)?(_=s[1],w=ln(b),s=bi(b,s)):w=-1);-1!==w;){const S=s[1];if(Aa(p,w,S.data)){const k=Gc(w,s,a,_,l,T);if(k!==Vi)return k}b=s[w+8],-1!==b&&Nr(l,s[1].data[w+8]===T)&&Aa(p,w,s)?(_=S,w=ln(b),s=bi(b,s)):w=-1}}}return Al(s,a,l,d)}const Vi={};function Sl(){return new Ii(fn(),be())}function Gc(i,s,a,l,d,p){const _=s[1],w=_.data[i+8],S=$o(w,_,a,null==l?Ms(w)&&Eu:l!=_&&0!=(3&w.type),d&ot.Host&&p===w);return null!==S?Ci(s,_,S,w):Vi}function $o(i,s,a,l,d){const p=i.providerIndexes,_=s.data,w=1048575&p,b=i.directiveStart,S=p>>20,B=d?w+S:i.directiveEnd;for(let Z=l?w:w+S;Z<B;Z++){const _e=_[Z];if(Z<b&&a===_e||Z>=b&&_e.type===a)return Z}if(d){const Z=_[b];if(Z&&$r(Z)&&Z.type===a)return b}return null}function Ci(i,s,a,l){let d=i[a];const p=s.data;if(function Uc(i){return i instanceof Bo}(d)){const _=d;_.resolving&&function qe(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new Me(-200,`Circular dependency in DI detected for ${i}${a}`)}(Ee(p[a]));const w=oi(_.canSeeViewProviders);_.resolving=!0;const b=_.injectImpl?jn(_.injectImpl):null;El(i,l,ot.Default);try{d=i[a]=_.factory(void 0,p,i,l),s.firstCreatePass&&a>=l.directiveStart&&function Il(i,s,a){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:p}=s.type.prototype;if(l){const _=va(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,_),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,_)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,d),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,p))}(a,p[a],s)}finally{null!==b&&jn(b),oi(w),_.resolving=!1,Fc()}}return d}function Aa(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function Nr(i,s){return!(i&ot.Self||i&ot.Host&&s)}class Ii{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,l){return $s(this._tNode,this._lView,s,l,a)}}function qc(i){return dn(()=>{const s=i.prototype.constructor,a=s[Ke]||xn(s),l=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==l;){const p=d[Ke]||xn(d);if(p&&p!==a)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function xn(i){return Le(i)?()=>{const s=xn(z(i));return s&&s()}:Gr(i)}function qo(i){return function Ta(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const l=a.length;let d=0;for(;d<l;){const p=a[d];if(cr(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<l&&"string"==typeof a[d];)d++;else{if(p===s)return a[d+1];d+=2}}}return null}(fn(),i)}const zo="__parameters__";function yn(i,s,a){return dn(()=>{const l=function Bi(i){return function(...a){if(i){const l=i(...a);for(const d in l)this[d]=l[d]}}}(s);function d(...p){if(this instanceof d)return l.apply(this,p),this;const _=new d(...p);return w.annotation=_,w;function w(b,T,S){const k=b.hasOwnProperty(zo)?b[zo]:Object.defineProperty(b,zo,{value:[]})[zo];for(;k.length<=S;)k.push(null);return(k[S]=k[S]||[]).push(_),b}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}class _n{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Qt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Rp=new _n("AnalyzeForEntryComponents");function br(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let l=i[a];Array.isArray(l)?(s===i&&(s=i.slice(0,a)),br(l,s)):s!==i&&s.push(l)}return s}function ui(i,s){i.forEach(a=>Array.isArray(a)?ui(a,s):s(a))}function Ol(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function ds(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function $n(i,s,a){let l=zs(i,s);return l>=0?i[1|l]=a:(l=~l,function Rl(i,s,a,l){let d=i.length;if(d==s)i.push(a,l);else if(1===d)i.push(l,i[0]),i[0]=a;else{for(d--,i.push(i[d-1],i[d]);d>s;)i[d]=i[d-2],d--;i[s]=a,i[s+1]=l}}(i,l,s,a)),l}function kl(i,s){const a=zs(i,s);if(a>=0)return i[1|a]}function zs(i,s){return function _o(i,s,a){let l=0,d=i.length>>a;for(;d!==l;){const p=l+(d-l>>1),_=i[p<<a];if(s===_)return p<<a;_>s?d=p:l=p+1}return~(d<<a)}(i,s,1)}const vo={},Wo="__NG_DI_FLAG__",Du="ngTempTokenPath",I=/\n/gm,F="__source",K=re({provide:String,useValue:re});let ne;function Ae(i){const s=ne;return ne=i,s}function Se(i,s=ot.Default){if(void 0===ne)throw new Me(203,"");return null===ne?ti(i,void 0,s):ne.get(i,s&ot.Optional?null:void 0,s)}function We(i,s=ot.Default){return(function Yn(){return Hr}()||Se)(z(i),s)}const xt=We;function Et(i){const s=[];for(let a=0;a<i.length;a++){const l=z(i[a]);if(Array.isArray(l)){if(0===l.length)throw new Me(900,"");let d,p=ot.Default;for(let _=0;_<l.length;_++){const w=l[_],b=vn(w);"number"==typeof b?-1===b?d=w.token:p|=b:d=w}s.push(We(d,p))}else s.push(We(l))}return s}function Pn(i,s){return i[Wo]=s,i.prototype[Wo]=s,i}function vn(i){return i[Wo]}const Pr=Pn(yn("Inject",i=>({token:i})),-1),ci=Pn(yn("Optional"),8),Eo=Pn(yn("SkipSelf"),4);class td{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Zs(i){return i instanceof td?i.changingThisBreaksApplicationSecurity:i}const Ws=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Sh=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Yt=(()=>((Yt=Yt||{})[Yt.NONE=0]="NONE",Yt[Yt.HTML=1]="HTML",Yt[Yt.STYLE=2]="STYLE",Yt[Yt.SCRIPT=3]="SCRIPT",Yt[Yt.URL=4]="URL",Yt[Yt.RESOURCE_URL=5]="RESOURCE_URL",Yt))();function Ou(i){const s=function Xo(){const i=be();return i&&i[12]}();return s?s.sanitize(Yt.URL,i)||"":function Jo(i,s){const a=function Au(i){return i instanceof td&&i.getTypeName()||null}(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}(i,"URL")?Zs(i):function Su(i){return(i=String(i)).match(Ws)||i.match(Sh)?i:"unsafe:"+i}(ie(i))}const Vh="__ngContext__";function kr(i,s){i[Vh]=s}function Uh(i){const s=function Ra(i){return i[Vh]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function ka(i){return i.ngOriginalError}function Wp(i,...s){i.error(...s)}class Ir{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),l=function ly(i){return i&&i.ngErrorLogger||Wp}(s);l(this._console,"ERROR",s),a&&l(this._console,"ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&ka(s);for(;a&&ka(a);)a=ka(a);return a||null}}const fy=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Vt))();function g(i){return i instanceof Function?i():i}var de=(()=>((de=de||{})[de.Important=1]="Important",de[de.DashCase=2]="DashCase",de))();function Ye(i,s){return undefined(i,s)}function wn(i){const s=i[3];return ri(s)?s[3]:s}function Ru(i){return Zh(i[13])}function Nu(i){return Zh(i[4])}function Zh(i){for(;null!==i&&!ri(i);)i=i[4];return i}function ea(i,s,a,l,d){if(null!=l){let p,_=!1;ri(l)?p=l:vi(l)&&(_=!0,l=l[0]);const w=tn(l);0===i&&null!==a?null==d?vy(s,a,w):fs(s,a,w,d||null,!0):1===i&&null!==a?fs(s,a,w,d||null,!0):2===i?function Cy(i,s,a){const l=Jh(i,s);l&&function tC(i,s,a,l){un(i)?i.removeChild(s,a,l):s.removeChild(a)}(i,l,s,a)}(s,w,_):3===i&&s.destroyNode(w),null!=p&&function iC(i,s,a,l,d){const p=a[7];p!==tn(a)&&ea(s,i,l,p,d);for(let w=10;w<a.length;w++){const b=a[w];Xp(b[1],b,i,s,l,p)}}(s,i,p,a,d)}}function ld(i,s,a){if(un(i))return i.createElement(s,a);{const l=null!==a?function lu(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(a):null;return null===l?i.createElement(s):i.createElementNS(l,s)}}function R0(i,s){const a=i[9],l=a.indexOf(s),d=s[3];1024&s[2]&&(s[2]&=-1025,Ls(d,-1)),a.splice(l,1)}function my(i,s){if(i.length<=10)return;const a=10+s,l=i[a];if(l){const d=l[17];null!==d&&d!==i&&R0(d,l),s>0&&(i[a-1][4]=l[4]);const p=ds(i,10+s);!function er(i,s){Xp(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(l[1],l);const _=p[19];null!==_&&_.detachView(p[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function yy(i,s){if(!(256&s[2])){const a=s[11];un(a)&&a.destroyNode&&Xp(i,s,a,3,null,null),function Yh(i){let s=i[13];if(!s)return _y(i[1],i);for(;s;){let a=null;if(vi(s))a=s[13];else{const l=s[10];l&&(a=l)}if(!a){for(;s&&!s[4]&&s!==i;)vi(s)&&_y(s[1],s),s=s[3];null===s&&(s=i),vi(s)&&_y(s[1],s),a=s&&s[4]}s=a}}(s)}}function _y(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function P0(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let l=0;l<a.length;l+=2){const d=s[a[l]];if(!(d instanceof Bo)){const p=a[l+1];if(Array.isArray(p))for(let _=0;_<p.length;_+=2){const w=d[p[_]],b=p[_+1];try{b.call(w)}finally{}}else try{p.call(d)}finally{}}}}(i,s),function N0(i,s){const a=i.cleanup,l=s[7];let d=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const _=a[p+1],w="function"==typeof _?_(s):tn(s[_]),b=l[d=a[p+2]],T=a[p+3];"boolean"==typeof T?w.removeEventListener(a[p],b,T):T>=0?l[d=T]():l[d=-T].unsubscribe(),p+=2}else{const _=l[d=a[p+1]];a[p].call(_)}if(null!==l){for(let p=d+1;p<l.length;p++)l[p]();s[7]=null}}(i,s),1===s[1].type&&un(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&ri(s[3])){a!==s[3]&&R0(a,s);const l=s[19];null!==l&&l.detachView(i)}}}function Jp(i,s,a){return function eC(i,s,a){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return a[0];if(2&l.flags){const d=i.data[l.directiveStart].encapsulation;if(d===jt.None||d===jt.Emulated)return null}return _r(l,a)}(i,s.parent,a)}function fs(i,s,a,l,d){un(i)?i.insertBefore(s,a,l,d):s.insertBefore(a,l,d)}function vy(i,s,a){un(i)?i.appendChild(s,a):s.appendChild(a)}function k0(i,s,a,l,d){null!==l?fs(i,s,a,l,d):vy(i,s,a)}function Jh(i,s){return un(i)?i.parentNode(s):s.parentNode}let wy=function L0(i,s,a){return 40&i.type?_r(i,a):null};function Qp(i,s,a,l){const d=Jp(i,l,s),p=s[11],w=function F0(i,s,a){return wy(i,s,a)}(l.parent||s[6],l,s);if(null!=d)if(Array.isArray(a))for(let b=0;b<a.length;b++)k0(p,d,a[b],w,!1);else k0(p,d,a,w,!1)}function hd(i,s){if(null!==s){const a=s.type;if(3&a)return _r(s,i);if(4&a)return by(-1,i[s.index]);if(8&a){const l=s.child;if(null!==l)return hd(i,l);{const d=i[s.index];return ri(d)?by(-1,d):tn(d)}}if(32&a)return Ye(s,i)()||tn(i[s.index]);{const l=U0(i,s);return null!==l?Array.isArray(l)?l[0]:hd(wn(i[16]),l):hd(i,s.next)}}return null}function U0(i,s){return null!==s?i[16][6].projection[s.projection]:null}function by(i,s){const a=10+i+1;if(a<s.length){const l=s[a],d=l[1].firstChild;if(null!==d)return hd(l,d)}return s[7]}function Iy(i,s,a,l,d,p,_){for(;null!=a;){const w=l[a.index],b=a.type;if(_&&0===s&&(w&&kr(tn(w),l),a.flags|=4),64!=(64&a.flags))if(8&b)Iy(i,s,a.child,l,d,p,!1),ea(s,i,d,w,p);else if(32&b){const T=Ye(a,l);let S;for(;S=T();)ea(s,i,d,S,p);ea(s,i,d,w,p)}else 16&b?ye(i,s,l,a,d,p):ea(s,i,d,w,p);a=_?a.projectionNext:a.next}}function Xp(i,s,a,l,d,p){Iy(a,l,i.firstChild,s,d,p,!1)}function ye(i,s,a,l,d,p){const _=a[16],b=_[6].projection[l.projection];if(Array.isArray(b))for(let T=0;T<b.length;T++)ea(s,i,d,b[T],p);else Iy(i,s,b,_[3],d,p,!0)}function Qh(i,s,a){un(i)?i.setAttribute(s,"style",a):s.style.cssText=a}function Dy(i,s,a){un(i)?""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a):s.className=a}function B0(i,s,a){let l=i.length;for(;;){const d=i.indexOf(s,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const p=s.length;if(d+p===l||i.charCodeAt(d+p)<=32)return d}a=d+1}}const Ty="ng-template";function j0(i,s,a){let l=0;for(;l<i.length;){let d=i[l++];if(a&&"class"===d){if(d=i[l],-1!==B0(d.toLowerCase(),s,0))return!0}else if(1===d){for(;l<i.length&&"string"==typeof(d=i[l++]);)if(d.toLowerCase()===s)return!0;return!1}}return!1}function eg(i){return 4===i.type&&i.value!==Ty}function hi(i,s,a){return s===(4!==i.type||a?i.value:Ty)}function To(i,s,a){let l=4;const d=i.attrs||[],p=function oC(i){for(let s=0;s<i.length;s++)if(cr(i[s]))return s;return i.length}(d);let _=!1;for(let w=0;w<s.length;w++){const b=s[w];if("number"!=typeof b){if(!_)if(4&l){if(l=2|1&l,""!==b&&!hi(i,b,a)||""===b&&1===s.length){if(Ks(l))return!1;_=!0}}else{const T=8&l?b:s[++w];if(8&l&&null!==i.attrs){if(!j0(i.attrs,T,a)){if(Ks(l))return!1;_=!0}continue}const k=tg(8&l?"class":b,d,eg(i),a);if(-1===k){if(Ks(l))return!1;_=!0;continue}if(""!==T){let B;B=k>p?"":d[k+1].toLowerCase();const Z=8&l?B:null;if(Z&&-1!==B0(Z,T,0)||2&l&&T!==B){if(Ks(l))return!1;_=!0}}}}else{if(!_&&!Ks(l)&&!Ks(b))return!1;if(_&&Ks(b))continue;_=!1,l=b|1&l}}return Ks(l)||_}function Ks(i){return 0==(1&i)}function tg(i,s,a,l){if(null===s)return-1;let d=0;if(l||!a){let p=!1;for(;d<s.length;){const _=s[d];if(_===i)return d;if(3===_||6===_)p=!0;else{if(1===_||2===_){let w=s[++d];for(;"string"==typeof w;)w=s[++d];continue}if(4===_)break;if(0===_){d+=4;continue}}d+=p?1:2}return-1}return function Ay(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const l=i[a];if("number"==typeof l)return-1;if(l===s)return a;a++}return-1}(s,i)}function H0(i,s,a=!1){for(let l=0;l<s.length;l++)if(To(i,s[l],a))return!0;return!1}function aC(i,s){return i?":not("+s.trim()+")":s}function uC(i){let s=i[0],a=1,l=2,d="",p=!1;for(;a<i.length;){let _=i[a];if("string"==typeof _)if(2&l){const w=i[++a];d+="["+_+(w.length>0?'="'+w+'"':"")+"]"}else 8&l?d+="."+_:4&l&&(d+=" "+_);else""!==d&&!Ks(_)&&(s+=aC(p,d),d=""),l=_,p=p||!Ks(l);a++}return""!==d&&(s+=aC(p,d)),s}const Rt={};function cC(i){dC(Pt(),be(),wr()+i,mu())}function dC(i,s,a,l){if(!l)if(3==(3&s[2])){const p=i.preOrderCheckHooks;null!==p&&Da(s,p,a)}else{const p=i.preOrderHooks;null!==p&&wu(s,p,0,a)}js(a)}function Sy(i,s){return i<<17|s<<2}function ta(i){return i>>17&32767}function fd(i){return 2|i}function It(i){return(131068&i)>>2}function na(i,s){return-131069&i|s<<2}function My(i){return 1|i}function sg(i,s){const a=i.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const d=a[l],p=a[l+1];if(-1!==p){const _=i.data[p];wl(d),_.contentQueries(2,s[p],p)}}}function Ql(i,s,a,l,d,p,_,w,b,T){const S=s.blueprint.slice();return S[0]=d,S[2]=140|l,Fs(S),S[3]=S[15]=i,S[8]=a,S[10]=_||i&&i[10],S[11]=w||i&&i[11],S[12]=b||i&&i[12]||null,S[9]=T||i&&i[9]||null,S[6]=p,S[16]=2==s.type?i[16]:S,S}function gd(i,s,a,l,d){let p=i.data[s];if(null===p)p=function jy(i,s,a,l,d){const p=Vo(),_=pl(),b=i.data[s]=function IC(i,s,a,l,d,p){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?p:p&&p.parent,a,s,l,d);return null===i.firstChild&&(i.firstChild=b),null!==p&&(_?null==p.child&&null!==b.parent&&(p.child=b):null===p.next&&(p.next=b)),b}(i,s,a,l,d),function yl(){return lt.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=a,p.value=l,p.attrs=d;const _=function Uo(){const i=lt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();p.injectorIndex=null===_?-1:_.injectorIndex}return Zr(p,!0),p}function md(i,s,a,l){if(0===a)return-1;const d=s.length;for(let p=0;p<a;p++)s.push(l),i.blueprint.push(l),i.data.push(null);return d}function ku(i,s,a){fo(s);try{const l=i.viewQuery;null!==l&&dg(1,l,a);const d=i.template;null!==d&&og(i,s,d,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&sg(i,s),i.staticViewQueries&&dg(2,i.viewQuery,a);const p=i.components;null!==p&&function Z0(i,s){for(let a=0;a<s.length;a++)fA(i,s[a])}(s,p)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[2]&=-5,go()}}function Fu(i,s,a,l){const d=s[2];if(256==(256&d))return;fo(s);const p=mu();try{Fs(s),function yu(i){return lt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&og(i,s,a,2,l);const _=3==(3&d);if(!p)if(_){const T=i.preOrderCheckHooks;null!==T&&Da(s,T,null)}else{const T=i.preOrderHooks;null!==T&&wu(s,T,0,null),Rn(s,0)}if(function hA(i){for(let s=Ru(i);null!==s;s=Nu(s)){if(!s[2])continue;const a=s[9];for(let l=0;l<a.length;l++){const d=a[l],p=d[3];0==(1024&d[2])&&Ls(p,1),d[2]|=1024}}}(s),function MC(i){for(let s=Ru(i);null!==s;s=Nu(s))for(let a=10;a<s.length;a++){const l=s[a],d=l[1];ss(l)&&Fu(d,l,d.template,l[8])}}(s),null!==i.contentQueries&&sg(i,s),!p)if(_){const T=i.contentCheckHooks;null!==T&&Da(s,T)}else{const T=i.contentHooks;null!==T&&wu(s,T,1),Rn(s,1)}!function bC(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const d=a[l];if(d<0)js(~d);else{const p=d,_=a[++l],w=a[++l];vu(_,p),w(2,s[p])}}}finally{js(-1)}}(i,s);const w=i.components;null!==w&&function z0(i,s){for(let a=0;a<s.length;a++)OC(i,s[a])}(s,w);const b=i.viewQuery;if(null!==b&&dg(2,b,l),!p)if(_){const T=i.viewCheckHooks;null!==T&&Da(s,T)}else{const T=i.viewHooks;null!==T&&wu(s,T,2),Rn(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),p||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,Ls(s[3],-1))}finally{go()}}function Hy(i,s,a,l){const d=s[10],p=!mu(),_=ks(s);try{p&&!_&&d.begin&&d.begin(),_&&ku(i,s,l),Fu(i,s,a,l)}finally{p&&!_&&d.end&&d.end()}}function og(i,s,a,l,d){const p=wr(),_=2&l;try{js(-1),_&&s.length>20&&dC(i,s,20,mu()),a(l,d)}finally{js(p)}}function Gy(i,s,a){!gu()||(function iw(i,s,a,l){const d=a.directiveStart,p=a.directiveEnd;i.firstCreatePass||Nn(a,s),kr(l,s);const _=a.initialInputs;for(let w=d;w<p;w++){const b=i.data[w],T=$r(b);T&&SC(s,a,b);const S=Ci(s,i,w,a);kr(S,s),null!==_&&Wy(0,w-d,S,b,0,_),T&&(vr(a.index,s)[8]=S)}}(i,s,a,_r(a,s)),128==(128&a.flags)&&function uA(i,s,a){const l=a.directiveStart,d=a.directiveEnd,_=a.index,w=function _l(){return lt.lFrame.currentDirectiveIndex}();try{js(_);for(let b=l;b<d;b++){const T=i.data[b],S=s[b];Ca(b),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&sw(T,S)}}finally{js(-1),Ca(w)}}(i,s,a))}function ag(i,s,a=_r){const l=s.localNames;if(null!==l){let d=s.index+1;for(let p=0;p<l.length;p+=2){const _=l[p+1],w=-1===_?a(s,i):i[_];i[d++]=w}}}function rf(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=ug(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function ug(i,s,a,l,d,p,_,w,b,T){const S=20+l,k=S+d,B=function CC(i,s){const a=[];for(let l=0;l<s;l++)a.push(l<i?null:Rt);return a}(S,k),Z="function"==typeof T?T():T;return B[1]={type:i,blueprint:B,template:a,queries:null,viewQuery:w,declTNode:s,data:B.slice().fill(null,S),bindingStartIndex:S,expandoStartIndex:k,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:b,consts:Z,incompleteFirstPass:!1}}function Y0(i,s,a,l){const d=Yy(s);null===a?d.push(l):(d.push(a),i.firstCreatePass&&Jy(i).push(l,d.length-1))}function J0(i,s,a){for(let l in i)if(i.hasOwnProperty(l)){const d=i[l];(a=null===a?{}:a).hasOwnProperty(l)?a[l].push(s,d):a[l]=[s,d]}return a}function pi(i,s,a,l,d,p,_,w){const b=_r(s,a);let S,T=s.inputs;!w&&null!=T&&(S=T[l])?(kC(i,a,S,l,d),Ms(s)&&function Q0(i,s){const a=vr(s,i);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(l=function TC(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),d=null!=_?_(d,s.value||"",l):d,un(p)?p.setProperty(b,l,d):dr(l)||(b.setProperty?b.setProperty(l,d):b[l]=d))}function lg(i,s,a,l){let d=!1;if(gu()){const p=function lA(i,s,a){const l=i.directiveRegistry;let d=null;if(l)for(let p=0;p<l.length;p++){const _=l[p];H0(a,_.selectors,!1)&&(d||(d=[]),Hs(Nn(a,s),i,_.type),$r(_)?(AC(i,a),d.unshift(_)):d.push(_))}return d}(i,s,a),_=null===l?null:{"":-1};if(null!==p){d=!0,ow(a,i.data.length,p.length);for(let S=0;S<p.length;S++){const k=p[S];k.providersResolver&&k.providersResolver(k)}let w=!1,b=!1,T=md(i,s,p.length,null);for(let S=0;S<p.length;S++){const k=p[S];a.mergedAttrs=Rr(a.mergedAttrs,k.hostAttrs),Zy(i,a,s,T,k),cA(T,k,_),null!==k.contentQueries&&(a.flags|=8),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(a.flags|=128);const B=k.type.prototype;!w&&(B.ngOnChanges||B.ngOnInit||B.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),w=!0),!b&&(B.ngOnChanges||B.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),b=!0),T++}!function DC(i,s){const l=s.directiveEnd,d=i.data,p=s.attrs,_=[];let w=null,b=null;for(let T=s.directiveStart;T<l;T++){const S=d[T],k=S.inputs,B=null===p||eg(s)?null:dA(k,p);_.push(B),w=J0(k,T,w),b=J0(S.outputs,T,b)}null!==w&&(w.hasOwnProperty("class")&&(s.flags|=16),w.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=_,s.inputs=w,s.outputs=b}(i,a)}_&&function zy(i,s,a){if(s){const l=i.localNames=[];for(let d=0;d<s.length;d+=2){const p=a[s[d+1]];if(null==p)throw new Me(-301,!1);l.push(s[d],p)}}}(a,l,_)}return a.mergedAttrs=Rr(a.mergedAttrs,a.attrs),d}function qy(i,s,a,l,d,p){const _=p.hostBindings;if(_){let w=i.hostBindingOpCodes;null===w&&(w=i.hostBindingOpCodes=[]);const b=~s.index;(function rw(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(w)!=b&&w.push(b),w.push(l,d,_)}}function sw(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function AC(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function cA(i,s,a){if(a){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)a[s.exportAs[l]]=i;$r(s)&&(a[""]=i)}}function ow(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function Zy(i,s,a,l,d){i.data[l]=d;const p=d.factory||(d.factory=Gr(d.type)),_=new Bo(p,$r(d),null);i.blueprint[l]=_,a[l]=_,qy(i,s,0,l,md(i,a,d.hostVars,Rt),d)}function SC(i,s,a){const l=_r(s,i),d=rf(a),p=i[10],_=cg(i,Ql(i,d,null,a.onPush?64:16,l,s,p,p.createRenderer(l,a),null,null));i[s.index]=_}function Ao(i,s,a,l,d,p){const _=_r(i,s);!function sf(i,s,a,l,d,p,_){if(null==p)un(i)?i.removeAttribute(s,d,a):s.removeAttribute(d);else{const w=null==_?ie(p):_(p,l||"",d);un(i)?i.setAttribute(s,d,w,a):a?s.setAttributeNS(a,d,w):s.setAttribute(d,w)}}(s[11],_,p,i.value,a,l,d)}function Wy(i,s,a,l,d,p){const _=p[s];if(null!==_){const w=l.setInput;for(let b=0;b<_.length;){const T=_[b++],S=_[b++],k=_[b++];null!==w?l.setInput(a,k,T,S):a[S]=k}}}function dA(i,s){let a=null,l=0;for(;l<s.length;){const d=s[l];if(0!==d)if(5!==d){if("number"==typeof d)break;i.hasOwnProperty(d)&&(null===a&&(a=[]),a.push(d,i[d],s[l+1])),l+=2}else l+=2;else l+=4}return a}function xC(i,s,a,l){return new Array(i,!0,!1,s,null,0,l,a,null,null)}function OC(i,s){const a=vr(s,i);if(ss(a)){const l=a[1];80&a[2]?Fu(l,a,l.template,a[8]):a[5]>0&&Ky(a)}}function Ky(i){for(let l=Ru(i);null!==l;l=Nu(l))for(let d=10;d<l.length;d++){const p=l[d];if(1024&p[2]){const _=p[1];Fu(_,p,_.template,p[8])}else p[5]>0&&Ky(p)}const a=i[1].components;if(null!==a)for(let l=0;l<a.length;l++){const d=vr(a[l],i);ss(d)&&d[5]>0&&Ky(d)}}function fA(i,s){const a=vr(s,i),l=a[1];(function pA(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(l,a),ku(l,a,a[8])}function cg(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function uw(i){for(;i;){i[2]|=64;const s=wn(i);if(mh(i)&&!s)return i;i=s}return null}function cw(i,s,a){const l=s[10];l.begin&&l.begin();try{Fu(i,s,i.template,a)}catch(d){throw of(s,d),d}finally{l.end&&l.end()}}function RC(i){!function lw(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],l=Uh(a),d=l[1];Hy(d,l,d.template,a)}}(i[8])}function dg(i,s,a){wl(0),s(i,a)}const hw=(()=>Promise.resolve(null))();function Yy(i){return i[7]||(i[7]=[])}function Jy(i){return i.cleanup||(i.cleanup=[])}function of(i,s){const a=i[9],l=a?a.get(Ir,null):null;l&&l.handleError(s)}function kC(i,s,a,l,d){for(let p=0;p<a.length;){const _=a[p++],w=a[p++],b=s[_],T=i.data[_];null!==T.setInput?T.setInput(b,d,l,w):b[w]=d}}function ps(i,s,a){const l=ho(s,i);!function ud(i,s,a){un(i)?i.setValue(s,a):s.textContent=a}(i[11],l,a)}function hg(i,s,a){let l=a?i.styles:null,d=a?i.classes:null,p=0;if(null!==s)for(let _=0;_<s.length;_++){const w=s[_];"number"==typeof w?p=w:1==p?d=X(d,w):2==p&&(l=X(l,w+": "+s[++_]+";"))}a?i.styles=l:i.stylesWithoutHost=l,a?i.classes=d:i.classesWithoutHost=d}const fw=new _n("INJECTOR",-1);class pw{get(s,a=vo){if(a===vo){const l=new Error(`NullInjectorError: No provider for ${ee(s)}!`);throw l.name="NullInjectorError",l}return a}}const e_=new _n("Set Injector scope."),gs={},Qe={};let af;function Dt(){return void 0===af&&(af=new pw),af}function uf(i,s=null,a=null,l){const d=fg(i,s,a,l);return d._resolveInjectorDefTypes(),d}function fg(i,s=null,a=null,l){return new lf(i,a,s||Dt(),l)}class lf{constructor(s,a,l,d=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];a&&ui(a,w=>this.processProvider(w,s,a)),ui([s],w=>this.processInjectorType(w,[],p)),this.records.set(fw,yd(void 0,this));const _=this.records.get(e_);this.scope=null!=_?_.value:null,this.source=d||("object"==typeof s?null:ee(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=vo,l=ot.Default){this.assertNotDestroyed();const d=Ae(this),p=jn(void 0);try{if(!(l&ot.SkipSelf)){let w=this.records.get(s);if(void 0===w){const b=function yw(i){return"function"==typeof i||"object"==typeof i&&i instanceof _n}(s)&&Bt(s);w=b&&this.injectableDefInScope(b)?yd(t_(s),gs):null,this.records.set(s,w)}if(null!=w)return this.hydrate(s,w)}return(l&ot.Self?Dt():this.parent).get(s,a=l&ot.Optional&&a===vo?null:a)}catch(_){if("NullInjectorError"===_.name){if((_[Du]=_[Du]||[]).unshift(ee(s)),d)throw _;return function Ko(i,s,a,l){const d=i[Du];throw s[F]&&d.unshift(s[F]),i.message=function wo(i,s,a,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let d=ee(s);if(Array.isArray(s))d=s.map(ee).join(" -> ");else if("object"==typeof s){let p=[];for(let _ in s)if(s.hasOwnProperty(_)){let w=s[_];p.push(_+":"+("string"==typeof w?JSON.stringify(w):ee(w)))}d=`{${p.join(", ")}}`}return`${a}${l?"("+l+")":""}[${d}]: ${i.replace(I,"\n  ")}`}("\n"+i.message,d,a,l),i.ngTokenPath=d,i[Du]=null,i}(_,s,"R3InjectorError",this.source)}throw _}finally{jn(p),Ae(d)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((l,d)=>s.push(ee(d))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Me(205,!1)}processInjectorType(s,a,l){if(!(s=z(s)))return!1;let d=xr(s);const p=null==d&&s.ngModule||void 0,_=void 0===p?s:p,w=-1!==l.indexOf(_);if(void 0!==p&&(d=xr(p)),null==d)return!1;if(null!=d.imports&&!w){let S;l.push(_);try{ui(d.imports,k=>{this.processInjectorType(k,a,l)&&(void 0===S&&(S=[]),S.push(k))})}finally{}if(void 0!==S)for(let k=0;k<S.length;k++){const{ngModule:B,providers:Z}=S[k];ui(Z,_e=>this.processProvider(_e,B,Z||at))}}this.injectorDefTypes.add(_);const b=Gr(_)||(()=>new _);this.records.set(_,yd(b,gs));const T=d.providers;if(null!=T&&!w){const S=s;ui(T,k=>this.processProvider(k,S,T))}return void 0!==p&&void 0!==s.providers}processProvider(s,a,l){let d=ms(s=z(s))?s:z(s&&s.provide);const p=function LC(i,s,a){return Fr(i)?yd(void 0,i.useValue):yd(gw(i),gs)}(s);if(ms(s)||!0!==s.multi)this.records.get(d);else{let _=this.records.get(d);_||(_=yd(void 0,gs,!0),_.factory=()=>Et(_.multi),this.records.set(d,_)),d=s,_.multi.push(s)}this.records.set(d,p)}hydrate(s,a){return a.value===gs&&(a.value=Qe,a.value=a.factory()),"object"==typeof a.value&&a.value&&function mw(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=z(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function t_(i){const s=Bt(i),a=null!==s?s.factory:Gr(i);if(null!==a)return a;if(i instanceof _n)throw new Me(204,!1);if(i instanceof Function)return function n_(i){const s=i.length;if(s>0)throw function Ti(i,s){const a=[];for(let l=0;l<i;l++)a.push(s);return a}(s,"?"),new Me(204,!1);const a=function ei(i){const s=i&&(i[Pi]||i[Qi]);if(s){const a=function Ds(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Me(204,!1)}function gw(i,s,a){let l;if(ms(i)){const d=z(i);return Gr(d)||t_(d)}if(Fr(i))l=()=>z(i.useValue);else if(function Kr(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...Et(i.deps||[]));else if(function pg(i){return!(!i||!i.useExisting)}(i))l=()=>We(z(i.useExisting));else{const d=z(i&&(i.useClass||i.provide));if(!function UC(i){return!!i.deps}(i))return Gr(d)||t_(d);l=()=>new d(...Et(i.deps))}return l}function yd(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function Fr(i){return null!==i&&"object"==typeof i&&K in i}function ms(i){return"function"==typeof i}let So=(()=>{class i{static create(a,l){var d;if(Array.isArray(a))return uf({name:""},l,a,"");{const p=null!==(d=a.name)&&void 0!==d?d:"";return uf({name:p},a.parent,a.providers,p)}}}return i.THROW_IF_NOT_FOUND=vo,i.NULL=new pw,i.\u0275prov=Qt({token:i,providedIn:"any",factory:()=>We(fw)}),i.__NG_ELEMENT_ID__=-1,i})();function jC(i,s){os(Uh(i)[1],fn())}function c_(i){let s=function l_(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const l=[i];for(;s;){let d;if($r(i))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Me(903,"");d=s.\u0275dir}if(d){if(a){l.push(d);const _=i;_.inputs=Lr(i.inputs),_.declaredInputs=Lr(i.declaredInputs),_.outputs=Lr(i.outputs);const w=d.hostBindings;w&&hf(i,w);const b=d.viewQuery,T=d.contentQueries;if(b&&df(i,b),T&&$C(i,T),J(i.inputs,d.inputs),J(i.declaredInputs,d.declaredInputs),J(i.outputs,d.outputs),$r(d)&&d.data.animation){const S=i.data;S.animation=(S.animation||[]).concat(d.data.animation)}}const p=d.features;if(p)for(let _=0;_<p.length;_++){const w=p[_];w&&w.ngInherit&&w(i),w===c_&&(a=!1)}}s=Object.getPrototypeOf(s)}!function HC(i){let s=0,a=null;for(let l=i.length-1;l>=0;l--){const d=i[l];d.hostVars=s+=d.hostVars,d.hostAttrs=Rr(d.hostAttrs,a=Rr(a,d.hostAttrs))}}(l)}function Lr(i){return i===or?{}:i===at?[]:i}function df(i,s){const a=i.viewQuery;i.viewQuery=a?(l,d)=>{s(l,d),a(l,d)}:s}function $C(i,s){const a=i.contentQueries;i.contentQueries=a?(l,d,p)=>{s(l,d,p),a(l,d,p)}:s}function hf(i,s){const a=i.hostBindings;i.hostBindings=a?(l,d)=>{s(l,d),a(l,d)}:s}let Xl=null;function Vu(){if(!Xl){const i=Vt.Symbol;if(i&&i.iterator)Xl=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const l=s[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(Xl=l)}}}return Xl}function ec(i){return!!bg(i)&&(Array.isArray(i)||!(i instanceof Map)&&Vu()in i)}function bg(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function ia(i,s,a){return i[s]=a}function Yr(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function pf(i,s,a,l){const d=be();return Yr(d,Us(),s)&&(Pt(),Ao(mn(),d,i,s,a,l)),pf}function Bu(i,s,a,l){return Yr(i,Us(),a)?s+ie(a)+l:Rt}function Tg(i,s,a,l,d,p,_,w){const b=be(),T=Pt(),S=i+20,k=T.firstCreatePass?function p_(i,s,a,l,d,p,_,w,b){const T=s.consts,S=gd(s,i,4,_||null,zr(T,w));lg(s,a,S,zr(T,b)),os(s,S);const k=S.tViews=ug(2,S,l,d,p,s.directiveRegistry,s.pipeRegistry,null,s.schemas,T);return null!==s.queries&&(s.queries.template(s,S),k.queries=s.queries.embeddedTView(S)),S}(S,T,b,s,a,l,d,p,_):T.data[S];Zr(k,!1);const B=b[11].createComment("");Qp(T,b,B,k),kr(B,b),cg(b,b[S]=xC(B,b,B,k)),ru(k)&&Gy(T,b,k),null!=_&&ag(b,k,w)}function Ow(i){return wi(function ml(){return lt.lFrame.contextLView}(),20+i)}function Ua(i,s=ot.Default){const a=be();return null===a?We(i,s):$s(fn(),a,z(i),s)}function Hu(){throw new Error("invalid")}function _f(i,s,a){const l=be();return Yr(l,Us(),s)&&pi(Pt(),mn(),l,i,s,l[11],a,!1),_f}function D_(i,s,a,l,d){const _=d?"class":"style";kC(i,a,s.inputs[_],_,l)}function Ba(i,s,a,l){const d=be(),p=Pt(),_=20+i,w=d[11],b=d[_]=ld(w,s,function jm(){return lt.lFrame.currentNamespace}()),T=p.firstCreatePass?function T_(i,s,a,l,d,p,_){const w=s.consts,T=gd(s,i,2,d,zr(w,p));return lg(s,a,T,zr(w,_)),null!==T.attrs&&hg(T,T.attrs,!1),null!==T.mergedAttrs&&hg(T,T.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,T),T}(_,p,d,0,s,a,l):p.data[_];Zr(T,!0);const S=T.mergedAttrs;null!==S&&dt(w,b,S);const k=T.classes;null!==k&&Dy(w,b,k);const B=T.styles;return null!==B&&Qh(w,b,B),64!=(64&T.flags)&&Qp(p,d,b,T),0===function ba(){return lt.lFrame.elementDepthCount}()&&kr(b,d),function fu(){lt.lFrame.elementDepthCount++}(),ru(T)&&(Gy(p,d,T),function $y(i,s,a){if(Ic(s)){const d=s.directiveEnd;for(let p=s.directiveStart;p<d;p++){const _=i.data[p];_.contentQueries&&_.contentQueries(1,a[p],p)}}}(p,T,d)),null!==l&&ag(d,T),Ba}function Dd(){let i=fn();pl()?function gl(){lt.lFrame.isParent=!1}():(i=i.parent,Zr(i,!1));const s=i;!function pu(){lt.lFrame.elementDepthCount--}();const a=Pt();return a.firstCreatePass&&(os(a,i),Ic(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function vh(i){return 0!=(16&i.flags)}(s)&&D_(a,s,be(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Op(i){return 0!=(32&i.flags)}(s)&&D_(a,s,be(),s.stylesWithoutHost,!1),Dd}function ja(i,s,a,l){return Ba(i,s,a,l),Dd(),ja}function wf(){return be()}function Td(i){return!!i&&"function"==typeof i.then}function A_(i){return!!i&&"function"==typeof i.subscribe}const En=A_;function Ad(i,s,a,l){const d=be(),p=Pt(),_=fn();return function Sd(i,s,a,l,d,p,_,w){const b=ru(l),S=i.firstCreatePass&&Jy(i),k=s[8],B=Yy(s);let Z=!0;if(3&l.type||w){const $e=_r(l,s),Je=w?w($e):$e,Ce=B.length,ct=w?Ut=>w(tn(Ut[l.index])):l.index;if(un(a)){let Ut=null;if(!w&&b&&(Ut=function XC(i,s,a,l){const d=i.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const _=d[p];if(_===a&&d[p+1]===l){const w=s[7],b=d[p+2];return w.length>b?w[b]:null}"string"==typeof _&&(p+=2)}return null}(i,s,d,l.index)),null!==Ut)(Ut.__ngLastListenerFn__||Ut).__ngNextListenerFn__=p,Ut.__ngLastListenerFn__=p,Z=!1;else{p=S_(l,s,k,p,!1);const cn=a.listen(Je,d,p);B.push(p,cn),S&&S.push(d,ct,Ce,Ce+1)}}else p=S_(l,s,k,p,!0),Je.addEventListener(d,p,_),B.push(p),S&&S.push(d,ct,Ce,_)}else p=S_(l,s,k,p,!1);const _e=l.outputs;let ke;if(Z&&null!==_e&&(ke=_e[d])){const $e=ke.length;if($e)for(let Je=0;Je<$e;Je+=2){const Ni=s[ke[Je]][ke[Je+1]].subscribe(p),vc=B.length;B.push(p,Ni),S&&S.push(d,l.index,vc,-(vc+1))}}}(p,d,d[11],_,i,s,!!a,l),Ad}function xd(i,s,a,l){try{return!1!==a(l)}catch(d){return of(i,d),!1}}function S_(i,s,a,l,d){return function p(_){if(_===Function)return l;const w=2&i.flags?vr(i.index,s):s;0==(32&s[2])&&uw(w);let b=xd(s,0,l,_),T=p.__ngNextListenerFn__;for(;T;)b=xd(s,0,T,_)&&b,T=T.__ngNextListenerFn__;return d&&!1===b&&(_.preventDefault(),_.returnValue=!1),b}}function x_(i=1){return function Bs(i){return(lt.lFrame.contextLView=function bl(i,s){for(;i>0;)s=s[15],i--;return s}(i,lt.lFrame.contextLView))[8]}(i)}function M_(i,s,a){return ic(i,"",s,"",a),M_}function ic(i,s,a,l,d){const p=be(),_=Bu(p,s,a,l);return _!==Rt&&pi(Pt(),mn(),p,i,_,p[11],d,!1),ic}function Fg(i,s,a,l,d){const p=i[a+1],_=null===s;let w=l?ta(p):It(p),b=!1;for(;0!==w&&(!1===b||_);){const S=i[w+1];k_(i[w],s)&&(b=!0,i[w+1]=l?My(S):fd(S)),w=l?ta(S):It(S)}b&&(i[a+1]=l?fd(p):My(p))}function k_(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&zs(i,s)>=0}function B_(i,s){return function Xs(i,s,a,l){const d=be(),p=Pt(),_=function Ei(i){const s=lt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}(2);p.firstUpdatePass&&function j_(i,s,a,l){const d=i.data;if(null===d[a+1]){const p=d[wr()],_=function Cf(i,s){return s>=i.expandoStartIndex}(i,a);(function Nd(i,s){return 0!=(i.flags&(s?16:32))})(p,l)&&null===s&&!_&&(s=!1),s=function qa(i,s,a,l){const d=function Ia(i){const s=lt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let p=l?s.residualClasses:s.residualStyles;if(null===d)0===(l?s.classBindings:s.styleBindings)&&(a=Rd(a=oc(null,i,s,a,l),s.attrs,l),p=null);else{const _=s.directiveStylingLast;if(-1===_||i[_]!==d)if(a=oc(d,i,s,a,l),null===p){let b=function zw(i,s,a){const l=a?s.classBindings:s.styleBindings;if(0!==It(l))return i[ta(l)]}(i,s,l);void 0!==b&&Array.isArray(b)&&(b=oc(null,i,s,b[1],l),b=Rd(b,s.attrs,l),function aI(i,s,a,l){i[ta(a?s.classBindings:s.styleBindings)]=l}(i,s,l,b))}else p=function H_(i,s,a){let l;const d=s.directiveEnd;for(let p=1+s.directiveStylingLast;p<d;p++)l=Rd(l,i[p].hostAttrs,a);return Rd(l,s.attrs,a)}(i,s,l)}return void 0!==p&&(l?s.residualClasses=p:s.residualStyles=p),a}(d,p,s,l),function jw(i,s,a,l,d,p){let _=p?s.classBindings:s.styleBindings,w=ta(_),b=It(_);i[l]=a;let S,T=!1;if(Array.isArray(a)){const k=a;S=k[1],(null===S||zs(k,S)>0)&&(T=!0)}else S=a;if(d)if(0!==b){const B=ta(i[w+1]);i[l+1]=Sy(B,w),0!==B&&(i[B+1]=na(i[B+1],l)),i[w+1]=function Yl(i,s){return 131071&i|s<<17}(i[w+1],l)}else i[l+1]=Sy(w,0),0!==w&&(i[w+1]=na(i[w+1],l)),w=l;else i[l+1]=Sy(b,0),0===w?w=l:i[b+1]=na(i[b+1],l),b=l;T&&(i[l+1]=fd(i[l+1])),Fg(i,S,l,!0),Fg(i,S,l,!1),function Hw(i,s,a,l,d){const p=d?i.residualClasses:i.residualStyles;null!=p&&"string"==typeof s&&zs(p,s)>=0&&(a[l+1]=My(a[l+1]))}(s,S,i,l,p),_=Sy(w,b),p?s.classBindings=_:s.styleBindings=_}(d,p,s,a,_,l)}}(p,i,_,l),s!==Rt&&Yr(d,_,s)&&function Lg(i,s,a,l,d,p,_,w){if(!(3&s.type))return;const b=i.data,T=b[w+1];Vg(function xy(i){return 1==(1&i)}(T)?Df(b,s,a,d,It(T),_):void 0)||(Vg(p)||function fC(i){return 2==(2&i)}(T)&&(p=Df(b,null,a,d,w,_)),function sC(i,s,a,l,d){const p=un(i);if(s)d?p?i.addClass(a,l):a.classList.add(l):p?i.removeClass(a,l):a.classList.remove(l);else{let _=-1===l.indexOf("-")?void 0:de.DashCase;if(null==d)p?i.removeStyle(a,l,_):a.style.removeProperty(l);else{const w="string"==typeof d&&d.endsWith("!important");w&&(d=d.slice(0,-10),_|=de.Important),p?i.setStyle(a,l,d,_):a.style.setProperty(l,d,w?"important":"")}}}(l,_,ho(wr(),a),d,p))}(p,p.data[wr()],d,d[11],i,d[_+1]=function Ww(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=ee(Zs(i)))),i}(s,a),l,_)}(i,s,null,!0),B_}function oc(i,s,a,l,d){let p=null;const _=a.directiveEnd;let w=a.directiveStylingLast;for(-1===w?w=a.directiveStart:w++;w<_&&(p=s[w],l=Rd(l,p.hostAttrs,d),p!==i);)w++;return null!==i&&(a.directiveStylingLast=w),l}function Rd(i,s,a){const l=a?1:2;let d=-1;if(null!==s)for(let p=0;p<s.length;p++){const _=s[p];"number"==typeof _?d=_:d===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),$n(i,_,!!a||s[++p]))}return void 0===i?null:i}function Df(i,s,a,l,d,p){const _=null===s;let w;for(;d>0;){const b=i[d],T=Array.isArray(b),S=T?b[1]:b,k=null===S;let B=a[d+1];B===Rt&&(B=k?at:void 0);let Z=k?kl(B,l):S===l?B:void 0;if(T&&!Vg(Z)&&(Z=kl(b,l)),Vg(Z)&&(w=Z,_))return w;const _e=i[d+1];d=_?ta(_e):It(_e)}if(null!==s){let b=p?s.residualClasses:s.residualStyles;null!=b&&(w=kl(b,l))}return w}function Vg(i){return void 0!==i}function G_(i,s=""){const a=be(),l=Pt(),d=i+20,p=l.firstCreatePass?gd(l,d,1,s,null):l.data[d],_=a[d]=function ad(i,s){return un(i)?i.createText(s):i.createTextNode(s)}(a[11],s);Qp(l,a,_,p),Zr(p,!1)}function Ug(i){return Pd("",i,""),Ug}function Pd(i,s,a){const l=be(),d=Bu(l,i,s,a);return d!==Rt&&ps(l,wr(),d),Pd}const Be=void 0;var xe=["en",[["a","p"],["AM","PM"],Be],[["AM","PM"],Be,Be],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Be,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Be,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Be,"{1} 'at' {0}",Be],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function fe(i){const a=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let Fn={};function J_(i){const s=function gI(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=iE(s);if(a)return a;const l=s.split("-")[0];if(a=iE(l),a)return a;if("en"===l)return xe;throw new Error(`Missing locale data for the locale "${i}".`)}function rE(i){return J_(i)[gt.PluralCase]}function iE(i){return i in Fn||(Fn[i]=Vt.ng&&Vt.ng.common&&Vt.ng.common.locales&&Vt.ng.common.locales[i]),Fn[i]}var gt=(()=>((gt=gt||{})[gt.LocaleId=0]="LocaleId",gt[gt.DayPeriodsFormat=1]="DayPeriodsFormat",gt[gt.DayPeriodsStandalone=2]="DayPeriodsStandalone",gt[gt.DaysFormat=3]="DaysFormat",gt[gt.DaysStandalone=4]="DaysStandalone",gt[gt.MonthsFormat=5]="MonthsFormat",gt[gt.MonthsStandalone=6]="MonthsStandalone",gt[gt.Eras=7]="Eras",gt[gt.FirstDayOfWeek=8]="FirstDayOfWeek",gt[gt.WeekendRange=9]="WeekendRange",gt[gt.DateFormat=10]="DateFormat",gt[gt.TimeFormat=11]="TimeFormat",gt[gt.DateTimeFormat=12]="DateTimeFormat",gt[gt.NumberSymbols=13]="NumberSymbols",gt[gt.NumberFormats=14]="NumberFormats",gt[gt.CurrencyCode=15]="CurrencyCode",gt[gt.CurrencySymbol=16]="CurrencySymbol",gt[gt.CurrencyName=17]="CurrencyName",gt[gt.Currencies=18]="Currencies",gt[gt.Directionality=19]="Directionality",gt[gt.PluralCase=20]="PluralCase",gt[gt.ExtraData=21]="ExtraData",gt))();const qg="en-US";let yt=qg;function kf(i,s,a,l,d){if(i=z(i),Array.isArray(i))for(let p=0;p<i.length;p++)kf(i[p],s,a,l,d);else{const p=Pt(),_=be();let w=ms(i)?i:z(i.provide),b=gw(i);const T=fn(),S=1048575&T.providerIndexes,k=T.directiveStart,B=T.providerIndexes>>20;if(ms(i)||!i.multi){const Z=new Bo(b,d,Ua),_e=Yg(w,s,d?S:S+B,k);-1===_e?(Hs(Nn(T,_),p,w),Wu(p,i,s.length),s.push(w),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),a.push(Z),_.push(Z)):(a[_e]=Z,_[_e]=Z)}else{const Z=Yg(w,s,S+B,k),_e=Yg(w,s,S,S+B),ke=Z>=0&&a[Z],$e=_e>=0&&a[_e];if(d&&!$e||!d&&!ke){Hs(Nn(T,_),p,w);const Je=function lv(i,s,a,l,d){const p=new Bo(i,a,Ua);return p.multi=[],p.index=s,p.componentProviders=0,ws(p,d,l&&!a),p}(d?wE:Ff,a.length,d,l,b);!d&&$e&&(a[_e].providerFactory=Je),Wu(p,i,s.length,0),s.push(w),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),a.push(Je),_.push(Je)}else Wu(p,i,Z>-1?Z:_e,ws(a[d?_e:Z],b,!d&&l));!d&&l&&$e&&a[_e].componentProviders++}}}function Wu(i,s,a,l){const d=ms(s),p=function VC(i){return!!i.useClass}(s);if(d||p){const b=(p?z(s.useClass):s).prototype.ngOnDestroy;if(b){const T=i.destroyHooks||(i.destroyHooks=[]);if(!d&&s.multi){const S=T.indexOf(a);-1===S?T.push(a,[l,b]):T[S+1].push(l,b)}else T.push(a,b)}}}function ws(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function Yg(i,s,a,l){for(let d=a;d<l;d++)if(s[d]===i)return d;return-1}function Ff(i,s,a,l){return Lf(this.multi,[])}function wE(i,s,a,l){const d=this.multi;let p;if(this.providerFactory){const _=this.providerFactory.componentProviders,w=Ci(a,a[1],this.providerFactory.index,l);p=w.slice(0,_),Lf(d,p);for(let b=_;b<w.length;b++)p.push(w[b])}else p=[],Lf(d,p);return p}function Lf(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function cv(i,s=[]){return a=>{a.providersResolver=(l,d)=>function uv(i,s,a){const l=Pt();if(l.firstCreatePass){const d=$r(i);kf(a,l.data,l.blueprint,d,!0),kf(s,l.data,l.blueprint,d,!1)}}(l,d?d(i):i,s)}}class bE{}class Jg{resolveComponentFactory(s){throw function CE(i){const s=Error(`No component factory found for ${ee(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let Qg=(()=>{class i{}return i.NULL=new Jg,i})();function MI(){return lc(fn(),be())}function lc(i,s){return new ca(_r(i,s))}let ca=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=MI,i})();function cc(i){return i instanceof ca?i.nativeElement:i}class Ku{}let IE=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function DE(){const i=be(),a=vr(fn().index,i);return function Wd(i){return i[11]}(vi(a)?a:i)}(),i})(),TE=(()=>{class i{}return i.\u0275prov=Qt({token:i,providedIn:"root",factory:()=>null}),i})();class Kd{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const AE=new Kd("13.3.1"),hv={};function Un(i,s,a,l,d=!1){for(;null!==a;){const p=s[a.index];if(null!==p&&l.push(tn(p)),ri(p))for(let w=10;w<p.length;w++){const b=p[w],T=b[1].firstChild;null!==T&&Un(b[1],b,T,l)}const _=a.type;if(8&_)Un(i,s,a.child,l);else if(32&_){const w=Ye(a,s);let b;for(;b=w();)l.push(b)}else if(16&_){const w=U0(s,a);if(Array.isArray(w))l.push(...w);else{const b=wn(s[16]);Un(b[1],b,w,l,!0)}}a=d?a.projectionNext:a.next}return l}class Yu{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return Un(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(ri(s)){const a=s[8],l=a?a.indexOf(this):-1;l>-1&&(my(s,l),ds(a,l))}this._attachedToViewContainer=!1}yy(this._lView[1],this._lView)}onDestroy(s){Y0(this._lView[1],this._lView,null,s)}markForCheck(){uw(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){cw(this._lView[1],this._lView,this.context)}checkNoChanges(){!function NC(i,s,a){Vs(!0);try{cw(i,s,a)}finally{Vs(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Me(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Yp(i,s){Xp(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Me(902,"");this._appRef=s}}class Xg extends Yu{constructor(s){super(s),this._view=s}detectChanges(){RC(this._view)}checkNoChanges(){!function dw(i){Vs(!0);try{RC(i)}finally{Vs(!1)}}(this._view)}get context(){return null}}class SE extends Qg{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=Ht(s);return new tm(a,this.ngModule)}}function em(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class tm extends bE{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function lC(i){return i.map(uC).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return em(this.componentDef.inputs)}get outputs(){return em(this.componentDef.outputs)}create(s,a,l,d){const p=(d=d||this.ngModule)?function xE(i,s){return{get:(a,l,d)=>{const p=i.get(a,hv,d);return p!==hv||l===hv?p:s.get(a,l,d)}}}(s,d.injector):s,_=p.get(Ku,Lo),w=p.get(TE,null),b=_.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",S=l?function K0(i,s,a){if(un(i))return i.selectRootElement(s,a===jt.ShadowDom);let l="string"==typeof s?i.querySelector(s):s;return l.textContent="",l}(b,l,this.componentDef.encapsulation):ld(_.createRenderer(null,this.componentDef),T,function RI(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(T)),k=this.componentDef.onPush?576:528,B=function Cw(i,s){return{components:[],scheduler:i||fy,clean:hw,playerHandler:s||null,flags:0}}(),Z=ug(0,null,null,1,0,null,null,null,null,null),_e=Ql(null,Z,B,k,null,null,_,b,w,p);let ke,$e;fo(_e);try{const Je=function vg(i,s,a,l,d,p){const _=a[1];a[20]=i;const b=gd(_,20,2,"#host",null),T=b.mergedAttrs=s.hostAttrs;null!==T&&(hg(b,T,!0),null!==i&&(dt(d,i,T),null!==b.classes&&Dy(d,i,b.classes),null!==b.styles&&Qh(d,i,b.styles)));const S=l.createRenderer(i,s),k=Ql(a,rf(s),null,s.onPush?64:16,a[20],b,l,S,p||null,null);return _.firstCreatePass&&(Hs(Nn(b,a),_,s.type),AC(_,b),ow(b,a.length,1)),cg(a,k),a[20]=k}(S,this.componentDef,_e,_,b);if(S)if(l)dt(b,S,["ng-version",AE.full]);else{const{attrs:Ce,classes:ct}=function YT(i){const s=[],a=[];let l=1,d=2;for(;l<i.length;){let p=i[l];if("string"==typeof p)2===d?""!==p&&s.push(p,i[++l]):8===d&&a.push(p);else{if(!Ks(d))break;d=p}l++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);Ce&&dt(b,S,Ce),ct&&ct.length>0&&Dy(b,S,ct.join(" "))}if($e=Ea(Z,20),void 0!==a){const Ce=$e.projection=[];for(let ct=0;ct<this.ngContentSelectors.length;ct++){const Ut=a[ct];Ce.push(null!=Ut?Array.from(Ut):null)}}ke=function wg(i,s,a,l,d){const p=a[1],_=function nw(i,s,a){const l=fn();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),Zy(i,l,s,md(i,s,1,null),a));const d=Ci(s,i,l.directiveStart,l);kr(d,s);const p=_r(l,s);return p&&kr(p,s),d}(p,a,s);if(l.components.push(_),i[8]=_,d&&d.forEach(b=>b(_,s)),s.contentQueries){const b=fn();s.contentQueries(1,_,b.directiveStart)}const w=fn();return!p.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(js(w.index),qy(a[1],w,0,w.directiveStart,w.directiveEnd,s),sw(s,_)),_}(Je,this.componentDef,_e,B,[jC]),ku(Z,_e,null)}finally{go()}return new ME(this.componentType,ke,lc($e,_e),_e,$e)}}class ME extends class EE{}{constructor(s,a,l,d,p){super(),this.location=l,this._rootLView=d,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new Xg(d),this.componentType=s}get injector(){return new Ii(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}class dc{}class Jd{}const Ju=new Map;class Zn extends dc{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new SE(this);const l=on(s);this._bootstrapComponents=g(l.bootstrap),this._r3Injector=fg(s,a,[{provide:dc,useValue:this},{provide:Qg,useValue:this.componentFactoryResolver}],ee(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=So.THROW_IF_NOT_FOUND,l=ot.Default){return s===So||s===dc||s===fw?this:this._r3Injector.get(s,a,l)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Qd extends Jd{constructor(s){super(),this.moduleType=s,null!==on(s)&&function Kt(i){const s=new Set;!function a(l){const d=on(l,!0),p=d.id;null!==p&&(function nr(i,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${i} - ${ee(s)} vs ${ee(s.name)}`)}(p,Ju.get(p),l),Ju.set(p,l));const _=g(d.imports);for(const w of _)s.has(w)||(s.add(w),a(w))}(i)}(s)}create(s){return new Zn(this.moduleType,s)}}function Ur(i,s,a){const l=lr()+i,d=be();return d[l]===Rt?ia(d,l,a?s.call(a):s()):function _d(i,s){return i[s]}(d,l)}function sn(i,s,a,l,d,p){const _=s+a;return Yr(i,_,d)?ia(i,_+1,p?l.call(p,d):l(d)):function Bf(i,s){const a=i[s];return a===Rt?void 0:a}(i,_+1)}function Hf(i,s){const a=Pt();let l;const d=i+20;a.firstCreatePass?(l=function PE(i,s){if(s)for(let a=s.length-1;a>=0;a--){const l=s[a];if(i===l.name)return l}}(s,a.pipeRegistry),a.data[d]=l,l.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(d,l.onDestroy)):l=a.data[d];const p=l.factory||(l.factory=Gr(l.type)),_=jn(Ua);try{const w=oi(!1),b=p();return oi(w),function Mw(i,s,a,l){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),s[a]=l}(a,be(),d,b),b}finally{jn(_)}}function gv(i,s,a){const l=i+20,d=be(),p=wi(d,l);return function $f(i,s){return i[1].data[s].pure}(d,l)?sn(d,lr(),s,p.transform,a,p):p.transform(a)}function mv(i){return s=>{setTimeout(i,void 0,s)}}const zi=class VI extends c.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,l){var d,p,_;let w=s,b=a||(()=>null),T=l;if(s&&"object"==typeof s){const k=s;w=null===(d=k.next)||void 0===d?void 0:d.bind(k),b=null===(p=k.error)||void 0===p?void 0:p.bind(k),T=null===(_=k.complete)||void 0===_?void 0:_.bind(k)}this.__isAsync&&(b=mv(b),w&&(w=mv(w)),T&&(T=mv(T)));const S=super.subscribe({next:w,error:b,complete:T});return s instanceof Q.w0&&s.add(S),S}};function VE(){return this._results[Vu()]()}class yv{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Vu(),l=yv.prototype;l[a]||(l[a]=VE)}get changes(){return this._changes||(this._changes=new zi)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const l=this;l.dirty=!1;const d=br(s);(this._changesDetected=!function Ml(i,s,a){if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++){let d=i[l],p=s[l];if(a&&(d=a(d),p=a(p)),p!==d)return!1}return!0}(l._results,d,a))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Wn=(()=>{class i{}return i.__NG_ELEMENT_ID__=Gf,i})();const _v=Wn,UE=class extends _v{constructor(s,a,l){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(s){const a=this._declarationTContainer.tViews,l=Ql(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(l[19]=p.createEmbeddedView(a)),ku(a,l,s),new Yu(l)}};function Gf(){return Es(fn(),be())}function Es(i,s){return 4&i.type?new UE(s,i,lc(i,s)):null}let nh=(()=>{class i{}return i.__NG_ELEMENT_ID__=BE,i})();function BE(){return jE(fn(),be())}const qf=nh,vv=class extends qf{constructor(s,a,l){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=l}get element(){return lc(this._hostTNode,this._hostLView)}get injector(){return new Ii(this._hostTNode,this._hostLView)}get parentInjector(){const s=ai(this._hostTNode,this._hostLView);if(jc(s)){const a=bi(s,this._hostLView),l=ln(s);return new Ii(a[1].data[l+8],a)}return new Ii(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=wv(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,l){const d=s.createEmbeddedView(a||{});return this.insert(d,l),d}createComponent(s,a,l,d,p){const _=s&&!function Zo(i){return"function"==typeof i}(s);let w;if(_)w=a;else{const k=a||{};w=k.index,l=k.injector,d=k.projectableNodes,p=k.ngModuleRef}const b=_?s:new tm(Ht(s)),T=l||this.parentInjector;if(!p&&null==b.ngModule){const B=(_?T:this.parentInjector).get(dc,null);B&&(p=B)}const S=b.create(T,d,void 0,p);return this.insert(S.hostView,w),S}insert(s,a){const l=s._lView,d=l[1];if(function du(i){return ri(i[3])}(l)){const S=this.indexOf(s);if(-1!==S)this.detach(S);else{const k=l[3],B=new vv(k,k[6],k[3]);B.detach(B.indexOf(s))}}const p=this._adjustIndex(a),_=this._lContainer;!function cd(i,s,a,l){const d=10+l,p=a.length;l>0&&(a[d-1][4]=s),l<p-10?(s[4]=a[d],Ol(a,10+l,s)):(a.push(s),s[4]=null),s[3]=a;const _=s[17];null!==_&&a!==_&&function dd(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(_,s);const w=s[19];null!==w&&w.insertView(i),s[2]|=128}(d,l,_,p);const w=by(p,_),b=l[11],T=Jh(b,_[7]);return null!==T&&function Kh(i,s,a,l,d,p){l[0]=d,l[6]=s,Xp(i,l,a,1,d,p)}(d,_[6],b,l,T,w),s.attachToViewContainerRef(),Ol(nm(_),p,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=wv(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),l=my(this._lContainer,a);l&&(ds(nm(this._lContainer),a),yy(l[1],l))}detach(s){const a=this._adjustIndex(s,-1),l=my(this._lContainer,a);return l&&null!=ds(nm(this._lContainer),a)?new Yu(l):null}_adjustIndex(s,a=0){return null==s?this.length+a:s}};function wv(i){return i[8]}function nm(i){return i[8]||(i[8]=[])}function jE(i,s){let a;const l=s[i.index];if(ri(l))a=l;else{let d;if(8&i.type)d=tn(l);else{const p=s[11];d=p.createComment("");const _=_r(i,s);fs(p,Jh(p,_),d,function nC(i,s){return un(i)?i.nextSibling(s):s.nextSibling}(p,_),!1)}s[i.index]=a=xC(l,s,d,i),cg(s,a)}return new vv(a,i,s)}class Ev{constructor(s){this.queryList=s,this.matches=null}clone(){return new Ev(this.queryList)}setDirty(){this.queryList.setDirty()}}class rm{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const l=null!==s.contentQueries?s.contentQueries[0]:a.length,d=[];for(let p=0;p<l;p++){const _=a.getByIndex(p);d.push(this.queries[_.indexInDeclarationView].clone())}return new rm(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==Zf(s,a).matches&&this.queries[a].setDirty()}}class bv{constructor(s,a,l=null){this.predicate=s,this.flags=a,this.read=l}}class im{constructor(s=[]){this.queries=s}elementStart(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let l=0;l<this.length;l++){const d=null!==a?a.length:0,p=this.getByIndex(l).embeddedTView(s,d);p&&(p.indexInDeclarationView=l,null!==a?a.push(p):a=[p])}return null!==a?new im(a):null}template(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Cv{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new Cv(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const p=l[d];this.matchTNodeWithReadOption(s,a,$E(a,p)),this.matchTNodeWithReadOption(s,a,$o(a,s,p,!1,!1))}else l===Wn?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,$o(a,s,l,!1,!1))}matchTNodeWithReadOption(s,a,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===ca||d===nh||d===Wn&&4&a.type)this.addMatch(a.index,-2);else{const p=$o(a,s,d,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,l)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function $E(i,s){const a=i.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===s)return a[l+1];return null}function jI(i,s,a,l){return-1===a?function BI(i,s){return 11&i.type?lc(i,s):4&i.type?Es(i,s):null}(s,i):-2===a?function rh(i,s,a){return a===ca?lc(s,i):a===Wn?Es(s,i):a===nh?jE(s,i):void 0}(i,s,l):Ci(i,i[1],a,s)}function fc(i,s,a,l){const d=s[19].queries[l];if(null===d.matches){const p=i.data,_=a.matches,w=[];for(let b=0;b<_.length;b+=2){const T=_[b];w.push(T<0?null:jI(s,p[T],_[b+1],a.metadata.read))}d.matches=w}return d.matches}function Iv(i,s,a,l){const d=i.queries.getByIndex(a),p=d.matches;if(null!==p){const _=fc(i,s,d,a);for(let w=0;w<p.length;w+=2){const b=p[w];if(b>0)l.push(_[w/2]);else{const T=p[w+1],S=s[-b];for(let k=10;k<S.length;k++){const B=S[k];B[17]===B[3]&&Iv(B[1],B,T,l)}if(null!==S[9]){const k=S[9];for(let B=0;B<k.length;B++){const Z=k[B];Iv(Z[1],Z,T,l)}}}}}return l}function GE(i){const s=be(),a=Pt(),l=vl();wl(l+1);const d=Zf(a,l);if(i.dirty&&ks(s)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const p=d.crossesNgTemplate?Iv(a,s,l,[]):fc(a,s,d,l);i.reset(p,cc),i.notifyOnChanges()}return!0}return!1}function Dv(i,s,a,l){const d=Pt();if(d.firstCreatePass){const p=fn();(function no(i,s,a){null===i.queries&&(i.queries=new im),i.queries.track(new Cv(s,a))})(d,new bv(s,a,l),p.index),function qE(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(d,i),2==(2&a)&&(d.staticContentQueries=!0)}!function Tv(i,s,a){const l=new yv(4==(4&a));Y0(i,s,l,l.destroy),null===s[19]&&(s[19]=new rm),s[19].queries.push(new Ev(l))}(d,be(),a)}function Ar(){return function $I(i,s){return i[19].queries[s].queryList}(be(),vl())}function Zf(i,s){return i.queries.getByIndex(s)}function Av(i,s){return Es(i,s)}function Ja(...i){}const Vv=new _n("Application Initializer");let Uv=(()=>{class i{constructor(a){this.appInits=a,this.resolve=Ja,this.reject=Ja,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const p=this.appInits[d]();if(Td(p))a.push(p);else if(En(p)){const _=new Promise((w,b)=>{p.subscribe({complete:w,error:b})});a.push(_)}}Promise.all(a).then(()=>{l()}).catch(d=>{this.reject(d)}),0===a.length&&l(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(We(Vv,8))},i.\u0275prov=Qt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const rb=new _n("AppId",{providedIn:"root",factory:function ib(){return`${da()}${da()}${da()}`}});function da(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Xu=new _n("Platform Initializer"),jv=new _n("Platform ID"),sb=new _n("appBootstrapListener");let lm=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Qt({token:i,factory:i.\u0275fac}),i})();const Hv=new _n("LocaleId",{providedIn:"root",factory:()=>xt(Hv,ot.Optional|ot.SkipSelf)||function cm(){return"undefined"!=typeof $localize&&$localize.locale||qg}()}),ob=new _n("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class ab{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let Zi=(()=>{class i{compileModuleSync(a){return new Qd(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),p=g(on(a).declarations).reduce((_,w)=>{const b=Ht(w);return b&&_.push(new tm(b)),_},[]);return new ab(l,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Qt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const zv=(()=>Promise.resolve(0))();function hm(i){"undefined"==typeof Zone?zv.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class yi{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new zi(!1),this.onMicrotaskEmpty=new zi(!1),this.onStable=new zi(!1),this.onError=new zi(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&a,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function el(){let i=Vt.requestAnimationFrame,s=Vt.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function ah(i){const s=()=>{!function tD(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Vt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,fm(i),i.isCheckStableRunning=!0,Qa(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),fm(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,d,p,_,w)=>{try{return Xa(i),a.invokeTask(d,p,_,w)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||i.shouldCoalesceRunChangeDetection)&&s(),tl(i)}},onInvoke:(a,l,d,p,_,w,b)=>{try{return Xa(i),a.invoke(d,p,_,w,b)}finally{i.shouldCoalesceRunChangeDetection&&s(),tl(i)}},onHasTask:(a,l,d,p)=>{a.hasTask(d,p),l===d&&("microTask"==p.change?(i._hasPendingMicrotasks=p.microTask,fm(i),Qa(i)):"macroTask"==p.change&&(i.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,l,d,p)=>(a.handleError(d,p),i.runOutsideAngular(()=>i.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!yi.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(yi.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,l){return this._inner.run(s,a,l)}runTask(s,a,l,d){const p=this._inner,_=p.scheduleEventTask("NgZoneEvent: "+d,s,lb,Ja,Ja);try{return p.runTask(_,a,l)}finally{p.cancelTask(_)}}runGuarded(s,a,l){return this._inner.runGuarded(s,a,l)}runOutsideAngular(s){return this._outer.run(s)}}const lb={};function Qa(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function fm(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Xa(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function tl(i){i._nesting--,Qa(i)}class Zv{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new zi,this.onMicrotaskEmpty=new zi,this.onStable=new zi,this.onError=new zi}run(s,a,l){return s.apply(a,l)}runGuarded(s,a,l){return s.apply(a,l)}runOutsideAngular(s){return s()}runTask(s,a,l,d){return s.apply(a,l)}}let Wv=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{yi.assertNotInAngularZone(),hm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())hm(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,d){let p=-1;l&&l>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==p),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:d})}whenStable(a,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,l,d){return[]}}return i.\u0275fac=function(a){return new(a||i)(We(yi))},i.\u0275prov=Qt({token:i,factory:i.\u0275fac}),i})(),cb=(()=>{class i{constructor(){this._applications=new Map,Kv.addToWindow(this)}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return Kv.findTestabilityInTree(this,a,l)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Qt({token:i,factory:i.\u0275fac}),i})();class nD{addToWindow(s){}findTestabilityInTree(s,a,l){return null}}function rD(i){Kv=i}let Wi,Kv=new nD;const Yv=new _n("AllowMultipleToken");class yc{constructor(s,a){this.name=s,this.token=a}}function Jv(i,s,a=[]){const l=`Platform: ${s}`,d=new _n(l);return(p=[])=>{let _=Qv();if(!_||_.injector.get(Yv,!1))if(i)i(a.concat(p).concat({provide:d,useValue:!0}));else{const w=a.concat(p).concat({provide:d,useValue:!0},{provide:e_,useValue:"platform"});!function Qf(i){if(Wi&&!Wi.destroyed&&!Wi.injector.get(Yv,!1))throw new Me(400,"");Wi=i.get(pm);const s=i.get(Xu,null);s&&s.forEach(a=>a())}(So.create({providers:w,name:l}))}return function hb(i){const s=Qv();if(!s)throw new Me(401,"");return s}()}}function Qv(){return Wi&&!Wi.destroyed?Wi:null}let pm=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const w=function Xv(i,s){let a;return a="noop"===i?new Zv:("zone.js"===i?void 0:i)||new yi({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),a}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),b=[{provide:yi,useValue:w}];return w.run(()=>{const T=So.create({providers:b,parent:this.injector,name:a.moduleType.name}),S=a.create(T),k=S.injector.get(Ir,null);if(!k)throw new Me(402,"");return w.runOutsideAngular(()=>{const B=w.onError.subscribe({next:Z=>{k.handleError(Z)}});S.onDestroy(()=>{e0(this._modules,S),B.unsubscribe()})}),function Xf(i,s,a){try{const l=a();return Td(l)?l.catch(d=>{throw s.runOutsideAngular(()=>i.handleError(d)),d}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}(k,w,()=>{const B=S.injector.get(Uv);return B.runInitializers(),B.donePromise.then(()=>(function oE(i){it(i,"Expected localeId to be defined"),"string"==typeof i&&(yt=i.toLowerCase().replace(/_/g,"-"))}(S.injector.get(Hv,qg)||qg),this._moduleDoBootstrap(S),S))})})}bootstrapModule(a,l=[]){const d=ep({},l);return function db(i,s,a){const l=new Qd(a);return Promise.resolve(l)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,d))}_moduleDoBootstrap(a){const l=a.injector.get(tp);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new Me(403,"");a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Me(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(We(So))},i.\u0275prov=Qt({token:i,factory:i.\u0275fac}),i})();function ep(i,s){return Array.isArray(s)?s.reduce(ep,i):Object.assign(Object.assign({},i),s)}let tp=(()=>{class i{constructor(a,l,d,p,_){this._zone=a,this._injector=l,this._exceptionHandler=d,this._componentFactoryResolver=p,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new P.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),b=new P.y(T=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{yi.assertNotInAngularZone(),hm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{yi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{S.unsubscribe(),k.unsubscribe()}});this.isStable=(0,ae.T)(w,b.pipe((0,Y.B)()))}bootstrap(a,l){if(!this._initStatus.done)throw new Me(405,"");let d;d=a instanceof bE?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(d.componentType);const p=function iD(i){return i.isBoundToModule}(d)?void 0:this._injector.get(dc),w=d.create(So.NULL,[],l||d.selector,p),b=w.location.nativeElement,T=w.injector.get(Wv,null),S=T&&w.injector.get(cb);return T&&S&&S.registerApplication(b,T),w.onDestroy(()=>{this.detachView(w.hostView),e0(this.components,w),S&&S.unregisterApplication(b)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Me(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;e0(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(sb,[]).concat(this._bootstrapListeners).forEach(d=>d(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)(We(yi),We(So),We(Ir),We(Qg),We(Uv))},i.\u0275prov=Qt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function e0(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}let pb=!0,t0=!1;function gb(){return t0=!0,pb}function n0(){if(t0)throw new Error("Cannot enable prod mode after platform setup.");pb=!1}let yb=(()=>{class i{}return i.__NG_ELEMENT_ID__=oD,i})();function oD(i){return function uh(i,s,a){if(Ms(i)&&!a){const l=vr(i.index,s);return new Yu(l,l)}return 47&i.type?new Yu(s[16],s):null}(fn(),be(),16==(16&i))}class u0{constructor(){}supports(s){return ec(s)}create(s){return new vm(s)}}const l0=(i,s)=>s;class vm{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||l0}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,l=this._removalsHead,d=0,p=null;for(;a||l;){const _=!l||a&&a.currentIndex<bm(l,d,p)?a:l,w=bm(_,d,p),b=_.currentIndex;if(_===l)d--,l=l._nextRemoved;else if(a=a._next,null==_.previousIndex)d++;else{p||(p=[]);const T=w-d,S=b-d;if(T!=S){for(let B=0;B<T;B++){const Z=B<p.length?p[B]:p[B]=0,_e=Z+B;S<=_e&&_e<T&&(p[B]=Z+1)}p[_.previousIndex]=S-T}}w!==b&&s(_,w,b)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!ec(s))throw new Me(900,"");return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,p,_,a=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let w=0;w<this.length;w++)p=s[w],_=this._trackByFn(w,p),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,p,_,w)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,_,w),l=!0),a=a._next}else d=0,function Dw(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[Vu()]();let l;for(;!(l=a.next()).done;)s(l.value)}}(s,w=>{_=this._trackByFn(d,w),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,w,_,d)),Object.is(a.item,w)||this._addIdentityChange(a,w)):(a=this._mismatch(a,w,_,d),l=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,l,d){let p;return null===s?p=this._itTail:(p=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,p,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,p,d)):s=this._addAfter(new ip(a,l),p,d),s}_verifyReinsertion(s,a,l,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==p?s=this._reinsertAfter(p,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,p=s._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(s,a,l),this._addToMoves(s,l),s}_moveAfter(s,a,l){return this._unlink(s),this._insertAfter(s,a,l),this._addToMoves(s,l),s}_addAfter(s,a,l){return this._insertAfter(s,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,l){const d=null===a?this._itHead:a._next;return s._next=d,s._prev=a,null===d?this._itTail=s:d._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new Em),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,l=s._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Em),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class ip{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class wm{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const a=s._prevDup,l=s._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class Em{constructor(){this.map=new Map}put(s){const a=s.trackById;let l=this.map.get(a);l||(l=new wm,this.map.set(a,l)),l.add(s)}get(s,a){const d=this.map.get(s);return d?d.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function bm(i,s,a){const l=i.previousIndex;if(null===l)return l;let d=0;return a&&l<a.length&&(d=a[l]),l+s+d}class Cm{constructor(){}supports(s){return s instanceof Map||bg(s)}create(){return new bb}}class bb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||bg(s)))throw new Me(900,"")}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(d,l);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const l=s._prev;return a._next=s,a._prev=l,s._prev=a,l&&(l._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,a);const p=d._prev,_=d._next;return p&&(p._next=_),_&&(_._prev=p),d._next=null,d._prev=null,d}const l=new hD(s);return this._records.set(s,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(l=>a(s[l],l))}}class hD{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function c0(){return new d0([new u0])}let d0=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(null!=l){const d=l.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||c0()),deps:[[i,new Eo,new ci]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(null!=l)return l;throw new Me(901,"")}}return i.\u0275prov=Qt({token:i,providedIn:"root",factory:c0}),i})();function Cb(){return new Im([new Cm])}let Im=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(l){const d=l.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||Cb()),deps:[[i,new Eo,new ci]]}}find(a){const l=this.factories.find(p=>p.supports(a));if(l)return l;throw new Me(901,"")}}return i.\u0275prov=Qt({token:i,providedIn:"root",factory:Cb}),i})();const pD=Jv(null,"core",[{provide:jv,useValue:"unknown"},{provide:pm,deps:[So]},{provide:cb,deps:[]},{provide:lm,deps:[]}]);let gD=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(We(tp))},i.\u0275mod=te({type:i}),i.\u0275inj=Wt({}),i})()},3942:(nt,Ie,N)=>{N.d(Ie,{Z:()=>Me});var c=N(2090),Q=N(4859),P=N(9681),ae=N(1877);class Y{constructor(ie,Ee){this._delegate=ie,this.firebase=Ee,(0,P._addComponent)(ie,new Q.wA("app-compat",()=>this,"PUBLIC")),this.container=ie.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ie){this._delegate.automaticDataCollectionEnabled=ie}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ie=>{this._delegate.checkDestroyed(),ie()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(ie,Ee=P._DEFAULT_ENTRY_NAME){var qe;this._delegate.checkDestroyed();const ze=this._delegate.container.getProvider(ie);return!ze.isInitialized()&&"EXPLICIT"===(null===(qe=ze.getComponent())||void 0===qe?void 0:qe.instantiationMode)&&ze.initialize(),ze.getImmediate({identifier:Ee})}_removeServiceInstance(ie,Ee=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ie).clearInstance(Ee)}_addComponent(ie){(0,P._addComponent)(this._delegate,ie)}_addOrOverwriteComponent(ie){(0,P._addOrOverwriteComponent)(this._delegate,ie)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const J=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),U=function X(){const Re=function ee(Re){const ie={},Ee={__esModule:!0,initializeApp:function De(He,oe={}){const W=P.initializeApp(He,oe);if((0,c.r3)(ie,W.name))return ie[W.name];const ue=new Re(W,Ee);return ie[W.name]=ue,ue},app:ze,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function we(He){const oe=He.name,W=oe.replace("-compat","");if(P._registerComponent(He)&&"PUBLIC"===He.type){const ue=(me=ze())=>{if("function"!=typeof me[W])throw J.create("invalid-app-argument",{appName:oe});return me[W]()};void 0!==He.serviceProps&&(0,c.ZB)(ue,He.serviceProps),Ee[W]=ue,Re.prototype[W]=function(...me){return this._getService.bind(this,oe).apply(this,He.multipleInstances?me:[])}}return"PUBLIC"===He.type?Ee[W]:null},removeApp:function qe(He){delete ie[He]},useAsService:function Ge(He,oe){return"serverAuth"===oe?null:oe},modularAPIs:P}};function ze(He){if(!(0,c.r3)(ie,He=He||P._DEFAULT_ENTRY_NAME))throw J.create("no-app",{appName:He});return ie[He]}return Ee.default=Ee,Object.defineProperty(Ee,"apps",{get:function ve(){return Object.keys(ie).map(He=>ie[He])}}),ze.App=Re,Ee}(Y);return Re.INTERNAL=Object.assign(Object.assign({},Re.INTERNAL),{createFirebaseNamespace:X,extendNamespace:function ie(Ee){(0,c.ZB)(Re,Ee)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),Re}(),V=new ae.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){V.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Re=self.firebase.SDK_VERSION;Re&&Re.indexOf("LITE")>=0&&V.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Me=U;!function le(Re){(0,P.registerVersion)("@firebase/app-compat","0.1.21",Re)}()},9681:(nt,Ie,N)=>{N.r(Ie),N.d(Ie,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>xr,_DEFAULT_ENTRY_NAME:()=>In,_addComponent:()=>rn,_addOrOverwriteComponent:()=>_i,_apps:()=>ht,_clearComponents:()=>Bt,_components:()=>nn,_getProvider:()=>Ji,_registerComponent:()=>Qt,_removeServiceInstance:()=>Wt,deleteApp:()=>Xi,getApp:()=>Mr,getApps:()=>Qi,initializeApp:()=>Pi,onLog:()=>Yn,registerVersion:()=>Hr,setLogLevel:()=>jn});var c=N(5861),Q=N(4859),P=N(1877),ae=N(2090);class Y{constructor(Te){this.container=Te}getPlatformInfoString(){return this.container.getProviders().map(Ke=>{if(function re(Ze){const Te=Ze.getComponent();return"VERSION"===(null==Te?void 0:Te.type)}(Ke)){const ut=Ke.getImmediate();return`${ut.library}/${ut.version}`}return null}).filter(Ke=>Ke).join(" ")}}const J="@firebase/app",X=new P.Yd("@firebase/app"),In="[DEFAULT]",it={[J]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ht=new Map,nn=new Map;function rn(Ze,Te){try{Ze.container.addComponent(Te)}catch(Ke){X.debug(`Component ${Te.name} failed to register with FirebaseApp ${Ze.name}`,Ke)}}function _i(Ze,Te){Ze.container.addOrOverwriteComponent(Te)}function Qt(Ze){const Te=Ze.name;if(nn.has(Te))return X.debug(`There were multiple attempts to register component ${Te}.`),!1;nn.set(Te,Ze);for(const Ke of ht.values())rn(Ke,Ze);return!0}function Ji(Ze,Te){const Ke=Ze.container.getProvider("heartbeat").getImmediate({optional:!0});return Ke&&Ke.triggerHeartbeat(),Ze.container.getProvider(Te)}function Wt(Ze,Te,Ke=In){Ji(Ze,Te).clearInstance(Ke)}function Bt(){nn.clear()}const ei=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Ds{constructor(Te,Ke,ut){this._isDeleted=!1,this._options=Object.assign({},Te),this._config=Object.assign({},Ke),this._name=Ke.name,this._automaticDataCollectionEnabled=Ke.automaticDataCollectionEnabled,this._container=ut,this.container.addComponent(new Q.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Te){this.checkDestroyed(),this._automaticDataCollectionEnabled=Te}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Te){this._isDeleted=Te}checkDestroyed(){if(this.isDeleted)throw ei.create("app-deleted",{appName:this._name})}}const xr="9.6.10";function Pi(Ze,Te={}){"object"!=typeof Te&&(Te={name:Te});const Ke=Object.assign({name:In,automaticDataCollectionEnabled:!1},Te),ut=Ke.name;if("string"!=typeof ut||!ut)throw ei.create("bad-app-name",{appName:String(ut)});const Lt=ht.get(ut);if(Lt){if((0,ae.vZ)(Ze,Lt.options)&&(0,ae.vZ)(Ke,Lt.config))return Lt;throw ei.create("duplicate-app",{appName:ut})}const Nt=new Q.H0(ut);for(const L of nn.values())Nt.addComponent(L);const j=new Ds(Ze,Ke,Nt);return ht.set(ut,j),j}function Mr(Ze=In){const Te=ht.get(Ze);if(!Te)throw ei.create("no-app",{appName:Ze});return Te}function Qi(){return Array.from(ht.values())}function Xi(Ze){return ot.apply(this,arguments)}function ot(){return(ot=(0,c.Z)(function*(Ze){const Te=Ze.name;ht.has(Te)&&(ht.delete(Te),yield Promise.all(Ze.container.getProviders().map(Ke=>Ke.delete())),Ze.isDeleted=!0)})).apply(this,arguments)}function Hr(Ze,Te,Ke){var ut;let Lt=null!==(ut=it[Ze])&&void 0!==ut?ut:Ze;Ke&&(Lt+=`-${Ke}`);const Nt=Lt.match(/\s|\//),j=Te.match(/\s|\//);if(Nt||j){const L=[`Unable to register library "${Lt}" with version "${Te}":`];return Nt&&L.push(`library name "${Lt}" contains illegal characters (whitespace or "/")`),Nt&&j&&L.push("and"),j&&L.push(`version name "${Te}" contains illegal characters (whitespace or "/")`),void X.warn(L.join(" "))}Qt(new Q.wA(`${Lt}-version`,()=>({library:Lt,version:Te}),"VERSION"))}function Yn(Ze,Te){if(null!==Ze&&"function"!=typeof Ze)throw ei.create("invalid-log-argument");(0,P.Am)(Ze,Te)}function jn(Ze){(0,P.Ub)(Ze)}const dn="firebase-heartbeat-store";let Jn=null;function Ts(){return Jn||(Jn=(0,ae.X3)("firebase-heartbeat-database",1,(Ze,Te)=>{0===Te&&Ze.createObjectStore(dn)}).catch(Ze=>{throw ei.create("storage-open",{originalErrorMessage:Ze.message})})),Jn}function jt(){return(jt=(0,c.Z)(function*(Ze){try{return(yield Ts()).transaction(dn).objectStore(dn).get(sr(Ze))}catch(Te){throw ei.create("storage-get",{originalErrorMessage:Te.message})}})).apply(this,arguments)}function tt(Ze,Te){return mt.apply(this,arguments)}function mt(){return(mt=(0,c.Z)(function*(Ze,Te){try{const ut=(yield Ts()).transaction(dn,"readwrite");return yield ut.objectStore(dn).put(Te,sr(Ze)),ut.complete}catch(Ke){throw ei.create("storage-set",{originalErrorMessage:Ke.message})}})).apply(this,arguments)}function sr(Ze){return`${Ze.name}!${Ze.options.appId}`}class io{constructor(Te){this.container=Te,this._heartbeatsCache=null;const Ke=this.container.getProvider("app").getImmediate();this._storage=new at(Ke),this._heartbeatsCachePromise=this._storage.read().then(ut=>(this._heartbeatsCache=ut,ut))}triggerHeartbeat(){var Te=this;return(0,c.Z)(function*(){const ut=Te.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Lt=gr();if(null===Te._heartbeatsCache&&(Te._heartbeatsCache=yield Te._heartbeatsCachePromise),Te._heartbeatsCache.lastSentHeartbeatDate!==Lt&&!Te._heartbeatsCache.heartbeats.some(Nt=>Nt.date===Lt))return Te._heartbeatsCache.heartbeats.push({date:Lt,agent:ut}),Te._heartbeatsCache.heartbeats=Te._heartbeatsCache.heartbeats.filter(Nt=>{const j=new Date(Nt.date).valueOf();return Date.now()-j<=2592e6}),Te._storage.overwrite(Te._heartbeatsCache)})()}getHeartbeatsHeader(){var Te=this;return(0,c.Z)(function*(){if(null===Te._heartbeatsCache&&(yield Te._heartbeatsCachePromise),null===Te._heartbeatsCache||0===Te._heartbeatsCache.heartbeats.length)return"";const Ke=gr(),{heartbeatsToSend:ut,unsentEntries:Lt}=function or(Ze,Te=1024){const Ke=[];let ut=Ze.slice();for(const Lt of Ze){const Nt=Ke.find(j=>j.agent===Lt.agent);if(Nt){if(Nt.dates.push(Lt.date),mr(Ke)>Te){Nt.dates.pop();break}}else if(Ke.push({agent:Lt.agent,dates:[Lt.date]}),mr(Ke)>Te){Ke.pop();break}ut=ut.slice(1)}return{heartbeatsToSend:Ke,unsentEntries:ut}}(Te._heartbeatsCache.heartbeats),Nt=(0,ae.L)(JSON.stringify({version:2,heartbeats:ut}));return Te._heartbeatsCache.lastSentHeartbeatDate=Ke,Lt.length>0?(Te._heartbeatsCache.heartbeats=Lt,yield Te._storage.overwrite(Te._heartbeatsCache)):(Te._heartbeatsCache.heartbeats=[],Te._storage.overwrite(Te._heartbeatsCache)),Nt})()}}function gr(){return(new Date).toISOString().substring(0,10)}class at{constructor(Te){this.app=Te,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Te=this;return(0,c.Z)(function*(){return(yield Te._canUseIndexedDBPromise)&&(yield function ga(Ze){return jt.apply(this,arguments)}(Te.app))||{heartbeats:[]}})()}overwrite(Te){var Ke=this;return(0,c.Z)(function*(){var ut;if(yield Ke._canUseIndexedDBPromise){const Nt=yield Ke.read();return tt(Ke.app,{lastSentHeartbeatDate:null!==(ut=Te.lastSentHeartbeatDate)&&void 0!==ut?ut:Nt.lastSentHeartbeatDate,heartbeats:Te.heartbeats})}})()}add(Te){var Ke=this;return(0,c.Z)(function*(){var ut;if(yield Ke._canUseIndexedDBPromise){const Nt=yield Ke.read();return tt(Ke.app,{lastSentHeartbeatDate:null!==(ut=Te.lastSentHeartbeatDate)&&void 0!==ut?ut:Nt.lastSentHeartbeatDate,heartbeats:[...Nt.heartbeats,...Te.heartbeats]})}})()}}function mr(Ze){return(0,ae.L)(JSON.stringify({version:2,heartbeats:Ze})).length}!function kt(Ze){Qt(new Q.wA("platform-logger",Te=>new Y(Te),"PRIVATE")),Qt(new Q.wA("heartbeat",Te=>new io(Te),"PRIVATE")),Hr(J,"0.7.20",Ze),Hr(J,"0.7.20","esm2017"),Hr("fire-js","")}("")},4859:(nt,Ie,N)=>{N.d(Ie,{H0:()=>ee,wA:()=>P});var c=N(5861),Q=N(2090);class P{constructor(U,V,z){this.name=U,this.instanceFactory=V,this.type=z,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(U){return this.instantiationMode=U,this}setMultipleInstances(U){return this.multipleInstances=U,this}setServiceProps(U){return this.serviceProps=U,this}setInstanceCreatedCallback(U){return this.onInstanceCreated=U,this}}const ae="[DEFAULT]";class Y{constructor(U,V){this.name=U,this.container=V,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(U){const V=this.normalizeInstanceIdentifier(U);if(!this.instancesDeferred.has(V)){const z=new Q.BH;if(this.instancesDeferred.set(V,z),this.isInitialized(V)||this.shouldAutoInitialize())try{const Le=this.getOrInitializeService({instanceIdentifier:V});Le&&z.resolve(Le)}catch(Le){}}return this.instancesDeferred.get(V).promise}getImmediate(U){var V;const z=this.normalizeInstanceIdentifier(null==U?void 0:U.identifier),Le=null!==(V=null==U?void 0:U.optional)&&void 0!==V&&V;if(!this.isInitialized(z)&&!this.shouldAutoInitialize()){if(Le)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:z})}catch(le){if(Le)return null;throw le}}getComponent(){return this.component}setComponent(U){if(U.name!==this.name)throw Error(`Mismatching Component ${U.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=U,this.shouldAutoInitialize()){if(function J(X){return"EAGER"===X.instantiationMode}(U))try{this.getOrInitializeService({instanceIdentifier:ae})}catch(V){}for(const[V,z]of this.instancesDeferred.entries()){const Le=this.normalizeInstanceIdentifier(V);try{const le=this.getOrInitializeService({instanceIdentifier:Le});z.resolve(le)}catch(le){}}}}clearInstance(U=ae){this.instancesDeferred.delete(U),this.instancesOptions.delete(U),this.instances.delete(U)}delete(){var U=this;return(0,c.Z)(function*(){const V=Array.from(U.instances.values());yield Promise.all([...V.filter(z=>"INTERNAL"in z).map(z=>z.INTERNAL.delete()),...V.filter(z=>"_delete"in z).map(z=>z._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(U=ae){return this.instances.has(U)}getOptions(U=ae){return this.instancesOptions.get(U)||{}}initialize(U={}){const{options:V={}}=U,z=this.normalizeInstanceIdentifier(U.instanceIdentifier);if(this.isInitialized(z))throw Error(`${this.name}(${z}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Le=this.getOrInitializeService({instanceIdentifier:z,options:V});for(const[le,Me]of this.instancesDeferred.entries())z===this.normalizeInstanceIdentifier(le)&&Me.resolve(Le);return Le}onInit(U,V){var z;const Le=this.normalizeInstanceIdentifier(V),le=null!==(z=this.onInitCallbacks.get(Le))&&void 0!==z?z:new Set;le.add(U),this.onInitCallbacks.set(Le,le);const Me=this.instances.get(Le);return Me&&U(Me,Le),()=>{le.delete(U)}}invokeOnInitCallbacks(U,V){const z=this.onInitCallbacks.get(V);if(z)for(const Le of z)try{Le(U,V)}catch(le){}}getOrInitializeService({instanceIdentifier:U,options:V={}}){let z=this.instances.get(U);if(!z&&this.component&&(z=this.component.instanceFactory(this.container,{instanceIdentifier:(X=U,X===ae?void 0:X),options:V}),this.instances.set(U,z),this.instancesOptions.set(U,V),this.invokeOnInitCallbacks(z,U),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,U,z)}catch(Le){}var X;return z||null}normalizeInstanceIdentifier(U=ae){return this.component?this.component.multipleInstances?U:ae:U}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ee{constructor(U){this.name=U,this.providers=new Map}addComponent(U){const V=this.getProvider(U.name);if(V.isComponentSet())throw new Error(`Component ${U.name} has already been registered with ${this.name}`);V.setComponent(U)}addOrOverwriteComponent(U){this.getProvider(U.name).isComponentSet()&&this.providers.delete(U.name),this.addComponent(U)}getProvider(U){if(this.providers.has(U))return this.providers.get(U);const V=new Y(U,this);return this.providers.set(U,V),V}getProviders(){return Array.from(this.providers.values())}}},1877:(nt,Ie,N)=>{N.d(Ie,{Am:()=>X,Ub:()=>ee,Yd:()=>J,in:()=>Q});const c=[];var Q=(()=>{return(U=Q||(Q={}))[U.DEBUG=0]="DEBUG",U[U.VERBOSE=1]="VERBOSE",U[U.INFO=2]="INFO",U[U.WARN=3]="WARN",U[U.ERROR=4]="ERROR",U[U.SILENT=5]="SILENT",Q;var U})();const P={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},ae=Q.INFO,Y={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},re=(U,V,...z)=>{if(V<U.logLevel)return;const Le=(new Date).toISOString(),le=Y[V];if(!le)throw new Error(`Attempted to log a message with an invalid logType (value: ${V})`);console[le](`[${Le}]  ${U.name}:`,...z)};class J{constructor(V){this.name=V,this._logLevel=ae,this._logHandler=re,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(V){if(!(V in Q))throw new TypeError(`Invalid value "${V}" assigned to \`logLevel\``);this._logLevel=V}setLogLevel(V){this._logLevel="string"==typeof V?P[V]:V}get logHandler(){return this._logHandler}set logHandler(V){if("function"!=typeof V)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=V}get userLogHandler(){return this._userLogHandler}set userLogHandler(V){this._userLogHandler=V}debug(...V){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...V),this._logHandler(this,Q.DEBUG,...V)}log(...V){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...V),this._logHandler(this,Q.VERBOSE,...V)}info(...V){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...V),this._logHandler(this,Q.INFO,...V)}warn(...V){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...V),this._logHandler(this,Q.WARN,...V)}error(...V){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...V),this._logHandler(this,Q.ERROR,...V)}}function ee(U){c.forEach(V=>{V.setLogLevel(U)})}function X(U,V){for(const z of c){let Le=null;V&&V.level&&(Le=P[V.level]),z.userLogHandler=null===U?null:(le,Me,...Re)=>{const ie=Re.map(Ee=>{if(null==Ee)return null;if("string"==typeof Ee)return Ee;if("number"==typeof Ee||"boolean"==typeof Ee)return Ee.toString();if(Ee instanceof Error)return Ee.message;try{return JSON.stringify(Ee)}catch(qe){return null}}).filter(Ee=>Ee).join(" ");Me>=(null!=Le?Le:le.logLevel)&&U({level:Q[Me].toLowerCase(),message:ie,args:Re,type:le.name})}}}},5861:(nt,Ie,N)=>{function c(P,ae,Y,re,J,ee,X){try{var U=P[ee](X),V=U.value}catch(z){return void Y(z)}U.done?ae(V):Promise.resolve(V).then(re,J)}function Q(P){return function(){var ae=this,Y=arguments;return new Promise(function(re,J){var ee=P.apply(ae,Y);function X(V){c(ee,re,J,X,U,"next",V)}function U(V){c(ee,re,J,X,U,"throw",V)}X(void 0)})}}N.d(Ie,{Z:()=>Q})}},nt=>{nt(nt.s=4549)}]);